<html lang="ru" class="demo "><head>
  <meta charset="UTF-8">
  <title>Старт -  Интернет банк - Банк Санкт-Петербург</title>
  <meta name="description" content="Попробуйте наш интернет-банк! Открытие и закрытие счетов, заказ карт, подача заявки на кредит и оплата любых услуг онлайн">
  <meta name="keywords" content="интернет банк,личный кабинет,интернет банк бспб,ibspb,бспб интернет">
  <meta name="build" content="release-2022-08-vbk-first-part.89">

  <link rel="icon" type="image/x-icon" href="/public/images/favicon.ico">
  <meta name="format-detection" content="telephone=no">

  
  
  <link rel="stylesheet" type="text/css" media="screen" href="https://idemo.bspb.ru/public/gen/lib.css?805d352e7d9">
  <link rel="stylesheet" type="text/css" media="screen" href="https://idemo.bspb.ru/public/gen/main.css?805d352e7d9">
  <link rel="stylesheet" type="text/css" href="/public/fonts/icomoon/style.css?805d352e7d9" media="screen">
  <link rel="stylesheet" type="text/css" href="/public/stylesheets/print.css?805d352e7d9" media="print">

  

  
  <script type="text/javascript" async="" src="https://idemo.bspb.ru/public/javascripts/adrum/adrum-ext.97655c10e7b91050c0196f6fd1b25fa5.js"></script><script async="" src="https://www.google-analytics.com/analytics.js"></script><script async="" src="https://mc.yandex.ru/metrika/tag.js"></script><script src="/public/gen/vendor.js?805d352e7d9"></script>
  <script src="/public/gen/main.js?805d352e7d9"></script>


  
  <script>function i18n(n){var r=MESSAGES[n];return r||console.error("i18n() is used with key: "+n),r||n}</script>
<script>
  window.MESSAGES = {"Delete":"Удалить","validation.amountExceedsIntrabankDailyLimit":"Вы исчерпали установленный вами дневной лимит на переводы внутри Банка. Попробуйте совершить перевод завтра или обратитесь в офис Банка, чтобы снять это ограничение.","validation.loan.insuranceConfirmation":"Уважаемый клиент! Подтверждение оплаты страховки по договору %2$s может сформировать только владелец счета","validation.inFutureNotAllowed":"Дата не может быть в будущем","validation.future":"Дата должна быть в будущем","validation.email":"Неверный e-mail","validation.partialRepayment.earlyPartialRepaymentNotAllowedForThisCustomer":"Уважаемый клиент! Заявление на частичное досрочное погашение по договору %2$s может сформировать только владелец счета","validation.invalidRussianPhone":"Российский номер должен начинаться на 7 и содержать 11 цифр","validation.newCustomerNotSyncedBetweenBackends":"Операция на данный момент невозможна. Повторите попытку позже.","validation.internationalPayment.conversionNotAllowedForFuture":"Перевод с конверсией не может быть создан с датой в будущем","validation.exchange.currenciesMustDiffer":"Валюты выбранных счетов должны отличаться","validation.cantPayToLoanAccount":"Нельзя совершить перевод на ссудный счёт","validation.loanRepaymentNotAllowedFrom":"Перевод на счёт досрочного погашения с этого счёта невозможен. Используйте связанный карточный счёт","validation.card.commonError":"Ошибка валидации","validation.recurrentEndDateLimit":"Конечная дата регулярного перевода не должна превышать год.","validation.incorrectName":"Неверное имя владельца счёта","validation.otherBankPayroll.sameBankBic":"Это БИК Банка \"Санкт-Петербург\". Если счёт получателя открыт в Банке \"Санкт-Петербург\", то заключите договор Зарплатного проекта или воспользуйтесь функционалом в рамках действующего договора \u003ca href\u003d\"/payrolls\"\u003eЗарплатного проекта\u003c/a\u003e.","validation.unknownRemitter":"Неизвестный номер счёта плательщика.","validation.usernameFormat":"Неверный формат логина!","validation.min":"Величина должна быть не меньше %2$d","validation.besp.notAvailableWhenRestrictedRemitter":"Ускоренный перевод недоступен. Возможная причина: есть действующие ограничения по счёту. Для получения подробной информации Вы можете обратиться в обслуживающее подразделение банка.","validation.amountExceedsInternationalDailyLimit":"Превышает дневной лимит %s на валютный перевод.","confirmDialog.no":"Нет","validation.amountExceedsDailyLimitIncludingCurrencyConversions":"Недостаточно средств на счёте для проведения операции, так как есть конверсионные операции находящиеся в обработке","validation.loan.accountChange":"Уважаемый клиент! Заявление на изменение счёта для гашения по договору %2$s может сформировать только владелец счета","validation.partialRepayment.greaterThanLoanAmount":"Максимальная сумма досрочного погашения не может быть равна или больше остатка задолженности","validation.taxPayment.beneficiaryAccount":"Номер счёта получателя не соответствует налоговому платежу","validation.dateAfter":"Дата должна быть после %s","validation.forbiddenFileExtension":"Разрешено прикреплять только файлы %s","validation.uinFormat":"Длина должна быть 20 или 25 символов","validation.besp.beneficiaryBankNotInBespCatalog":"Банк получателя не является участником системы перспективных платежных сервисов","validation.statementLastDate.tooDistantFuture":"Конец периода не может быть в далёком будущем","validation.taxStatusForbidsRemitterKpp":"При выбранном статусе налогоплательщика КПП может быть только \"0\"","validation.loanApplication.amountHint":"от %s до %s ₽","validation.match":"Неверное значение","validation.mobileLoanApplication.amount":"Введите положительную сумму","validation.urgentNotAllowedForAccount":"К сожалению, отправка срочного перевода для выбранного счёта не предусмотрена.","validation.loanFullRepaymentImpossible":"Полное досрочное погашение по данному кредиту на данный момент невозможно","validation.referenceNumber":"Неверный УИН","validation.VCKP.invalidCounterpartyAccount":"Неверный лицевой счёт","validation.taxPayment.remitterVatinOrZeroRequired":"ИНН плательщика должен совпадать с ИНН организации отправителя или принимать значение \"0\"","validation.onlyLatinAllowed":"Используйте только латинские буквы","validation.taxPayment.invalidReferenceNumberLength":"Код должен состоять из 4, 20, 25 символов или принимать значение \"0\"","validation.invalidCvvFormat":"Код CVV должен состоять из 3 цифр.","validation.taxPayment.foreignVatinRequired":"ИНН плательщика не должен совпадать с ИНН организации отправителя при выбранном статусе лица","validation.onlyCyrillicAllowed":"Используйте только русские буквы","validation.statement.sub.criterion.count":"Количество критериев по каждому полю поиска ограничено","validation.VATIN.invalidLength":"ИНН данного получателя должен содержать 10 знаков","validation.passwordsDiffer":"Введены разные пароли","validation.alreadyExists":"Уже существует","validation.invalidCharacter":"Недопустимый символ %2$s","validation.remitterAccountClosed":"Счёт плательщика закрыт.","validation.nonGovernmentBeneficiary":"Получателем должен быть государственный орган","validation.cardOrder.cardHolderBirthdayInFuture":"Дата не может быть в будущем","validation.invalidBeneficiaryAccountOrCard":"По введённому номеру счёта или карты клиент не найден","validation.taxStatusNeeds9DigitRemitterKpp":"При выбранном статусе налогоплательщика КПП может быть только 9 знаков","validation.internationalPayment.senderToReceiverInformation.required":"Обязательное поле для переводов в валюте CNY","validation.budgetPayment.beneficiaryAccount":"Номер счёта получателя не соответствует платежу в бюджет","validation.taxPayment.invalidReferenceNumberCheckSum":"Не совпадает контрольный разряд УИН","validation.notEnoughFundsForCorporateDeposit":"Денежных средств не достаточно для пополнения депозитного счёта","validation.amountExceedsLimit":"%1$s превышает доступный лимит на %2$s","validation.mobileLoanApplication.period":"Введите период в месяцах","Attachment":"Прикрепить файл","validation.internationalPayment.detailsWereCleared":"Поле \"Назначение\" было очищено, так как совпадало с указанной целью перевода.","validation.invalid.kpp":"Неверный КПП","validation.excessVAT":"В назначении платежа задублирована информация об НДС","validation.taxPayment.remitterVatinZeroRequired":"При выбранном статусе налогоплательщика ИНН может быть только \"0\"","validation.otherBankPayroll.accountNotSuitableForPayingSalary":"Счёт не принадлежит клиенту или не подходит для выплаты зарплаты","validation.recurrentDayOfMonth":"Число месяца должно быть от 1 до %2$s","validation.mustAcceptTerms":"Условия должны быть приняты","validation.taxStatusNeeds12DigitVatin":"При выбранном статусе налогоплательщика ИНН может быть только 12 знаков","validation.cashWithdrawal.invalidCashWithdrawalDate":"Ближайшая дата изъятия: %2$s","validation.statement.criterion.count":"Количество полей для поиска ограничено","validation.cardOrder.noBranchFound":"Офис выдачи не найден","validation.currencyExchange.ticketExpired":"Курс обмена устарел. Повторите операцию заново.","validation.nonUrgentNotAllowed":"Несрочный платёж недопустим","validation.required":"Обязательное поле","validation.invalidNonIbanAccountNumber":"Неверный номер счёта","validation.urgentNotAllowedAfterTime":"К сожалению, вы не можете отправить срочный перевод после %2$s.","validation.statementLastDate.beforeFirstDate":"Конец периода не может быть раньше начала периода","validation.VCKP.customerIdRequired":"Введите номер лицевого счёта, чтобы запросить список счётчиков","validation.details.maxSize.warning":"Количество символов в назначении платежа превышает допустимые %1$s символов. Исправьте назначение платежа вручную","validation.amount":"Цифры, не более двух цифр после запятой","validation.internationalPayment.timeCanNotBeInPast":"Перевод не может быть создан с датой в прошлом","validation.statement.from.amount.greater":"Конечная сумма периода должна быть больше, чем начальная","validation.notEnoughOwnFunds":"Недостаточно собственных средств на счёте, будут использованы кредитные средства. Кредитная ставка может превышать ставку вклада","validation.amountTooLow":"сумма должна быть больше %2$s","validation.VCKP.fineCannotBeGreaterThanAmount":"Сумма пени не может превышать сумму платежа","validation.otherBankPayroll.dateLimitInFuture":"Дата не должна превышать год","validation.loan.invalidServiceAccount":"Неверный обслуживающий счёт. Счёт не может содержать кредитную линию.","validation.invalid":"Неверное значение","validation.physicalCashPooling.reportProblem":"Ошибка формирования отчета. Попробуйте изменить период","validation.addressNotFound":"Адрес не найден","validation.inFutureAllowed":"Дата должна быть в будущем","validation.cardOrder.cardHolderBirthdayRequired":"Обязательное поле","validation.VATIN":"Неверный ИНН","validation.cardOrder.noOtherCustomerFound":"По данным реквизитам не удалось однозначно определить клиента. Обратитесь в офис, пожалуйста.","validation.invalidBccForNonTaxBeneficiaryAccount":"Код КБК, начинающийся с 1821, может быть использован только для налоговых платежей.","validation.loanApplication.durationHint":"от %s до %s месяцев","validation.ibanFormatRequired":"Должен быть в формате IBAN","validation.cardOrder.organizationNameAllowedSymbols":"Используйте только разрешённые символы — буквы латинского алфавита, цифры и знаки %2$s","validation.invalidFormat":"Значение не соответствует формату","validation.vendorPayment.notAllowed":"Оплата этой услуги картой другого банка запрещена.","validation.greater":"Величина должна быть больше %2$d","validation.cardNumbersMustDiffer":"Номера карт должны различаться","validation.cashWithdrawal.minimumAmount":"Сумма снятия должна быть больше 0","validation.required.kpp":"Обязательное поле КПП","confirmDialog.areYouSure?":"Вы уверены?","validation.internationalPayment.beneficiaryBIC.required":"Переводы внутри Банка \"Санкт-Петербург\" должны осуществляться через переводы \"По реквизитам\".","validation.invalidUIP":"Неверное значение УИП","validation.physicalCashPooling.noPool":"У вас нет подключенного пула","validation.differentCurrencies":"Невозможно выполнить перевод между счетами с разными валютами","validation.genericDocumentError":"Некорректный документ","validation.loan.partialRepaymentNotAllowed":"Уважаемый клиент! Заявление на частичное досрочное погашение по договору %2$s может сформировать только владелец счета","validation.VCKP.illegalPeriod":"Неверный период. Формат должен быть вида ММ-ГГГГ, где месяц должен быть в пределах 01, 02, 03, ..., 12","validation.statementDateRange.isNull":"Необходимо задать период","validation.invalidBcc":"Неверный формат КБК. Код должен состоять из 20 символов буквенно-цифрового ряда, состоящего из букв русского и латинского алфавита.","validation.besp.notAvailableForRemitter":"Проведение ускоренных платежей со специальных счетов или счёта таможенной карты недоступно","validation.localCurrencyRequired":"Одна из валют должна быть рубли!","validation.invalidIncomeTypeCode":"Неверное значение. Допустимые значения: %2$s","validation.partialRepayment.canNotBeInPast":"Вы можете указать дату начиная со следующего дня","validation.invalidSMSCode":"Введён неверный SMS-код.","validation.internationalPayment.remitterInRublesNotAllowed":"Перевод с конверсией с рублёвого счёта невозможен","validation.amountWithDecimals":"Сумма не должна содержать копеек.","validation.depositTopup.invalidRemitter":"Не допускается пополнение депозита с выбранного спецсчета.","validation.notEnoughFunds":"Недостаточно средств на счёте","validation.notInPast":"Дата не может быть в прошлом","validation.cardNumbersShouldDiffer":"Номера карт должны отличаться","validation.urgentPayment.timeCanNotBeInFuture":"Перевод с датой в будущем не может быть срочным","validation.bankLicenseIsRevoked":"Обращаем внимание, что у данного банка отозвана лицензия","validation.besp.onlyRub":"Только для рублёвых счетов","validation.range":"Величина должна быть от %2$d до %3$d","validation.paymentNotAllowedTo":"Перевод на этот счёт невозможен","validation.VCKP.meterDuplicateFound":"Указаны два прибора учета с одинаковым номером","validation.missingCurrencyOperationCode":"В назначении перевода должен содержаться вид операции.","validation.cardCustomDesignCode":"Неверный формат кода дизайна (XXXXXXXX-XXXX)","validation.fileTooLarge":"Приложенные файлы должны быть не больше 2 Мб","confirmDialog.yes":"Да","validation.vckp.counterNameAndMeteringError":"Названия счётчиков и их показания должны быть заполнены полностью","validation.taxPayment.invalidReferenceNumberLength.shortStatusesList":"Код должен состоять из 20, 25 символов или принимать значение \"0\"","validation.minSize":"Минимальная длина должна быть %2$s символ(а/ов)","validation.invalid.reissue.activate.sms.notifications":"Невозможно добавить нотификации для перевыпускаемой карты.","validation.max":"Величина не должна превышать %2$d","validation.besp.beneficiaryBankIsOwnBank":"Проведение внутрибанковских платежей по системе перспективных платежных сервисов недоступно","validation.forbiddenFileExtension.filesInvalid":"Разрешено прикреплять только файлы %s.\u003cbr/\u003eПриложите файлы снова.","validation.invalidEmail":"Неверный формат электронной почты","validation.invalidFeeAccount":"В качестве счетов списания и комиссии должны быть выбраны счета одной организации","validation.payment.disabledInDemo":"В демо-версии переводы не разрешены","validation.taxPayment.remitterVatinOrCodeRequired":"При отсутствии ИНН необходимо указать в поле «Код» уникальный идентификатор начисления (УИН)","validation.invalidBeneficiaryAccountCurrency":"Перевод возможен только на счёт в рублях","validation.besp.notAvailableForBudgetBeneficiary":"Не доступен для бюджетных получателей","validation.documentFormat":"Длина должна быть 10 символов. Может содержать кириллицу","validation.VCKP.fineCannotBeNegative":"Пеня не может иметь отрицательное значение","validation.upload.forbiddenFileExtension":"Загружен неподдерживаемый формат. Файл %s","validation.minInclusive":"Величина должна быть не меньше %2$d","validation.oneC.personalPaymentBetweenDifferentCurrencies":"Невозможно выполнить перевод между счетами с разными валютами","validation.paymentInForeignCurrencyOnlyInOwnBank":"Валютное поручение может быть отправлено только на счёт, открытый в ПАО «Банк «Санкт-Петербург» или его филиале","validation.amountExceedsDailyLimit":"Превышает дневной лимит %s.","validation.economyPayment.timeCanNotBeInFuture":"Перевод с датой в будущем не может быть экономичным","validation.taxPayment.remitterVatinOrTaxDocNumberRequired":"ИНН плательщика или Документ (108) должен быть заполнен","validation.invalidOtherBankBIC":"БИК другого банка должен отличатся от БИК Банка «Санкт-Петербург».","validation.taxStatusNeeds10DigitVatin":"При выбранном статусе налогоплательщика ИНН может быть только 10 знаков","validation.3dsecurePasswordFormat":"Пароль должен быть длиной 4-16 символов, содержать буквы и/или цифры, но не другие символы","validation.missingVAT":"Укажите способ начисления НДС","validation.partialRepayment.oneApplicationInSingleDateAllowed":"Вы уже подали заявление на выбранную дату","validation.duplicatePhone":"Этот номер уже добавлен","validation.loanApplication.short.loanData.promoLoanHint":"От %minAmount рублей ставка ниже на %rateDifference%","validation.budgetPayment.VATINMustBeZero":"При выбранном статусе налогоплательщика ИНН может быть только 0","validation.partialRepayment.earlyPartialRepaymentNotAllowedForThisLoan":"Частичное досрочное погашение не разрешается для этого кредита","validation.paymentEndDateLimit":"Конечная дата перевода не должна превышать год.","validation.loan.fullRepaymentNotAllowed":"Уважаемый клиент! Заявление на полное досрочное погашение по договору %2$s может сформировать только владелец счета","validation.attachment.required":"Не выбран файл. Вложение обязательно","validation.object":"Не все поля заполнены корректно!","validation.invalidSWIFT":"Неверный SWIFT-код банка","validation.card.invalidHolderName":"Не совпадает с настоящим именем %2$s","validation.paymentCorrection.atLeastOneOf":"Должно быть заполнено хотя бы одно из полей – Получатель, Счёт получателя или Назначение","validation.loan.repaymentsChange":"Уважаемый клиент! Заявление на изменение даты погашения по договору %2$s может сформировать только владелец счета","validation.forbiddenFileExtension.filesRemoved":"Разрешено прикреплять только файлы %s.\u003cbr/\u003eСледующие файлы были удалены: %s","validation.invalidPaymentPeriod":"Неверное значение","validation.sameUsername":"Логин совпадает с текущим","validation.beneficiaryAccountClosed":"Счёт получателя закрыт.","validation.past":"Дата должна быть не позднее %2$s","validation.samePasswordNotAllowed":"Новый пароль должен отличаться от старого","validation.urgentNotAllowedForCurrency":"К сожалению, отправка срочного перевода в %2$s не предусмотрена.","validation.invalidBIC":"Неверный код банка (БИК)","validation.wrongCurrentPassword":"Неверный текущий пароль","validation.notEnoughFundsWithDetails":"Недостаточно средств для перевода. С учётом комиссии сумма на счёте должна быть не менее %2$s.\u003cbr\u003eКомиссия за перевод составляет %3$s","validation.warning.dailySmsLimitExceeded":"Обращаем ваше внимание, что дневной лимит подписания платежей по SMS - %s.\u003cbr/\u003eПри необходимости совершить платеж(и) на большую сумму используйте токен","validation.usernameExists":"Логин занят","validation.dailyExchangeLimitExceeded":"Превышен дневной лимит подписания конверсионных операций в %s. Способ подтверждения: %s.","validation.uniqueTemplateName":"Шаблон с таким названием уже существует. Пожалуйста, укажите другое название.","validation.payment.unknownCurrencyOperationCode":"Неизвестный код валютной операции","validation.passwordMatchingWithUsernameNotAllowed":"Пароль не должен содержать имя пользователя","validation.accountDoesNotBelongToCustomer":"Счёт не соответствует организации","validation.otherBankPayroll.accountNotSuitableForSalary":"Счёт не подходит для выплаты зарплаты","validation.invalidBccForPrivateTax":"Введенный КБК не относится к налоговым платежам. Оплату следует проводить через вкладку \u003ca href\u003d\"/payments/budget\"\u003eПлатежи в бюджет\u003c/a\u003e.","validation.physicalCashPooling.until.inFutureNotAllowed":"Конец периода не может быть больше текущей даты","validation.physicalCashPooling.from.inFutureNotAllowed":"Начало периода не может быть больше текущей даты","validation.loan.isNotWorkingDay":"Дата погашения выпадет на выходной или праздничный день.","validation.payment.disabledPeriod":"Ближайшая возможная дата платежа %1$s. Перевод будет отправлен на обработку в Банк %2$s. Исправьте дату и повторите попытку","validation.invalidBeneficiaryAccountNumber":"По введённому номеру счёта, карты или телефона клиент не найден","validation.invalidAccountNumber":"Неверная комбинация номера счёта и БИК.","validation.maxSize":"Максимальная длина должна быть %2$s символ(а/ов)","validation.invalidPhone":"Номер должен начинаться с кода страны (для России - 7) и содержать минимум 10 цифр","validation.patternNotSatisfied":"Значение не соответствует формату \u0027%2$s\u0027","validation.vckp.metersPrefillError":"Из-за технической ошибки не удалось заполнить счётчики","validation.amountExceedsLoanAmount":"%1$s превышает выделенную сумму кредита в %2$s","validation.paymentNotAllowedFrom":"Перевод с этого счёта невозможен","validation.notification.threshold":"Величина должна быть не меньше","validation.phone":"Номер должен начинаться с кода страны (для России - 7) и содержать минимум 10 цифр","validation.domestic.vatNoteInDescriptionIsMissing":"Отсутствует информация по НДС","validation.yearList":"Один год или список годов через запятую от %2$d до %3$d","validation.correspondentBankDoesNotAllowedForCurrencyAndCountry":"В настоящий момент переводы в валюте %s и банки получателей страны %s возможны только без указания банка-корреспондента.","validation.amountTooHigh":"сумма должна быть меньше %2$s","validation.bccEqualsReferenceNumber":"КБК и код должны различаться","validation.sameAccount":"Счета плательщика и получателя не могут совпадать","validation.passwordMismatch":"Пароли не совпадают","validation.paymentDetailsTooLong":"Назначение перевода после добавления служебной информации не может превышать %2$s символов, вам нужно убрать: %3$s","validation.dailyLimitExceeded":"Превышен дневной лимит подписания платежей в %s. Способ подтверждения: %s.","validation.partialRepayment.canNotBeGreaterThanLoanEndDate":"Дата не может превышать дату окончания кредита","validation.invalidDate":"Неправильная дата","validation.accountDoesNotExist":"Неверный номер счёта","validation.passwordFormat":"Неверный формат пароля!","validation.loan.invalidPartialRepaymentDate":"Дата частичного досрочного погашения не должна предшествовать дате первого платежа по кредиту (%1$s).","validation.nonBudgetBeneficiary":"Получателем должен быть государственный орган, организация в государственной собственности, либо негосударственная некоммерческая организация","validation.accountTargetDoesNotMatch":"Целевое назначение счёта не соответствует требуемому","validation.statementFirstDate.tooSmall":"Минимально разрешенное значение даты начала выписки %s","validation.correspondentBankDoesNotAllowedForCurrency":"В настоящий момент переводы в валюте %s возможны только без указания банка-корреспондента.","validation.card.notOwnBankCardNumber":"Карта выдана другим банком — перевод невозможен."}
</script>
  <script>
  window['adrum-start-time'] = new Date().getTime();
  (function(config){
    config.appKey = 'EUM-AAB-AUR';
    config.adrumExtUrlHttp = "https:\/\/idemo.bspb.ru/public/javascripts/adrum";
    config.adrumExtUrlHttps = "https:\/\/idemo.bspb.ru/public/javascripts/adrum";
    config.beaconUrlHttp = 'http:\/\/apm-test.bspb.ru:7003';
    config.beaconUrlHttps = 'https:\/\/apm-test.bspb.ru:7004';
    config.xd = {enable : false};
  })(window['adrum-config'] || (window['adrum-config'] = {}));
</script>

<script>!function(){new function(){if(!window.ADRUM&&!0!==window["adrum-disable"]){var k=window.ADRUM={},y=window.console,A=y&&"function"==typeof y.log?y:{log:function(){}};window["adrum-start-time"]=window["adrum-start-time"]||(new Date).getTime();var u=this&&this.Bc||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();!function(t){!function(t){t.setUpMonitors=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(e=0;e<t.length;e++){var n=t[e];n&&n.setUp()}}}(t.monitor||(t.monitor={}))}(k||(k={})),function(t){!function(e){function n(t){return e.refs.slice.apply(t,e.refs.slice.call(arguments,1))}function i(t,n){return r(e.refs.setTimeout.apply)?e.refs.setTimeout.apply(window,arguments):e.refs.setTimeout(t,n)}function r(t){return void 0!==t&&null!==t}function o(t){return"object"==typeof t&&!e.isArray(t)&&null!==t}function a(t){return"function"==typeof t||!1}function s(t){return"string"==typeof t}function u(t){return"number"==typeof t}function c(t,n){for(var i in n){var r=n[i];if(l(n,i)){var a=t[i];o(r)&&o(a)?c(a,r):e.isArray(a)&&e.isArray(r)?t[i]=a.concat(r):t[i]=r}}return t}function l(t,e){return Object.prototype.hasOwnProperty.call(t,e)&&r(t[e])}function f(t){return s(t)?t.replace(/^\s*/,"").replace(/\s*$/,""):t}function p(){return e.refs.la&&a(e.refs.la.now)}function d(){return p()?e.refs.round(e.refs.la.now()+h()):(new Date).getTime()}function h(){var t=e.refs.la,t=t&&t.timing&&u(t.timing.navigationStart)?t.timing.navigationStart:window["adrum-start-time"];return r(t)||(t=d()),t}function m(t,e){var n=Array.prototype[t];return n?g(n):v(t,e)}function g(t){return function(n){return t.apply(n,e.refs.slice.call(arguments,1))}}function v(t,e){return function(n,i){if(!r(n))throw new TypeError(t+" called on null or undefined");if(!a(i))throw new TypeError(i+" is not a function");return e.apply(null,arguments)}}function y(t,e,n){var i=Object(t),r=i.length>>>0,o=0;if(3>arguments.length){for(;o<r&&!(o in i);)o++;if(o>=r)throw new TypeError("Reduce of empty array with no initial value");n=i[o++]}for(;o<r;o++)o in i&&(n=e(n,i[o],o,i));return n}function b(t,n,i){return e.reduce(t,function(t,e,r,o){return t[r]=n.call(i,e,r,o),t},Array(t.length>>>0))}function M(t,n,i){return e.reduce(t,function(t,e,r,o){return n.call(i,e,r,o)&&t.push(e),t},[])}function w(t,e,n){t=Object(t);for(var i=t.length>>>0,r=0;r<i;r++)if(r in t&&e.call(n,t[r],r,t))return!0;return!1}function T(t,n,i){return!e.some(t,function(t){return!n.call(i,t)})}function E(t,n,i){e.reduce(t,function(t,e,r,o){n.call(i,e,r,o)},void 0)}e.refs={isArray:Array.isArray,toString:Object.prototype.toString,slice:Array.prototype.slice,setTimeout:window.setTimeout,setInterval:window.setInterval,la:window.performance||window.mozPerformance||window.msPerformance||window.webkitPerformance,assign:Object.assign,round:Math.round},e.xa=n,e.oSTO=i,e.isCORSSupported=function(){var t=window.JSON&&a(JSON.stringify);return r(window.XMLHttpRequest)&&"withCredentials"in new XMLHttpRequest&&t},e.isDefined=r,e.fl=function(t){return"number"==typeof t&&!window.isNaN(t)},e.isArray=a(e.refs.isArray)&&a(e.refs.isArray.bind)?e.refs.isArray.bind(Array):function(t){return e.refs.toString.call(t)===e.refs.toString.call([])},e.isObject=o,e.isFunction=a,e.isString=s,e.isNumber=u,e.isBoolean=function(t){return"boolean"==typeof t},e.max=function(t,e){return Math.max(isNaN(t)?Number.NEGATIVE_INFINITY:t,isNaN(e)?Number.NEGATIVE_INFINITY:e)},e.hc=i,e.so=function(t,e){i(t,e||1e4)},e.addEventListener=function(e,i,r,o){function a(){try{return r.apply(this,n(arguments))}catch(n){t.exception(n,"M1",i,e,n)}}void 0===o&&(o=!1),t.isDebug&&t.log("M0",i,e),a.I=!0,e.addEventListener?e.addEventListener(i,a,o):e.attachEvent&&e.attachEvent("on"+i,a)},e.loadScriptAsync=function(e){var n=document.createElement("script");n.type="text/javascript",n.async=!0,n.src=e;var i=document.getElementsByTagName("script")[0];i?(i.parentNode.insertBefore(n,i),t.log("M2",e)):t.log("M3",e)},e.mergeJSON=c,e.hasOwnPropertyDefined=l,e.of=function(t,n){if(e.isFunction(Object.getPrototypeOf))for(;e.isDefined(t)&&!l(t,n);)t=Object.getPrototypeOf(t);return t},e.en=function(t){return r(t)?e.isArray(t)?t:[t]:[]},e.xo=function(t,e){return null!=t&&t.slice(0,e.length)==e},e.generateGUID=function(t){return r(t)&&a(t.getRandomValues)&&function(){function e(t){return t=t.toString(16),"0000".substr(t.length)+t}var n=new Uint16Array(8);return t.getRandomValues(n),e(n[0])+e(n[1])+"_"+e(n[2])+"_"+e(n[3])+"_"+e(n[4])+"_"+e(n[5])+e(n[6])+e(n[7])}}(window.crypto||window.msCrypto)||function(){return"xxxxxxxx_xxxx_4xxx_yxxx_xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0;return("x"==t?e:3&e|8).toString(16)})},e.tryExtractingErrorStack=function(t){return t&&(t=t.stack)&&"string"==typeof t?t:null},e.trim=f,e.Rl=function(t){var e,n,i={};if(!t)return i;var r=t.split("\n");for(n=0;n<r.length;n++){var o=r[n];e=o.indexOf(":"),t=f(o.substr(0,e)).toLowerCase(),e=f(o.substr(e+1)),t&&(i[t]=i[t]?i[t]+", "+e:e)}return i},e.tryPeriodically=function(t,e,n,r){function o(){if(e())n&&n();else{var s=t(++a);0<s?i(o,s):r&&r()}}var a=0;o()},e.Pe=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},e.pg=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return t.apply(this,e.concat(n))}},e.Wn=p,e.now=d,e.ib=h,e.Fn=y,e.reduce=m("reduce",y),e.En=b,e.map=m("map",b),e.Cn=M,e.filter=m("filter",M),e.Gn=w,e.some=m("some",w),e.Bn=T,e.every=m("every",T),e.Dn=E,e.forEach=m("forEach",E),e.Fj=function(t){return e.filter(t,r)},e.Kn=function(t){return[].concat.apply([],t)},e.Ti=r(window.Reflect)&&r(window.Reflect.construct)?function(e,n,i,r){try{return null!==n?window.Reflect.construct(n,i,r):e}catch(n){return t.monitor.ErrorMonitor.l(n),e}}:function(e,n,i){try{return null!==n&&n.apply(e,i)||e}catch(n){return t.monitor.ErrorMonitor.l(n),e}},e.Bc=function(){var t=Object.setPrototypeOf||function(t,e){var n,i=Object.getOwnPropertyNames(e);for(n in i)t[n]=e[n]};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),e.Oj=function(t){if(!e.isString(t))return t;var n={"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;","/":"&#47;"};return t.replace(/[&<>'"\/]/g,function(t){return n[t]})},e.Bo=function(t){if(!e.isString(t))return t;var n={"&amp;":"&","&#38;":"&","&#x26;":"&","&lt;":"<","&#60;":"<","&#x3c;":"<","&gt;":">","&#62;":">","&#x3e;":">","&apos;":"'","&#39;":"'","&#x27;":"'","&quot;":'"',"&#34;":'"',"&#x22;":'"',"&sol;":"/","&#47;":"/","&#x2f;":"/"};return t.replace(/&(?:amp|#0*38|#x0*26|lt|#0*60|#x0*3c|gt|#0*62|#x0*3e|apos|#0*39|#x0*27|quot|#0*34|#x0*22|sol|#0*47|#x0*2f);/g,function(t){return t=t.replace(/0+\B/g,""),n[t]})},e.Bj=function(t){var e;return function(){var n=this;e&&clearTimeout(e),e=i(function(){t.apply(n,arguments)},300)}},e.jd=function(){return r(window.__zone_symbol__Promise)||r(window.__zone_symbol__ZoneAwarePromise)}}(t.utils||(t.utils={}))}(k||(k={})),function(t){var e=t.conf||(t.conf={});e.userConf=window["adrum-config"]||{},e.useHTTPSAlways=!0===e.userConf.useHTTPSAlways,e.modernBrowserFeaturesAvailable=t.utils.isDefined(window.addEventListener)&&t.utils.isCORSSupported()&&t.utils.isDefined(Array.prototype.forEach),e.spa2=e.userConf.spa&&e.userConf.spa.spa2&&(!0===e.userConf.spa.spa2||t.utils.isObject(e.userConf.spa.spa2)),e.clearResTiming=!(e.userConf.spa&&t.utils.isObject(e.userConf.spa.spa2)&&t.utils.isDefined(e.userConf.spa.spa2.clearResTiming))||e.userConf.spa.spa2.clearResTiming,e.disableTextForTesting=!0===e.userConf.disableTextForTesting,e.enablePrimaryMetrics=(!t.utils.isDefined(e.userConf.enablePrimaryMetrics)||!0===e.userConf.enablePrimaryMetrics)&&e.modernBrowserFeaturesAvailable,e.P=!1,e.devMode=!0===e.userConf.devMode,e.isZonePromise=!0===e.userConf.isZonePromise||!0===e.userConf.angular,e.fetch=!t.utils.isDefined(e.userConf.fetch)||1==e.userConf.fetch,e.backTimeGap=Math.abs(e.userConf.backTimeGap)||0,e.neverSendImageBeacon=!t.utils.isDefined(e.userConf.beacon)||!t.utils.isDefined(e.userConf.beacon.neverSendImageBeacon)||1==e.userConf.beacon.neverSendImageBeacon,e.beaconUrlHttp=t.utils.isDefined(e.userConf.beaconUrlHttp)?e.userConf.beaconUrlHttp:"http://col.eum-appdynamics.com",e.beaconUrlHttps=t.utils.isDefined(e.userConf.beaconUrlHttps)?e.userConf.beaconUrlHttps:"https://col.eum-appdynamics.com",e.corsEndpointPath="/eumcollector/beacons/browser"+(e.spa2?"/v2":"/v1"),e.imageEndpointPath="/eumcollector/adrum.gif?",e.appKey=e.userConf.appKey||window["adrum-app-key"]||"APP_KEY_NOT_SET",t=e.useHTTPSAlways||"https:"===document.location.protocol;var n=e.userConf.adrumExtUrlHttp||"http://cdn.appdynamics.com",i=e.userConf.adrumExtUrlHttps||"https://cdn.appdynamics.com";e.adrumExtUrl=(t?i:n)+"/adrum-ext.97655c10e7b91050c0196f6fd1b25fa5.js",e.adrumXdUrl=i+"/adrum-xd.97655c10e7b91050c0196f6fd1b25fa5.html",e.agentVer="20.8.0.3230",e.sendImageBeacon=e.userConf.beacon&&e.userConf.beacon.sendImageBeacon||window["adrum-send-image-beacon"],window["adrum-geo-resolver-url"]?(n=window["adrum-geo-resolver-url"],i=n.indexOf("://"),-1!=i&&(n=n.substring(i+3)),n=(t?"https://":"http://")+n):(n=e.userConf.geoResolverUrlHttps||"",i=e.userConf.geoResolverUrlHttp||"",n=t?n:i),e.geoResolverUrl=n,e.useStrictDomainCookies=!0===window["adrum-use-strict-domain-cookies"],e.oi=10,e.ii=10}(k||(k={})),function(t){function e(e,n,i,r){return e=t.conf.beaconUrlHttps+"/eumcollector/error.gif?version=1&appKey="+i+"&msg="+encodeURIComponent(e.substring(0,500)),r&&(e+="&stack=",e+=encodeURIComponent(r.substring(0,1500-e.length))),e}function n(n,i){2<=d||(document.createElement("img").src=e(n,0,t.conf.appKey,i),d++)}function i(t){return 0<=t.location.search.indexOf("ADRUM_debug=true")||0<=t.cookie.search(/(^|;)\s*ADRUM_debug=true/)}function r(e){t.isDebug&&f.push(s(arguments).join(" | "))}function o(t){p.push(s(arguments).join(" | "))}function a(t){var e=s(arguments).join(" | ");r(e),n(e,null)}var s=t.utils.xa,u=t.utils.reduce,c=t.utils.isDefined;t.iDR=i;var l;!function(t){t[t.API_ERROR=0]="API_ERROR",t[t.API_ERROR_INVALID_PARAMS=1]="API_ERROR_INVALID_PARAMS",t[t.API_ERROR_INVALID_CONFIG=2]="API_ERROR_INVALID_CONFIG",t[t.API_WARNING=3]="API_WARNING",t[t.API_WARNING_INEFFECTIVE_CONFIG=4]="API_WARNING_INEFFECTIVE_CONFIG"}(l=t.W||(t.W={})),t.Cb=["JS Agent API Error:","JS Agent API Error Invalid Parameters: ","JS Agent API Error Invalid Configs: ","JS Agent API Warning:","JS Agent API Warning Ineffective Config:"],t.Ya=" a constructor is called as a function. Don't forget keyword new.",t.isDebug=i(document),t.apiMessageConsoleOut=!(!c(t.conf.userConf)||!c(t.conf.userConf.log)||!0!==t.conf.userConf.log.apiMessageConsoleOut);var f=[],p=[];t.logMessages=f,t.apiMessages=p,t.log=r,t.jo=o,t.error=a,t.reportAPIMessage=function(e,n,i,r){var a=t.Xl.apply(this,arguments);return o(a),t.apiMessageConsoleOut&&A.log(a),a},t.exception=function(){if(!(1>arguments.length)){var e=s(arguments),i=t.utils.tryExtractingErrorStack(e[0]),e=e.slice(1);t.utils.isArray(e)&&(e=e.slice(0,20)),e=e.join(" | "),t.log(e),n(e,i)}},t.assert=function(t){for(var e=1;e<arguments.length;e++);var n=s(arguments);t||(e=n[1],(n=n.slice(2))&&0<n.length?a("M4",e,n):a("M5",e))},t.dumpLog=t.isDebug?function(){return u(f,function(t,e){return t+e.replace(/\<br\/\>/g,"\n\t")+"\n"},"")}:function(){},t.ef=0,t.ff=0,t.Q=t.isDebug&&t.utils.refs.la?function(){t.ef=t.utils.refs.la.now()}:function(){},t.R=t.isDebug&&t.utils.refs.la?function(){t.ff+=t.utils.refs.la.now()-t.ef}:function(){},t.Xl=function(e,n,i,r){var o,a="",a="",s=(new window.Error).stack,s=t.utils.isString(s)?s.substring(5):s+"";switch(c(o)||(o=t.utils.map(r,function(t){return null===t?"null":void 0==t?"undefined":""===t?"''":t})),e){case l.ma:case l.on:a=t.Cb[e],a=c(i)?""+a+n+"\n in "+i+"("+o.join(", ")+")\n"+s:""+a+n+"\n"+s;break;case l.Xd:a=t.Cb[e],a=""+a+n+"\nin "+i+"("+o.join(", ")+")\n"+s;break;case l.nn:case l.Ah:a=t.Cb[e],a=""+a+n+", but "+i+"="+o.join(", ")+"\n"+s;break;default:a=t.Cb[l.ma],a=""+a+n+"\nin "+i+"("+o.join(", ")+")\n"+s}return a},t.cIEBU=e;var d=0;r("M6")}(k||(k={})),function(t){var e=function(){function t(t){this.max=t,this.Kc=0}return t.prototype.Ik=function(){this.Vb()||this.Kc++},t.prototype.Vb=function(){return this.Kc>=this.max},t.prototype.reset=function(){this.Kc=0},t}(),n=function(){function n(){this.Lb=[],this.Fd=new e(n.zi),this.md=new e(n.si)}return n.prototype.submit=function(e){this.push(e)&&t.initEXTDone&&this.processQ()},n.prototype.processQ=function(){for(var e=this.Ij(),n=0;n<e.length;n++){var i=e[n];"function"==typeof t.commands[i[0]]?(t.isDebug&&t.log("M7",i[0],i.slice(1).join(", ")),t.commands[i[0]].apply(t,i.slice(1))):t.error("M8",i[0])}},n.prototype.ml=function(t){return"reportXhr"===t||"reportPageError"===t},n.prototype.push=function(e){var n=e[0],i=this.ml(n),r=i?this.Fd:this.md;return r.Vb()?(t.log("M9",i?"spontaneous":"non spontaneous",n),!1):(this.Lb.push(e),r.Ik(),!0)},n.prototype.Ij=function(){var t=this.Lb;return this.reset(),t},n.prototype.size=function(){return this.Lb.length},n.prototype.reset=function(){this.Lb=[],this.Fd.reset(),this.md.reset()},n.prototype.isSpontaneousQueueDead=function(){return this.Fd.Vb()},n.prototype.isNonSpontaneousQueueDead=function(){return this.md.Vb()},n}();n.zi=100,n.si=100,t.CommandExecutor=n}(k||(k={})),function(t){t.q=new t.CommandExecutor,t.command=function(e){for(var n=1;n<arguments.length;n++);t.isDebug&&t.log("M10",e,Array.prototype.slice.call(arguments).slice(1).join(", ")),t.q.submit(Array.prototype.slice.call(arguments))}}(k||(k={})),function(t){!function(t){var e=function(){function t(){this.status={}}return t.prototype.setUp=function(){},t.prototype.set=function(t,e){this.status[t]=e},t}();t.xc=e}(t.monitor||(t.monitor={}))}(k||(k={})),function(t){!function(e){var n=t.utils.xa,i=t.utils.isDefined;window.ADRUM.aop=e,e.support=function(t){return!t||"apply"in t},e.around=function(r,o,a,s,u){return t.assert(e.support(r),"M11"),r=r||function(){},function(){if(t.isDebug)try{t.log("M12",s,n(arguments).join(", "))}catch(e){t.log("M13",i(e.stack)||e.toString())}var e,c=n(arguments);try{o&&(e=o.apply(this,c))}catch(e){t.exception(e,"M14",s,e)}t.assert(!e||t.utils.isArray(e));var l=void 0;try{l=r.apply(this,e||c)}catch(e){throw t.log(e,"M15",s,e),u?u(e):t.monitor.ErrorMonitor.l(e),e}finally{try{a&&(i(l)&&(c[c.length]={og:l}),a.apply(this,c))}catch(e){t.exception(e,"M16",s,e)}}return l}},e.wf=function(t){t=t[t.length-1];var e;return i(t)&&i(t.og)&&(e=t.og),e},e.before=function(t,n,i){return e.around(t,n,null,i)},e.after=function(t,n,i){return e.around(t,null,n,i)},e.forceWrap=function(e){var n=e.customDescriptorConfig||{},r=null,o=e.parentObject,a=e.property,s=e.setUpFunc,u=e.wrapNewFunctionAgain||!1,c=e.propertyWrappedFunctionName;if(o&&a){if(!(r=Object.getOwnPropertyDescriptor(o,a))||r.configurable){r?(delete r.writable,delete r.value):r={configurable:!0,enumerable:!0};var l=r.set,f=r.get;r.set=n.set||function(n){!0!==n.usedByAgent&&(i(l)&&l(arguments),i(e.Na)&&!u||!t.utils.isFunction(s)||s(n))},r.get=n.get||function(){var n=f?f():t.utils.refs[c];return i(e.Na)&&(n=e.Na),n}}else t.log("M17",c);Object.defineProperty(o,a,r)}else t.error("M18")}}(t.aop||(t.aop={}))}(k||(k={})),function(t){t=t.EventType||(t.EventType={}),t[t.PageView=0]="PageView",t[t.Ajax=2]="Ajax",t[t.VPageView=3]="VPageView",t[t.Error=4]="Error",t[t.IFRAME=1]="IFRAME",t[t.ABSTRACT=100]="ABSTRACT",t[t.ADRUM_XHR=101]="ADRUM_XHR",t[t.NG_VIRTUAL_PAGE=102]="NG_VIRTUAL_PAGE"}(k||(k={})),function(t){var e=t.events||(t.events={});e.U={},e.U[t.EventType.ABSTRACT]={guid:"string",url:"string",parentGUID:"string",parentUrl:"string",parentType:"number",timestamp:"number"},e.U[t.EventType.VPageView]={resTiming:"object"},e.U[t.EventType.NG_VIRTUAL_PAGE]={digestCount:"number"},e.U[t.EventType.Ajax]={method:"string",parentPhase:"string",parentPhaseId:"number",error:"object",parameter:"object",xhrStatus:"number",dataObject:"object"},e.U[t.EventType.ADRUM_XHR]={allResponseHeaders:"string"},e.U[t.EventType.Error]={msg:"string",line:"number",stack:"string"}}(k||(k={})),function(t){var e=function(){function t(){this.ga={}}return t.prototype.mark=function(t,e){n.mark.apply(this,arguments)},t.prototype.getTiming=function(t){return(t=this.getEntryByName(t))&&t.startTime},t.prototype.measure=function(t,e,i){n.measure.apply(this,arguments)},t.prototype.getEntryByName=function(t){return n.getEntryByName.call(this,t)},t}();e.Jc=function(t){return n.Jc(t)},t.PerformanceTracker=e;var n;!function(e){var n=t.utils.hasOwnPropertyDefined,i=t.utils.ib(),r=t.utils.now;e.mark=function(e,n){this.ga[e]={name:e,entryType:"mark",startTime:t.utils.isDefined(n)?n:r(),duration:0}},e.measure=function(e,o,a){n(this.ga,o)&&n(this.ga,a)?this.ga[e]={name:e,entryType:"measure",startTime:o?this.ga[o].startTime:i,duration:(a?this.ga[a].startTime:r())-(o?this.ga[o].startTime:i)}:t.error("M19",n(this.ga,o)?a:o)},e.getEntryByName=function(t){return this.ga[t]||null},e.Jc=function(t){return t+i}}(n||(n={}))}(k||(k={})),function(t){!function(e){function n(e,n){e=e||{};for(var i in e)n[i]=function(){var n=i,r=e[i];return function(e){var i="_"+n,o=this[i];if(t.utils.isDefined(e)){if(typeof e!==r)throw i="wrong type of "+n+" value, "+typeof e+" passed in but should be a "+r+".",t.reportAPIMessage(t.W.Xd,i,"ADRUM.report",Array.prototype.slice.call(arguments)),TypeError(i);this[i]=e}return o}}()}function i(t){var e,n={};for(e in t){var i=t[e];n[i.start]=!0,n[i.end]=!0}return n}var r=function(){function e(e){this.perf=new t.PerformanceTracker,"Object"===this.constructor.name&&t.reportAPIMessage(t.W.ma,t.Ya),this.timestamp(t.utils.now()),this.guid(t.utils.generateGUID()),this.url(document.URL),this.lc(e)}return e.prototype.type=function(){return t.EventType.ABSTRACT},e.prototype.lc=function(e){if(t.utils.isObject(e))for(var n in e){var i=this[n]||this["mark"+t.utils.Pe(n)];i&&t.utils.isFunction(i)&&i.call(this,e[n])}},e.Ec=function(t,e,n){return{guid:function(){return t},url:function(){return e},type:function(){return n}}},e.prototype.qk=function(){return e.Ec(this.parentGUID(),this.parentUrl(),this.parentType())},e.prototype.parent=function(e){var n=this.qk();return t.utils.isDefined(e)&&(t.utils.isFunction(e.guid)&&t.utils.isFunction(e.url)&&t.utils.isFunction(e.type)?(this.parentGUID(e.guid()),this.parentUrl(e.url()),this.parentType(e.type())):t.reportAPIMessage(t.W.ma,"object is not a valid EventIdentifier","EventTracker.parent",Array.prototype.slice.call(arguments))),n},e}();e.EventTracker=r,e.Oa=n,e.Je=function(e,n){e=e||{};var r,o=i(e);for(r in o)o=t.utils.Pe(r),n["mark"+o]=t.utils.pg(function(t,e){this.perf.mark(t,e)},r),n["get"+o]=t.utils.pg(function(t){return this.perf.getTiming(t)},r)},n(e.U[t.EventType.ABSTRACT],r.prototype)}(t.events||(t.events={}))}(k||(k={})),function(t){!function(e){var n=function(e){function n(i){return i=e.call(this,i)||this,i.constructor!=n&&t.reportAPIMessage(t.W.ma,t.Ya,"ADRUM.events.Error",[]),i}return u(n,e),n.prototype.type=function(){return t.EventType.Error},n}(e.EventTracker);e.Error=n,e.Oa(e.U[t.EventType.Error],n.prototype)}(t.events||(t.events={}))}(k||(k={})),function(t){!function(e){var n=function(e){function n(){var i=null!==e&&e.apply(this,arguments)||this;return i.vl=function(e){var r=e.message,o=e.filename,a=e.lineno,s=e.colno;e=e.error,t.log("M20"),(t.utils.isDefined(e)||n.Yb)&&(t.log("M21"),n.Yb=!0,i.Ia(r,o,a,s,e))},i}return u(n,e),n.l=function(e){t.monitor.ha.Ia(e.message||e.description,e.fileName||e.filename,e.lineNumber,e.columnNumber,e)},n.prototype.setUp=function(){var n=this;e.prototype.setUp.call(this),t.utils.addEventListener(window,"error",this.vl,!0),t.listenForErrors=function(){n.Xf()},this.Xf()},n.prototype.hm=function(){n.Rc=0},n.prototype.Ia=function(e,i,r,o,a){n.Rc>=t.conf.oi?t.log("M22"):(o=t.utils.tryExtractingErrorStack(a),t.command("reportPageError",new t.events.Error(t.utils.mergeJSON({msg:e+"",url:t.utils.isString(i)?i:void 0,line:t.utils.isNumber(r)?r:void 0,stack:o},this.status))),n.Rc++,n.hadErrors=!0)},n.prototype.Xf=function(){var e=this;n.Yb=!1,t.aop.support(window.onerror)?(window.onerror=t.aop.around(window.onerror,function(i,r,o,a,s){n.Yb?t.log("M23"):n.hd?t.log("M25"):(t.log("M24"),e.Ia(i,r,o,a,s),n.hd=!0)},function(){t.log("M26"),n.hd=!1},"onerror"),t.log("M27")):t.log("M28")},n}(e.xc);n.hd=!1,n.Rc=0,n.hadErrors=!1,n.Yb=!1,e.ErrorMonitor=n,e.ha=new e.ErrorMonitor}(t.monitor||(t.monitor={}))}(k||(k={})),function(t){!function(e){var n=t.log,i=t.aop.after,r=function(r){function o(){return null!==r&&r.apply(this,arguments)||this}return u(o,r),o.prototype.setUp=function(){t.utils.map(["error","exception"],function(e){var r=A[e];t.utils.isFunction(r)&&t.aop.support(r)?(n("M29",e),A[e]=i(r,function(t){n("M30",e,t),o.Wi(t)})):n("M31",e)}),e.ha.Ia=i(e.ha.Ia,function(){0<o.pa.length?(n("M32"),o.pa=[]):n("M33")})},o.Wi=function(e){o.pa.length>=t.conf.ii?n("M34"):t.utils.isString(e)?(n("M35",e),o.pa.push(e),t.utils.oSTO(o.Dg)):t.utils.isObject(e)?(e=t.utils.toJSONString(e),null!==e?(n("M36",e),o.pa.push(e),t.utils.oSTO(o.Dg)):t.error("M37")):n("M38",typeof e)},o.Dg=function(){0<o.pa.length?(n("M39"),e.ha.Ia(o.pa.join("\n")),o.pa=[]):n("M40")},o}(e.xc);r.pa=[],e.qn=r,e.wj=new r}(t.monitor||(t.monitor={}))}(k||(k={})),function(t){!function(e){var n=function(){function e(){}return e.setUp=function(){e.perf=t.utils.refs.la,t.utils.isObject(e.perf)&&t.utils.isObject(e.perf.timing)||(e.perf=void 0)},e}();n.perf=null,e.PerformanceWrapper=n}(t.monitor||(t.monitor={}))}(k||(k={})),function(t){!function(e){var n=function(){function n(){this.navTiming=null}return n.prototype.Xe=function(){var n=e.PerformanceWrapper.perf;if(n=n&&n.timing)if(n.navigationStart&&n.navigationStart<=n.loadEventEnd){var i,r={};for(i in n){var o=n[i];"number"==typeof o&&(r[i]=o)}this.navTiming=r}else t.log("M42");else t.log("M41")},n.prototype.setUp=function(){e.PerformanceWrapper.setUp()},n}();e.NavTimingMonitor=n,e.navMonitor=new e.NavTimingMonitor}(t.monitor||(t.monitor={}))}(k||(k={})),function(t){!function(e){var n=function(){function n(){this.td=null,e.PerformanceWrapper.setUp(),this.resourceBuffer=[],this.basePageResourceBuffer=[],this.qe=500,this.Ac=150,this.Hi=3e3,this.setResourceTimingBufferSize(),this.um()}return n.prototype.setUp=function(){e.PerformanceWrapper.setUp(),t.utils.isDefined(e.PerformanceWrapper.perf)&&t.utils.isFunction(e.PerformanceWrapper.perf.getEntriesByType)?t.utils.isFunction(e.PerformanceWrapper.perf.addEventListener)?e.PerformanceWrapper.perf.addEventListener("resourcetimingbufferfull",this.gb.bind(this)):"onresourcetimingbufferfull"in e.PerformanceWrapper.perf?t.utils.isFunction(e.PerformanceWrapper.perf.sd)?e.PerformanceWrapper.perf.sd=t.aop.around(e.PerformanceWrapper.perf.sd,this.gb.bind(this)):e.PerformanceWrapper.perf.sd=this.gb.bind(this):t.utils.refs.setInterval.call(window,this.km.bind(this),this.Hi):t.log("M43"),this.ym(),this.lm()},n.prototype.ym=function(){var n=t.conf.userConf&&t.conf.userConf.resTiming&&t.conf.userConf.resTiming.bufSize;t.utils.isDefined(e.PerformanceWrapper.perf)&&t.utils.isFunction(e.PerformanceWrapper.perf.setResourceTimingBufferSize)&&t.utils.isNumber(n)&&0<n&&(this.Ac=n)},n.prototype.lm=function(){var n=e.PerformanceWrapper.perf;t.utils.isDefined(n)&&(t.utils.isFunction(n.setResourceTimingBufferSize)&&(n.setResourceTimingBufferSize=t.aop.around(n.setResourceTimingBufferSize,function(){t.utils.isDefined(arguments)&&t.utils.isDefined(arguments[0])&&(this.Ac=arguments[0])}.bind(this))),t.utils.isFunction(n.clearResourceTimings)&&(n.clearResourceTimings=t.aop.around(n.clearResourceTimings,function(){this.gb()}.bind(this))))},n.prototype.We=function(){this.basePageResourceBuffer=this.nf()},n.prototype.gb=function(){this.resourceBuffer=this.nf()},n.prototype.km=function(){this.kb().length>=this.Ac&&this.gb()},n.prototype.kb=function(){var n=e.PerformanceWrapper.perf,i=[];return n&&n.getEntriesByType&&(n=n.getEntriesByType("resource"))&&n.length&&0<n.length&&n.unshift&&(i=n),0==i.length&&t.log("M44"),i},n.prototype.uk=function(e,n){return t.utils.filter(this.resourceBuffer,function(t){return e+t.startTime>=n})},n.prototype.vk=function(t,e){this.resourceBuffer=this.resourceBuffer.concat(this.kb());var n=this.uk(t,e);return this.clearResourceTimings(),this.resourceBuffer=[],n},n.prototype.um=function(){var n=e.PerformanceWrapper.perf;t.utils.isDefined(n)&&t.utils.isFunction(n.clearResourceTimings)&&(this.td=n.clearResourceTimings.bind(n))},n.prototype.setResourceTimingBufferSize=function(){var n=e.PerformanceWrapper.perf,i=t.conf.userConf&&t.conf.userConf.resTiming&&t.conf.userConf.resTiming.bufSize;!t.utils.isNumber(i)||0>=i?t.log("M45"):n&&t.utils.isFunction(n.setResourceTimingBufferSize)?n.setResourceTimingBufferSize(i):t.log("M46")},n.prototype.nf=function(){var e=this.kb();return this.resourceBuffer.length+e.length>this.qe?(t.log("M47"),this.resourceBuffer.concat(e.slice(0,this.qe-this.resourceBuffer.length))):(this.clearResourceTimings(),this.resourceBuffer.concat(e))},n.prototype.clearResourceTimings=function(){t.conf.clearResTiming&&t.utils.isFunction(this.td)&&this.td()},n}();e.ResourceMonitor=n,e.resourceMonitor=new e.ResourceMonitor}(t.monitor||(t.monitor={}))}(k||(k={})),function(t){!function(t){function e(t){return t.nodeName.toLowerCase()}function n(t){return"video"==e(t)}function i(t){return"image"==e(t)}function r(t){return"svg"==e(t)}function o(t){return!!t&&(0===t.lastIndexOf("video/",0)||0===t.lastIndexOf("image/",0)||0===t.lastIndexOf("font/",0)||0===t.lastIndexOf("model/",0)||0===t.lastIndexOf("text/",0))}function a(t){return"embed"==e(t)&&o(t.type?t.type:t.getAttribute("type"))}function s(t){return"object"==e(t)&&o(t.type?t.type:t.getAttribute("type"))}function u(t){return"img"==e(t)}t.mk=e,t.Tf=n,t.bo=i,t.ao=r,t.Lf=function(t){return"canvas"==e(t)},t.Rf=function(t){return t instanceof Text},t.Zn=o,t.pf=function(t){return(t.right-t.left)*(t.bottom-t.top)},t.Yn=a,t.$n=s,t.Xn=u,t.ob=function(t){return u(t)||s(t)||a(t)||n(t)||i(t)||r(t)},t.pb=function(t){return t=window.getComputedStyle(t),"none"!==t.getPropertyValue("display")&&"hidden"!==t.getPropertyValue("visibility")},t.Rb=function(t){var e="";return t instanceof HTMLImageElement?e=t.currentSrc||t.src:t instanceof HTMLEmbedElement?e=t.src:t instanceof HTMLObjectElement?e=t.data:"undefined"!=typeof HTMLVideoElement&&t instanceof HTMLVideoElement?e=t.currentSrc||t.src:t instanceof SVGImageElement&&(e=t.href.baseVal),e},t.Sn=function(t){var e="";return t instanceof HTMLImageElement?e="img":t instanceof HTMLEmbedElement?e="embed":t instanceof HTMLObjectElement?e="object":"undefined"!=typeof HTMLVideoElement&&t instanceof HTMLVideoElement?e="video":t instanceof SVGImageElement&&(e="image"),e},t.Xc=function(e){return t.isDefined(e.attributes)?e.attributes.getNamedItem("src")||e.attributes.getNamedItem("href"):void 0}}(t.utils||(t.utils={}))}(k||(k={})),function(t){var e=function(){function e(){this.Yk=.2,this.Wa=0,this.mb=!1,this.Aa=t.conf.spa2,this.sc=this.tc=this.g=this.da=this.ya=0,this.viewport={top:0,left:0,bottom:this.sc,right:this.tc},this.Ua=0}return e.prototype.setUp=function(){this.S={},this.dc={},this.da=t.utils.now(),this.g=0;var e=window.MutationObserver;this.Ue(),t.utils.addEventListener(window,"resize",t.utils.Bj(this.Ue).bind(this)),t.utils.isDefined(e)&&(t.utils.isDefined(window.Zone)&&t.utils.isDefined(window.Zone.__symbol__("MutationObserver"))?this.ac=new(window[window.Zone.__symbol__("MutationObserver")])(this.jg.bind(this)):this.ac=new e(this.jg.bind(this)),this.ac.observe(document.documentElement,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["src","href"]}),t.log("M48"))},e.prototype.jg=function(e){var n=this;t.Q(),e.forEach(function(t){switch(t.type){case"childList":[].slice.call(t.addedNodes).forEach(function(t){n.Me(t)});break;case"attributes":n.Me(t.target)}}),t.R()},e.prototype.Ue=function(){this.tc=t.utils.isDefined(window.innerWidth)&&t.utils.isDefined(document.documentElement.clientWidth)?Math.min(window.innerWidth,document.documentElement.clientWidth):window.innerWidth||document.documentElement.clientWidth||document.getElementsByTagName("body")[0].clientWidth,this.sc=t.utils.isDefined(window.innerHeight)&&t.utils.isDefined(document.documentElement.clientHeight)?Math.min(window.innerHeight,document.documentElement.clientHeight):window.innerHeight||document.documentElement.clientHeight||document.getElementsByTagName("body")[0].clientHeight,t.log("M49",this.tc,this.sc),this.viewport={top:0,left:0,bottom:this.sc,right:this.tc}},e.prototype.start=function(){t.Q(),this.setUp(),t.R(),t.log("M50")},e.prototype.reset=function(){this.S={},this.Wa=0,this.dc={},this.Ua=0,t.log("M51")},e.prototype.Me=function(e){t.Q();var n=t.utils.now();t.utils.ob(e)&&!e.isAdrumTrackedNode?(this.mb||(this.K=this.K.bind(this),this.l=this.l.bind(this),this.K.I=!0,this.mb=this.l.I=!0),this.g++,t.log("M52",this.g),n=t.utils.Xc(e),n=t.utils.isDefined(n)?n.value:null,t.utils.Tf(e)?(e.addEventListener("loadeddata",this.K),t.log("M53",n)):(e.addEventListener("load",this.K),t.log("M54",n)),e.addEventListener("error",this.l),e.isAdrumTrackedNode=!0):t.utils.Lf(e)&&!e.adrumNodeId?(t.log("M55"),this.Jb(e,n)):t.utils.Rf(e)&&(this.Wa=Math.max(this.Wa,n)),t.R()},e.prototype.K=function(e){t.Q();var n=t.utils.now();this.da=n,e=e.target;var i=t.utils.Rb(e);t.utils.isDefined(i)&&0<i.length?"data:"!=i.substring(0,5)||e.adrumNodeId?this.Yi(i,n,e):(t.log("M56"),this.Jb(e,n)):e instanceof SVGElement&&!e.adrumNodeId&&(t.log("M57"),this.Jb(e,n)),e&&e.isAdrumTrackedNode&&(this.ub(e),this.g--,t.log("M58",this.g)),t.R()},e.prototype.l=function(e){var n=e.target;n&&n.isAdrumTrackedNode&&(this.ub(n),this.g--,e=t.utils.Rb(e.target),t.log("M59",e))},e.prototype.ub=function(t){t.removeEventListener("load",this.K),t.removeEventListener("error",this.l)},e.prototype.Tb=function(e){return this.nb(e)&&t.utils.pb(e)},e.prototype.Yi=function(e,n,i){t.utils.isDefined(this.S[e])?this.Tb(i)&&(this.S[e]=n,t.log("M60",e,n)):(this.S[e]=n,t.log("M61",e,n))},e.prototype.Jb=function(e,n){t.log("M62",this.Ua,n,e.outerHTML),e.adrumNodeId=this.Ua,this.dc[this.Ua]=n,this.Ua+=1},e.prototype.Ve=function(e){var n=this;t.j.Fb.Ga&&(this.ya=e);var i=0,r=0,o=this.sk(this.ya);if(t.log("M63",o),[].slice.call(document.getElementsByTagName("*")).forEach(function(a){var s=t.utils.Rb(a);if(delete a.isAdrumTrackedNode,t.utils.isDefined(s)&&0<s.length){if(t.log("M64",s),t.utils.isDefined(n.S[s])){var u=n.S[s];t.log("M65",s,u),t.utils.pb(a)&&(t.log("M66",s,u),n.Aa&&(t.log("M67",r,u,e),r=Math.max(r,u-e),t.log("M68",s,r)),n.nb(a)&&(t.log("M69",i,u,e),i=Math.max(i,u-e),t.log("M70",s,i)))}else if(t.utils.ob(a)&&t.utils.pb(a)&&(u=n.xf(s),t.utils.isDefined(u))){var c=u.startTime-(e-n.ya),l=u.duration*o+c;t.log("M71",s,l),t.log("M72",u.duration,c),n.Aa&&(r=Math.max(r,l),t.log("M73",s,r)),n.nb(a)&&(i=Math.max(i,l),t.log("M74",s,i))}}else t.utils.isDefined(a.adrumNodeId)&&(t.utils.isDefined(n.dc[a.adrumNodeId])&&(u=n.dc[a.adrumNodeId],t.utils.pb(a)&&(n.Aa&&(r=Math.max(r,u-e),t.log("M75",a.adrumNodeId,u)),n.nb(a)&&(i=Math.max(i,u-e),t.log("M76",a.adrumNodeId,u)))),delete a.adrumNodeId)}),t.log("M77",i,r),this.ak().forEach(function(a){var s=a.url;a=a.Tb;var u=n.xf(s);t.utils.isDefined(u)&&(u=u.duration*o+(u.startTime-(e-n.ya)),n.Aa&&(t.log("M78",s,u),r=Math.max(r,u)),a&&(t.log("M79",s,u),i=Math.max(i,u)))}),!t.conf.disableTextForTesting){var a=this.Wa-e;0==i&&(t.log("M80"),i=Math.max(i,a)),this.Aa&&0==r&&(t.log("M81"),r=Math.max(r,a))}return i|=0,r|=0,t.log("M82",e,this.ya),t.log("M83",window.location.href),t.log("M84",i,r),{vct:i,pct:r}},e.prototype.nk=function(t){t=t.getBoundingClientRect()
;var e=document.documentElement||document.body,n=t.top+(window.pageYOffset||e.scrollTop)-(e.clientTop||0),e=t.left+(window.pageXOffset||e.scrollLeft)-(e.clientLeft||0);return{top:Math.round(n),left:Math.round(e),bottom:Math.round(n)+t.height,right:Math.round(e)+t.width}},e.prototype.nb=function(e){if(e=this.nk(e),this.al(e))return t.log("M85"),!1;var n={top:Math.max(this.viewport.top,e.top),left:Math.max(this.viewport.left,e.left),bottom:Math.min(this.viewport.bottom,e.bottom),right:Math.min(this.viewport.right,e.right)},n=t.utils.pf(n);return 0!=(e=t.utils.pf(e))&&n/e>=this.Yk||(t.log("M86"),!1)},e.prototype.al=function(t){return t.top>this.viewport.bottom||t.bottom<this.viewport.top||t.right<this.viewport.left||t.left>this.viewport.right},e.prototype.Gj=function(){t.utils.isDefined(this.ac)&&this.ac.disconnect(),t.log("M87")},e.prototype.sk=function(e){var n=this,i=0,r=0;return this.zf().forEach(function(o){var a=o.name;if(t.utils.isDefined(n.S[a])){var s=n.S[a]-e-o.startTime,u=o.duration;t.log("M88",a,e,o.startTime,n.S[a],u),u&&0<s&&(i+=s/u,r++)}}),0<r?i/r:1},e.prototype.ak=function(){var e=this,n=[];return[].slice.call(document.getElementsByTagName("*")).forEach(function(i){if(t.utils.pb(i)){var r=e.$j(i);r&&(e.nb(i)?n.push({url:r,Tb:!0}):e.Aa&&n.push({url:r,Tb:!1}))}}),n},e.prototype.$j=function(e){if(e&&e.style){var n=window.getComputedStyle(e).getPropertyValue("background-image");return n||(n=(e.currentStyle||e.style).backgroundImage),e=this.xk(n),t.utils.isDefined(e)&&t.utils.isDefined(e.substr)&&"undefined"===e.substr(e.lastIndexOf("/")+1)?void 0:e}},e.prototype.xk=function(t){if(t&&t.match("url"))return t.replace('url("',"").replace('")',"")},e.prototype.xf=function(e){for(var n=0,i=this.zf();n<i.length;n++){var r=i[n];if(t.utils.isDefined(r.name)&&0<=r.name.indexOf(e))return r}},e.prototype.zf=function(){return t.j.Fb.Ga?t.monitor.resourceMonitor.basePageResourceBuffer:t.monitor.resourceMonitor.resourceBuffer.concat(t.monitor.resourceMonitor.kb())},e}();t.yn=e,t.N=new e}(k||(k={})),function(t){!function(e){var n=function(){function n(){this.mb=!1,this.Mc=5e3,this.qb=t.conf.userConf&&t.conf.userConf.navComplete&&t.conf.userConf.navComplete.maxResourceQuietTime?t.conf.userConf.navComplete.maxResourceQuietTime:this.Mc}return n.prototype.Tg=function(){t.Q(),this.lb(Element.prototype,"innerHTML",this.vg.bind(this)),this.lb(HTMLElement.prototype,"innerHTML",this.vg.bind(this)),this.lb(HTMLImageElement.prototype,"src",this.rb.bind(this)),this.lb(HTMLScriptElement.prototype,"src",this.rb.bind(this)),this.lb(HTMLLinkElement.prototype,"href",this.rb.bind(this)),this.Pk(),this.ed("append"),this.ed("appendChild"),this.ed("insertBefore"),t.R()},n.prototype.setUp=function(e){t.Q(),this.nd=this.g=0,this.da=e,this.qa=this.B=!1,this.cc={},this.S={},this.qd={},t.R()},n.prototype.start=function(e){this.setUp(e),this.qa=!0,t.log("M89")},n.prototype.reset=function(){this.B=!1,this.g=0,this.qa=!1,this.S={},this.qd={},t.log("M90")},n.prototype.lb=function(t,e,n){this.Ol(t,e,Object.getOwnPropertyDescriptor(t,e),n)},n.prototype.Ol=function(e,n,i,r){if(t.utils.isDefined(i)&&t.utils.isDefined(i.set)&&!t.utils.isDefined(i.I)){var o=this;Object.defineProperty(e,n,{set:function(t){var e;try{e=i.set.apply(this,arguments)}catch(t){throw t}finally{r.call(o,this)}return e}})}},n.prototype.rb=function(e){t.Q(),this.Md(e),t.R()},n.prototype.Pk=function(){var e=Element.prototype,n=this;t.utils.isDefined(e.setAttribute)&&(e.setAttribute=t.aop.around(e.setAttribute,null,function(){var t=d(arguments);"src"!=t[0]&&"href"!=t[0]||n.rb.call(n,this)}))},n.prototype.ed=function(e){var n=Element.prototype,i=this;t.utils.isDefined(n[e])&&(n[e]=t.aop.around(n[e],null,function(){0<arguments.length&&i.rb.call(i,arguments[0])}))},n.prototype.vg=function(e){t.Q(),this.qa&&t.utils.isDefined(e)&&t.utils.isDefined(e.childNodes)&&(this.Md(e),this.fh(e.childNodes)),t.R()},n.prototype.fh=function(e){for(var n=0;n<e.length;n++){var i=e[n];"script"!=t.utils.mk(i)&&this.Md(i),this.fh(i.childNodes)}},n.prototype.Md=function(e){t.monitor.AnySpaMonitor.cd()||(this.Zk(e)?this.ij(e):t.conf.P&&this.jj(e))},n.prototype.ij=function(e){var n=t.utils.Xc(e);t.utils.isDefined(n)&&(n=n.value,!t.utils.isDefined(this.cc[n])&&0<n.length&&(this.g++,this.cc[n]=!0,t.log("M91",n,this.g),this.Ne(e)))},n.prototype.jj=function(e){var n=t.utils.now();t.utils.ob(e)&&!e.isAdrumTrackedNode?(n=t.utils.Rb(e),!t.utils.isDefined(this.cc[n])&&0<n.length&&(this.g++,this.cc[n]=!0,this.Ne(e),t.log("M92",n,this.g))):t.utils.Lf(e)&&!e.adrumNodeId?(t.log("M93",n),t.N.Jb(e,n)):t.utils.Rf(e)&&(t.N.Wa=Math.max(t.N.Wa,n))},n.prototype.Ne=function(e){this.mb||(this.K=this.K.bind(this),this.l=this.l.bind(this),this.K.I=!0,this.mb=this.l.I=!0);var n=t.utils.Xc(e),n=t.utils.isDefined(n)?n.value:null;t.utils.Tf(e)?(e.addEventListener("loadeddata",this.K),t.log("M94",n)):(e.addEventListener("load",this.K),t.log("M95",n,e.nodeName)),e.addEventListener("error",this.l)},n.prototype.el=function(e){return"LINK"!=e.nodeName||(e=e.attributes.getNamedItem("rel"),!t.utils.isDefined(e)||0<=e.value.indexOf("stylesheet"))},n.prototype.Zk=function(t){return/^(SCRIPT|IMG|LINK)$/.test(t.nodeName)&&this.el(t)},n.prototype.K=function(n){t.Q();var i=this.qf(n.target);!t.utils.isDefined(this.S[i])&&0<this.g&&(this.g--,this.S[i]=!0,t.log("M96",i,this.g)),this.da=t.utils.now(),this.nd+=1,1==this.nd&&(e.n.Yg(),this.B=!0),this.ub(n.target),i=n.target,t.conf.P&&t.utils.ob(i)&&!i.isAdrumTrackedNode&&(t.log("M97"),t.N.K(n)),t.R()},n.prototype.l=function(e){t.Q();var n=this.qf(e.target),i=e.target;t.utils.isDefined(this.qd[n])||(this.g--,this.qd[n]=!0,t.log("M98",n,this.g)),t.conf.P&&t.utils.ob(i)&&!i.isAdrumTrackedNode&&(t.log("M99"),t.N.l(e)),this.ub(e.target),t.R()},n.prototype.fj=function(){return 0<this.g&&this.B},n.prototype.qf=function(t){var e="";return t instanceof HTMLScriptElement?e=t.src:t instanceof HTMLImageElement?e=t.src:t instanceof HTMLLinkElement&&(e=t.href),e},n.prototype.bd=function(e){var n=this.g,i=0;return t.conf.P&&(n+=t.N.g,i=t.N.da),t.log("M100",n),0==n&&this.B&&(t.log("M101"),n=Math.max(this.da,i),e-n>=this.qb)?(this.reset(),n):-1},n.prototype.ub=function(t){t.removeEventListener("load",this.K),t.removeEventListener("error",this.l)},n}();e.Nh=n}(t.j||(t.j={}))}(k||(k={})),function(t){!function(e){var n=function(){function n(){this.Mc=3e3,this.qb=t.conf.userConf&&t.conf.userConf.navComplete&&t.conf.userConf.navComplete.maxXhrQuietTime?t.conf.userConf.navComplete.maxXhrQuietTime:this.Mc}return n.prototype.setUp=function(t){this.od=this.g=0,this.Ea=t,this.qa=this.B=!1,this.vh={},this.Wd={}},n.prototype.start=function(t){this.setUp(t),this.qa=!0},n.prototype.Ce=function(e){t.monitor.AnySpaMonitor.cd()||t.utils.isDefined(this.vh[e])||!this.qa||(this.g+=1,this.vh[e]=!0,t.log("M102",e,this.g))},n.prototype.$i=function(n){!t.monitor.AnySpaMonitor.cd()&&this.qa&&0<this.g&&(t.utils.isDefined(this.Wd)&&!t.utils.isDefined(this.Wd[n])&&(this.Ea=t.utils.now(),this.g-=1,this.Wd[n]=!0,t.log("M103",n,this.g)),this.od+=1,1==this.od&&(e.n.Yg(),this.B=!0))},n.prototype.bd=function(t){return 0==this.g&&this.B&&t-this.Ea>=this.qb?(this.reset(),this.Ea):-1},n.prototype.gj=function(){return 0<this.g&&this.B},n.prototype.reset=function(){this.B=!1,this.g=0,this.qa=!1},n}();e.Dh=n}(t.j||(t.j={}))}(k||(k={}));var d=k.utils.xa,h=k.utils.isFunction;!function(a){var b=a.utils.generateGUID,l;!function(t){t[t.USER=0]="USER",t[t.TIMER=1]="TIMER",t[t.XHR=2]="XHR",t[t.RESOURCE=3]="RESOURCE",t[t.PROMISE=4]="PROMISE",t[t.FETCH=5]="FETCH",t[t.OTHER=6]="OTHER"}(l=a.CauseType||(a.CauseType={}));var e=function(){return function(t,e,n){this.start=a.utils.now(),this.parent=t,this.pc=e,this.guid=b(),this.type=n}}();a.Eb=e;var c=function(){function b(){}return b.Rn=function(){return b.events},b.Mf=function(t){return a.utils.isDefined(t)&&a.utils.isFunction(t.handleEvent)},b.yg=function(t,e,n,i){var r;b.ra(e);try{b.Mf(t)?r=t.handleEvent.apply(t,i):h(t)&&(r=t.apply(n,i))}catch(t){throw t}finally{b.L()}return r},b.vc=function(t,e,n,i){if(!a.utils.isDefined(e)||e.I)return e;var r;return i||(r=b.ja()),function(i){var o=b.Qa(t,i,r,n);return b.yg(e,o,this,arguments)}},b.Qa=function(t,n,i,r){return i?a.log("M104",t,i.pc.action):a.log("M105",t),a.utils.isDefined(n)?(n=a.de.xl(n.target||n.srcElement),n.action=t):n=new a.La(t),new e(i,n,r)},b.jn=function(t,e,n){if(!a.utils.isDefined(e)||e.I)return e;var i=b.Qa(t,void 0,b.ja(),n);return function(){return new a.La(t),b.yg(e,i,this,arguments)}},b.Eo=function(t,e){return function(){var n=e.apply(this,arguments);return b.Hc(t),n}},b.ja=function(){return 0<b.events.length?b.events[b.events.length-1]:null},b.ra=function(t){b.events.push(t)},b.L=function(){return b.events.pop()},b.Ic=function(t,e){var n=t,i=1,r="";if(!a.utils.isDefined(n))return null;for(;a.utils.isDefined(n.parent);)r=" -> "+n.pc.action+r,n=n.parent,i+=1;var o=a.utils.now();return a.utils.isDefined(n.pc)&&(r=n.pc.action+r+" -> "+e),a.log("M106",r),a.log("M107",n.start,i),a.log("M108",o-n.start),n},b.Hc=function(t){return b.Ic(b.ja(),t)},b.yk=function(){var t=b.Hc(void 0);if(a.utils.isDefined(t)&&a.utils.isDefined(t.type))return[l.TIMER,l.USER].some(function(e){return t.type==e})?t:void 0},b.Xk=function(a){if(h(a))return a;var b=""+a;return function(){eval(b)}},b.setUp=function(){b.events=[];var t=a.utils.refs;[{mg:t.setTimeout,lf:"setTimeout"},{mg:t.setInterval,lf:"setInterval"}].forEach(function(t){var e=t.mg,n=t.lf;window[n]=function(t){var i=d(arguments);if(t){var r=b.nl(n,arguments[1])?l.OTHER:l.TIMER,r=b.jn(n,b.Xk(t),r);return i[0]=r,e.apply(window,i)}e.apply(window,i)}})},b.nl=function(t,e){return"setTimeout"==t&&(a.utils.isDefined(e)&&0==e||!a.utils.isDefined(e))},b}();c.events=[],a.c=c}(k||(k={})),function(t){var e=t.utils.Oj,n=window.addEventListener,i=t.utils.isDefined(window.EventTarget)?window.EventTarget.prototype.addEventListener:function(){},r=t.utils.isDefined(window.EventTarget)?window.EventTarget.prototype.removeEventListener:function(){},o=function(){return function(t,e,n,i,r,o,a,s){this.action=t||"",this.Wh=e||"",this.className=n||"",this.tagName=i||"",this.name=r||"",this.text=o||"",this.src=a,this.item=s}}();t.La=o;var a=function(){function a(){}return a.setUp=function(){Array.prototype.push.apply(a.Nc,[]),a.fn(),t.utils.isDefined(window.EventTarget)?(a.gn(),a.hn()):a.Zi(),a.Kf("onload"),a.Kf("onerror")},a.oo=function(){return[]},a.ek=function(e,n){var i="";if(t.utils.isDefined(e))if("string"==typeof e.textContent)i=t.utils.isDefined(String.prototype.trim)?e.textContent.trim():e.textContent,i=t.utils.isDefined(n)?i.substring(0,n):i;else for(e=e.firstChild;t.utils.isDefined(e)&&(i+=a.ek(e,n),!(t.utils.isDefined(n)&&i.length>=n));e=e.nextSibling);return i},a.xl=function(n){var i=e(n.id)||"",r=e(n.className)||"",a="",s=new o;return n instanceof HTMLHtmlElement?(a="html",s.text="#html"):n===document?(a="document",s.text="#document"):n===window?(a="window",s.text="#window"):n instanceof XMLHttpRequest?(a="xhr",s.src=t.utils.isObject(n._adrumAjaxT)?encodeURI(n._adrumAjaxT.url()):""):n instanceof WebSocket?(a="websocket",s.src=encodeURI(n.url)):n instanceof HTMLScriptElement?(a="script",s.src=encodeURI(n.src)):n instanceof HTMLAnchorElement?(a="a",s.text=e(n.text)||""):n instanceof HTMLButtonElement?(a="button",s.name=e(n.name)):n instanceof HTMLDivElement?a="div":n instanceof HTMLImageElement?(a="img",s.src=encodeURI(n.src),s.text=e(n.title)||""):n instanceof HTMLLIElement?(a="li",s.item=n.value):n instanceof HTMLUListElement?a="ul":n instanceof HTMLFormElement?a="form":n instanceof HTMLFrameElement?(a="frame",s.src=encodeURI(n.src)):n instanceof HTMLInputElement?(a=e(n.type)||"input",s.text=e(n.value),s.name=e(n.name)):n instanceof HTMLTableElement?a="table":n instanceof HTMLTableCaptionElement?a="tcap":n instanceof HTMLTableCellElement?a="td":n instanceof HTMLTableRowElement?a="tr":(a=t.utils.isDefined(n.tagName)?e(n.tagName):"",t.log("M109",a)),s.Wh=i,s.className=r,s.tagName=a,t.utils.isString(s.text)&&(s.text=t.utils.isDefined(String.prototype.trim)?s.text.trim():s.text,s.text=s.text.substring(0,30)),s},a.fn=function(){t.utils.forEach(a.Nc,function(e){n(e,function(n){((n=n.target||n.srcElement)===document||n===window||n instanceof XMLHttpRequest||n instanceof HTMLElement)&&null!=n&&n["on"+e]&&(n["on"+e]=t.c.vc(e,n["on"+e],t.CauseType.USER,!0),n["on"+e].I=!0)},!0)})},a.Zi=function(){t.utils.forEach(a.Nc,function(e){n(e,function(n){n=t.c.Qa(e,n,null,t.CauseType.USER),t.c.ra(n)},!0),n(e,function(){t.c.L()},!1)})},a.jh=function(e){var n=!1;return t.utils.isBoolean(e)?n=e:t.utils.isObject(e)&&t.utils.isDefined(e.capture)&&(n=!!e.capture),n},a.Ng=function(e,n,i,r){if(!t.utils.isDefined(e.eventListenerMap)||!t.utils.isDefined(e.eventListenerMap[n])||!t.utils.isDefined(i))return-1;for(e=e.eventListenerMap[n],n=0;n<e.length;n++)if(e[n][0]==i&&e[n][1]==r)return n;return-1},a.If=function(e,n,i,r,o){t.utils.isDefined(e)&&t.utils.isDefined(o)&&(t.utils.isDefined(e.eventListenerMap)||(e.eventListenerMap={}),t.utils.isDefined(e.eventListenerMap[n])||(e.eventListenerMap[n]=[]),e.eventListenerMap[n].push([i,r,o]))},a.em=function(t,e,n){if(-1<n){var i=t.eventListenerMap[e];delete i[n],i.splice(n,1),0==i.length&&delete t.eventListenerMap[e]}},a.gn=function(){EventTarget.prototype.addEventListener=function(e,n,r){if(t.utils.isDefined(n)&&n.I||!t.c.Mf(n)&&!h(n))return i.call(this,e,n,r);var o=a.jh(r),s=t.utils.isDefined(this)?this:window;if(!(-1<a.Ng(s,e,n,o))){var u=n;switch(e){case"click":case"dblclick":case"auxclick":case"mousedown":case"mouseup":case"drop":case"keyup":case"keydown":case"keypress":case"contextmenu":case"pageChanged":case"close":u=t.c.vc(e,n,t.CauseType.USER,!0),a.If(s,e,n,o,u);break;case"load":case"error":u=t.c.vc(e,n,t.CauseType.USER,!1),a.If(s,e,n,o,u)}i.call(s,e,u,r)}}},a.hn=function(){EventTarget.prototype.removeEventListener=function(e,n,i){if(t.utils.isDefined(n)&&n.I)return r.call(this,e,n,i);var o=a.jh(i),s=t.utils.isDefined(this)?this:window,o=a.Ng(s,e,n,o);0<=o?(r.call(s,e,this.eventListenerMap[e][o][2],i),a.em(s,e,o)):r.call(s,e,n,i)}},a.Kf=function(e){var n=HTMLElement.prototype,i=Object.getOwnPropertyDescriptor(n,e);t.utils.isDefined(i)&&t.utils.isDefined(i.set)&&Object.defineProperty(n,e,{set:function(n){var r=n;t.utils.isDefined(n)&&(r=t.c.vc(e,n,t.CauseType.RESOURCE,!1));var o;try{o=i.set.call(this,r)}catch(t){throw t}return o}})},a}();a.Nc="click dblclick mousedown mouseup change select submit keydown keypress keyup load unload".split(" "),t.de=a}(k||(k={})),function(t){!function(e){var n=t.utils.map,i=t.utils.en,r=t.utils.isDefined,o=t.utils.isString,a=t.utils.Fj,s=t.utils.isFunction;e.eg=function(t,e){for(var n=!1,i=0;i<e.length;i++){var r=e[i];if(r&&r.test(t)){n=!0;break}}return n},e.Wb=function(t,n,i){var o=!1;if(n&&i)for(var a=0;a<i.length;a++){var s=i[a];if(!(r(s.method)&&t!==s.method||r(s.urls)&&!e.eg(n,s.urls))){o=!0;break}}return o},e.Ab=function(t,e){return a(n(i(e),t))},e.qc=function(t){var n=e.ik(t);return t=e.rf(t),n||t},e.ik=function(e){var n=e.method;if(r(n)){if(o(n))return e;t.error("M110")}},e.Zm=function(t){var n=e.rf(t);return e.Zl(t)&&n},e.Zl=function(e){if(s(e.getFromBody))return e;t.error("M111")},e.zj=function(e){for(var n=[],i=0;i<e.length;i++){var r=e[i].pattern;if(o(r))try{n.push(new RegExp(r))}catch(e){t.exception(e,"M112")}else t.error("M113")}return n},e.rf=function(t){var n=t.urls;if(n&&0<n.length&&(t.urls=e.zj(n),0<t.urls.length))return t}}(t.utils||(t.utils={}))}(k||(k={})),function(t){t=t.events||(t.events={}),t=t.b||(t.b={}),t.navigationStart="navigationStart",t.domainLookupStart="domainLookupStart",t.domainLookupEnd="domainLookupEnd",t.connectStart="connectStart",t.secureConnectionStart="secureConnectionStart",t.connectEnd="connectEnd",t.requestStart="requestStart",t.responseStart="responseStart",t.responseEnd="responseEnd",t.domContentLoadedEventStart="domContentLoadedEventStart",t.loadEventEnd="loadEventEnd",t.Og="sendTime",t.jf="firstByteTime",t.Ig="respAvailTime",t.Jg="respProcTime",t.Sd="viewChangeStart",t.lh="viewChangeEnd",t.Td="viewDOMLoaded",t.uh="xhrRequestsCompleted",t.Co="viewFragmentsLoaded",t.Do="viewResourcesLoaded",t.Ud="virtualPageStart",t.bn="virtualPageEnd"}(k||(k={})),function(t){var e=t.events||(t.events={});e.metricSpec={},e.metricSpec[t.EventType.PageView]={Nj:{start:e.b.navigationStart,end:e.b.loadEventEnd,name:"PLT"},Vj:{start:e.b.navigationStart,end:e.b.responseStart,name:"FBT"},vo:{start:e.b.navigationStart,end:e.b.requestStart,name:"SCT"},wo:{start:e.b.secureConnectionStart,end:e.b.connectEnd,name:"SHT"},On:{start:e.b.domainLookupStart,end:e.b.domainLookupEnd,name:"DLT"},zo:{start:e.b.connectStart,end:e.b.connectEnd,name:"TCP"},ro:{start:e.b.requestStart,end:e.b.responseStart,name:"RAT"},Qn:{start:e.b.responseStart,end:e.b.loadEventEnd,name:"FET"},Un:{start:e.b.responseStart,end:e.b.domContentLoadedEventStart,name:"DRT"},Tn:{start:e.b.responseStart,end:e.b.responseEnd,name:"DDT"},Mn:{start:e.b.responseEnd,end:e.b.domContentLoadedEventStart,name:"DPT"},qo:{start:e.b.domContentLoadedEventStart,end:e.b.loadEventEnd,name:"PRT"},Nn:{start:e.b.navigationStart,end:e.b.domContentLoadedEventStart,name:"DOM"}},e.metricSpec[t.EventType.Ajax]={Vj:{start:e.b.Og,end:e.b.jf,name:"FBT"},An:{start:e.b.jf,end:e.b.Ig,name:"DDT"},zn:{start:e.b.Ig,end:e.b.Jg,name:"DPT"},Nj:{start:e.b.Og,end:e.b.Jg,name:"PLT"}},e.metricSpec[t.EventType.VPageView]={io:{start:e.b.Ud,end:e.b.bn,name:"PLT"},In:{start:e.b.Sd,end:e.b.lh,name:"DDT"},eo:{start:e.b.Sd,end:e.b.Td,name:"DRT"},rn:{start:e.b.lh,end:e.b.Td,name:"DPT"},sn:{start:e.b.Sd,end:e.b.Td,name:"DOM"},po:{start:"viewChangeEnd",end:"xhrRequestsCompleted",name:null},fo:{start:"viewChangeEnd",end:"viewPartialsLoaded",name:null},co:{start:"viewPartialsLoaded",end:"viewFragmentsLoaded",name:null},ho:{start:"viewPartialsLoaded",end:"viewResourcesLoaded",name:null}},e.metricSpec[t.EventType.NG_VIRTUAL_PAGE]=e.metricSpec[t.EventType.VPageView]}(k||(k={})),function(t){!function(e){var n=function(n){function i(r){return r=n.call(this,r)||this,r.constructor!=i&&r.constructor!=e.AdrumAjax&&t.reportAPIMessage(t.W.ma,t.Ya,"ADRUM.events.Ajax",[]),r}return u(i,n),i.prototype.type=function(){return t.EventType.Ajax},i}(e.EventTracker);e.Ajax=n,e.Oa(e.U[t.EventType.Ajax],n.prototype),e.Je(e.metricSpec[t.EventType.Ajax],n.prototype)}(t.events||(t.events={}))}(k||(k={})),function(t){!function(e){var n=function(e){function n(t){return e.call(this,t)||this}return u(n,e),n.prototype.type=function(){return t.EventType.Ajax},n}(e.Ajax);e.AdrumAjax=n,e.Oa(e.U[t.EventType.ADRUM_XHR],n.prototype)}(t.events||(t.events={}))}(k||(k={})),function(t){!function(e){var n=t.utils.isDefined,i=function(){function i(){}return i.yd=function(e,n){t.conf.spa2?i.xj(e,n):i.Mg(e,n)},i.xj=function(r,o){var a=t.c.Ic(r.h);if(n(t.monitor.AnySpaMonitor.vp)&&!t.monitor.AnySpaMonitor.Ca&&t.monitor.AnySpaMonitor.vp.fb==a){if(o.parent(t.monitor.AnySpaMonitor.vp),++t.monitor.AnySpaMonitor.vp.Ke>e.va.maxPerPageView)return;i.Mg(r,o)}else n(t.monitor.AnySpaMonitor.vp)&&!t.monitor.AnySpaMonitor.Ca&&o.parent(t.monitor.AnySpaMonitor.vp),i.wd(o,r),e.oSTO(i.fm,i.Di);delete r._adrumAjaxT,t.j.n.G.$i(o.url())},i.Mg=function(n,r){var o={};n.Ae=o,delete n._adrumAjaxT;var a={};if(n instanceof XMLHttpRequest)try{if(a={status:n.status,getAllResponseHeaders:n.getAllResponseHeaders()},400<=n.status)if(e.isString(n.statusText))a.statusText=n.statusText;else try{a.responseText=n.responseText}catch(t){a.responseType=n.responseType}}catch(e){t.error("M114",e)}e.hc(function(){n.Ae===o&&i.reportXhr(a,r)})},i.reportXhr=function(e,n){i.hh(e,n),t.command("reportXhr",n)},i.wd=function(e,r){if(n(r.h)){var o=t.c.Ic(r.h).guid;i.hh(r,e),n(i.ia[o])||(i.ia[o]=[]),-1==i.ia[o].indexOf(e)&&i.ia[o].push(e)}else t.log("M115")},i.hh=function(t,n){var i,r=n.response||t,o=r.status;if(e.isNumber(o)&&n.xhrStatus(o),r.getAllResponseHeaders){var a=e.isFunction(r.getAllResponseHeaders)?r.getAllResponseHeaders():r.getAllResponseHeaders;n.allResponseHeaders(a)}if(400<=o){if(e.isString(r.statusText))i=r.statusText;else try{e.isString(r.responseText)&&(i=r.responseText)}catch(t){e.isString(r.responseType)&&(i=r.responseType)}n.error({status:o,msg:i})}},i.Vm=function(t,e){var n="";t.headers.forEach(function(t,e){n+=e+": "+t+"\r\n"}),e.allResponseHeaders(n)},i.Cg=function(t){i.ia[t]=[],delete i.ia[t]},i.zl=function(e,r){var o=i.ia[r];n(o)&&(o.forEach(function(n){n.parent(e),t.command("reportXhr",n)}),i.Cg(r))},i.fm=function(){for(var r in i.ia){for(var o=0,a=i.ia[r];o<a.length;o++){var s=a[o];!n(t.monitor.AnySpaMonitor.vp)&&++i.kj<=e.va.maxPerPageView?t.command("reportXhr",s):n(t.monitor.AnySpaMonitor.vp)&&++t.monitor.AnySpaMonitor.vp.Ke<=e.va.maxPerPageView&&t.command("reportXhr",s)}i.Cg(r)}},i}();i.Di=2e3,i.ia={},i.kj=0,e.wc=i}(t.utils||(t.utils={}))}(k||(k={})),function(t){!function(e){var n=t.utils.isDefined,i=function(){function i(){}return i.setUp=function(){i.exclude=[{urls:[new RegExp(t.conf.beaconUrlHttp+t.conf.corsEndpointPath),new RegExp(t.conf.beaconUrlHttps+t.conf.corsEndpointPath)]}],i.include=[],i.maxPerPageView=i.Yl(t.conf.userConf&&t.conf.userConf.xhr),i.payloadParams=[],i.parameter={},i.ug(t.conf.userConf&&t.conf.userConf.xhr)},i.ug=function(t){n(t)&&(i.exclude=i.exclude.concat(e.Ab(e.qc,t.exclude)),i.include=i.include.concat(e.Ab(e.qc,t.include)),i.payloadParams=i.payloadParams.concat(e.Ab(e.qc,t.payloadParams)),i.parameter=e.Ab(e.Zm,t.parameter))},i.Yl=function(r){if(n(r)){if(r=r.maxPerPageView,e.isNumber(r)&&0<r)return r;if("UNLIMITED"===r)return 1/0;t.reportAPIMessage(t.W.Ah,"Invalid maxPerPageView value: "+r,"xhr.maxPerPageView",[r])}return t.conf.spa2?i.Jh:i.Ih},i.mc=function(t,r){var o=i.include,a=i.exclude;return n(o)&&0<o.length&&!e.Wb(r,t,o)||n(a)&&0<a.length&&e.Wb(r,t,a)},i.Wg=function(t,n){var r=i.payloadParams;e.Wb(t.method(),t.url(),r)&&t.dataObject({data:n})},i}();i.Ih=50,i.Jh=250,e.va=i}(t.utils||(t.utils={}))}(k||(k={})),function(t){!function(e){e.parseURI=function(t){var e=String(t).replace(/^\s+|\s+$/g,"").match(/^([^:\/?#]+:)?(?:\/\/(?:([^:@\/?#]*)(?::([^:@\/?#]*))?@)?(([^:\/?#]*)(?::(\d*))?))?([^?#]*)(\?[^#]*)?(#[\s\S]*)?/);return t=e&&null!=t.match(e[1]+"//"),e&&{href:e[0]||"",protocol:e[1]||"",slash:t?"//":"",username:e[2]||"",password:e[3]||"",host:e[4]||"",hostname:e[5]||"",port:e[6]||"",pathname:e[7]||"",search:e[8]||"",hash:e[9]||""}},e.absolutizeURI=function(t,n){function i(t){var e=[];return t.replace(/^(\.\.?(\/|$))+/,"").replace(/\/(\.(\/|$))+/g,"/").replace(/\/\.\.$/,"/../").replace(/\/?[^\/]*/g,function(t){"/.."===t?e.pop():e.push(t)}),e.join("").replace(/^\//,"/"===t.charAt(0)?"/":"")}var r,o,a,s,u,c,l,f;return f=n?e.parseURI(n):{},l=t?e.parseURI(t):{},f.protocol?(r=f.protocol,o=f.slash,a=f.username,s=f.password,u=f.host,c=i(f.pathname),l=f.search):f.host?(r=l.protocol,o=l.slash,a=f.username,s=f.password,u=f.host,c=i(f.pathname),l=f.search):(r=l.protocol,o=l.slash,a=l.username,s=l.password,u=l.host,f.pathname?("/"===f.pathname.charAt(0)?c=i(f.pathname):(c=l.pathname?l.pathname.slice(0,l.pathname.lastIndexOf("/")+1)+f.pathname:o?"/"+f.pathname:f.pathname,c=i(c)),l=f.search):(c=i(l.pathname),l=f.search||l.search)),r+o+(a?a+(s?":"+s:"")+"@":"")+u+c+l+(f.hash?f.hash:"")},e.getFullyQualifiedUrl=function(n){try{var i,r,o=document.location.href;t:{for(var a=document.getElementsByTagName("base"),s=0;s<a.length;s++){var u=a[s].href;if(u){r=u;break t}}r=void 0}return i=r?e.absolutizeURI(o,r):o,e.absolutizeURI(i,n)}catch(e){return t.exception(e,"M116",n,i),n}}}(t.utils||(t.utils={}))}(k||(k={})),function(t){!function(e){var n=t.utils.isString,i=function(i){function r(){var t=i.call(this)||this;return t.ea=0,t.ea=0,t}return u(r,i),r.prototype.gc=function(){this.ea=0},r.l=function(e){var i=e.message||e.description,r=e.fileName||e.filename,o=e.lineNumber,a=e.columnNumber;n(e.description)&&0<=e.description.indexOf("Access is denied.")&&(i+=": maybe you have CORS XHR error in IE"),t.monitor.ha.Ia(i,r,o,a,e)},r.Qf=function(t){var n=document.createElement("a");n.href=t,t=document.location;var i=t.protocol;return n.protocol===i&&n.hostname===t.hostname&&r.Sl(e.XHRMonitor.Ej[i],n.port,t.port)},r.Sl=function(t,e,n){return(e||t)===(n||t)},r}(e.xc);i.Ej={"http:":"80","https:":"443"},e.wa=i}(t.monitor||(t.monitor={}))}(k||(k={})),function(t){!function(e){var n=t.utils.va,i=t.utils.wc,r=t.utils.mergeJSON,o=t.events.AdrumAjax,a=t.utils.isString,s=t.utils.isDefined,c=t.utils.isNumber,l=t.utils.getFullyQualifiedUrl,f=t.conf.spa2;e.Ma=null,e.qh=window.fetch;var p=t.conf.isZonePromise,d=null,m=function(m){function g(){return null!==m&&m.apply(this,arguments)||this}return u(g,m),g.prototype.Qk=function(){var n=this,i=Object.getOwnPropertyDescriptor(window,"fetch");if(!i||i.configurable){i&&delete i.writable,i&&delete i.value,i||(i={configurable:!0,enumerable:!0});var r=i.set,o=i.get;i.set=function(t){!0!==t.isAgentFetch&&(s(r)&&r.apply(this,arguments),s(e.Ma)||n.setUp(t))},i.get=function(){var t=e.qh;return s(o)&&(t=o.apply(this,arguments)),s(e.Ma)&&(t=e.Ma),t}}Object.defineProperty(window,"fetch",i),p&&t.utils.jd()&&(window.fetch=window.fetch)},g.prototype.setUp=function(a){var u=this;if(a=a||window.fetch||e.qh,t.log("M117"),s(a)&&!a.isAgentFetch){var c=function(n){return function(r,o){var a=arguments;if(u._adrumAjaxT){t.log("M118",u._adrumAjaxT.url(),u._adrumAjaxT.method());var s=t.utils.now();e.wa.Qf(u._adrumAjaxT.url())&&(a=g.Ui(arguments));var c=n.apply(this,a),l=new window.Promise(function(e,n){c.then(function(n){if(t.log("M119",u._adrumAjaxT.url()),t.log("M120",s,u._adrumAjaxT.url()),i.Vm(n,l._adrumAjaxT),l._adrumAjaxT.markFirstByteTime(l._adrumAjaxT.getFirstByteTime()||t.utils.now()),l._adrumAjaxT.response=n,h(n.clone)){t.log("M121",u._adrumAjaxT.url());var r=n.clone().text();r.catch(function(t){g.Tc(l,t)}),g.Ak(r,l)}else t.log("M122",u._adrumAjaxT.url()),g.zm(l,n);e(n)}),c.catch(function(e){t.log("M123",u._adrumAjaxT.url()),l._adrumAjaxT.markFirstByteTime(l._adrumAjaxT.getFirstByteTime()||t.utils.now()),g.Tc(l),n(e)})});return l._adrumAjaxT=u._adrumAjaxT,l.I=!0,l._adrumAjaxT.timestamp(s),l._adrumAjaxT.markSendTime(s),l._adrumAjaxT.parentPhase(t.lifecycle.getPhaseName()),g.tm(l._adrumAjaxT,arguments),t.log("M124",s,u._adrumAjaxT.url()),f&&(l.h=new t.Eb(t.c.ja(),new t.La("window.fetch"),t.CauseType.FETCH)),l}return n.apply(this,a)}};c.isAgentFetch=!0,e.Ma=t.aop.around(c(a),function(){var i=g.tk(arguments);!f&&++u.ea+e.xhrMonitor.ea>n.maxPerPageView||n.mc(i.url,i.method)?(t.log("M125",i.url),delete u._adrumAjaxT):(u._adrumAjaxT=new o(r(i,u.status)),f&&(u.h=t.c.Qa("window.fetch.send",void 0,t.c.ja(),t.CauseType.FETCH),t.c.ra(u.h)))},function(){u._adrumAjaxT&&(!f&&u.ea+e.xhrMonitor.ea>n.maxPerPageView?t.log("M126",u._adrumAjaxT.url()):n.mc(u._adrumAjaxT.url(),u._adrumAjaxT.method())?t.log("M127",u._adrumAjaxT.url()):f&&(t.j.n.G.Ce(u._adrumAjaxT.url()),t.c.L()))},"fetch",e.wa.l),e.Ma.isAgentFetch=!0,window.fetch=e.Ma}},g.tf=function(){return d||(d=new g),d},g.Ak=function(e,n){e.then(function(e){var i=t.utils.now();g.ca(n)&&(n._adrumAjaxT.response.responseText=e,g.ag(n._adrumAjaxT,i),e=n._adrumAjaxT.getRespProcTime(),s(e)||s(n._adrumAjaxT.w)&&0!==n._adrumAjaxT.w||(t.log("M128",i,n._adrumAjaxT.url()),n._adrumAjaxT.markRespProcTime(i),g.Va(n)))}).catch(function(t){g.Tc(n,t)})},g.Tc=function(e,n){if((!n||n.code!==n.ABORT_ERR)&&e&&e._adrumAjaxT){t.log("M129",e._adrumAjaxT.url());var i=t.utils.now();g.ca(e)&&(g.ag(e._adrumAjaxT,i),g.bg(e._adrumAjaxT,i),g.Va(e))}},g.ag=function(e,n){var i=e.getRespAvailTime();s(i)||(t.log("M130",n,e.url()),e.markRespAvailTime(n))},g.bg=function(e,n){var i=e.getRespProcTime();return!s(i)&&(t.log("M131",n,e.url()),e.markRespProcTime(n),!0)},g.zm=function(t,e){e.hj=g.Bb(t,e.hj),e.oj=g.Bb(t,e.oj),e.Xj=g.Bb(t,e.Xj),e.ul=g.Bb(t,e.ul),e.text=g.Bb(t,e.text)},g.Bb=function(e,n){return t.aop.around(n,function(){g.ca(e)&&e._adrumAjaxT.markRespAvailTime(t.utils.now())},function(){g.ca(e)&&(e._adrumAjaxT.markRespProcTime(t.utils.now()),g.Va(e))},"wrapResponseReader",t.monitor.ErrorMonitor.l)},g.Ui=function(t){return 1==t.length?a(t[0])?([].push.call(t,{}),g.Fc(t[1])):g.Fc(t[0]):2==t.length&&g.Fc(t[1]),t},g.Fc=function(e){s(e)&&(s(e.headers)||(e.headers=new Headers,t.log("M132")),e.headers instanceof Headers?e.headers.has("ADRUM")?e.headers.set("ADRUM","isAjax:true"):e.headers.append("ADRUM","isAjax:true"):e.headers.ADRUM="isAjax:true")},g.tm=function(e,i){2<=i.length&&t.utils.isObject(i[1])&&s(i[1].body)&&n.Wg(e,i[1].body)},g.tk=function(e){var n={url:"",method:""};return t.utils.isObject(e[0])?(n.url=e[0].url||(t.utils.isDefined(e[0].toString)?e[0].toString():void 0),n.method=e[0].method||"GET"):a(e[0])&&(n.url=e[0],n.method=e[1]&&e[1].method||"GET"),n.url=s(n.url)?n.url:"",n.url=l(n.url),n.method=n.method,n},g.Kk=function(e){var n;s(n)||(t.log("M133",e._adrumAjaxT.url()),n=1),s(e._adrumAjaxT.w)&&c(e._adrumAjaxT.w)&&(e._adrumAjaxT.w+=n,t.log("M134",e._adrumAjaxT.w,e._adrumAjaxT.url()))},g.Nb=function(e){var n;s(n)||(t.log("M135",e._adrumAjaxT.url()),n=1),s(e._adrumAjaxT.w)&&c(e._adrumAjaxT.w)&&(e._adrumAjaxT.w-=n,t.log("M136",e._adrumAjaxT.w,e._adrumAjaxT.url()))},g.ca=function(t){return s(t._adrumAjaxT)},g.Sb=function(t){return s(t._adrumAjaxT.w)},g.Xm=function(e,n){e._adrumAjaxT=n._adrumAjaxT,e._adrumAjaxT.w+=e.D,t.log("M137",e._adrumAjaxT.w,n._adrumAjaxT.url()),e.D=0},g.$m=function(t){var e=!1;return g.ca(t)&&s(t._adrumAjaxT.w)&&(g.Kk(t),e=!0),e},g.Va=function(t){i.yd(t,t._adrumAjaxT)},g.Rd=function(e){var n=t.utils.now();return!(0!==e._adrumAjaxT.w||!s(e._adrumAjaxT))&&g.bg(e._adrumAjaxT,n)},g.Qd=function(e){var n=!1,i=t.utils.now(),r=e._adrumAjaxT.getRespAvailTime();return s(r)||(e._adrumAjaxT.markRespAvailTime(i),n=!0),n},g.Mk=function(e){t.log("M138",e._adrumAjaxT.url()),e._adrumAjaxT.w=0},g}(e.wa);e.Rh=m,e.jb=m.tf()}(t.monitor||(t.monitor={}))}(k||(k={})),function(t){!function(e){var n=t.utils.isObject,i=t.utils.map,r=t.utils.reduce,o=t.utils.filter,a=t.utils.isDefined,s=t.utils.isString,c=t.utils.mergeJSON,l=t.utils.xa,f=t.utils.hc,p=t.utils.va,d=t.utils.wc,h=t.conf.spa2,m=function(m){function g(){var e=m.call(this)||this;return e.Jd=!1,!0===window["adrum-xhr-disable"]?(t.log("M139"),e):window.XMLHttpRequest?(e.C=window.XMLHttpRequest.prototype,e.C?"open"in e.C&&"send"in e.C?(e.Jd=t.aop.support(e.C.open)&&t.aop.support(e.C.send),e.Jd||t.log("M143"),e):(t.log("M142"),e):(t.log("M141"),e)):(t.log("M140"),e)}return u(g,m),g.prototype.setUp=function(){if(this.Jd){t.log("M144"),t.xhrConstructor=window.XMLHttpRequest,t.xhrOpen=this.xhrOpen=this.C.open,t.xhrSend=this.xhrSend=this.C.send,p.setUp();var n=this;this.C.open=t.aop.around(this.C.open,function(){g.kl(this)&&(4===this.readyState?(t.log("M145"),g.Pj(this._adrumAjaxT),delete this.Ae,d.reportXhr(this,this._adrumAjaxT)):t.log("M146",this._adrumAjaxT.url()));var i=1<=arguments.length?String(arguments[0]):"",r=2<=arguments.length?String(arguments[1]):"",r=t.utils.getFullyQualifiedUrl(r);!h&&n.ea+e.jb.ea>p.maxPerPageView||p.mc(r,i)||(this._adrumAjaxT=new t.events.AdrumAjax(c({method:i,url:r},n.status)))},null,"XHR.open",e.wa.l),this.C.send=t.aop.around(this.C.send,function(r){var o=this,a=this._adrumAjaxT,s=!1;if(!(!a||!h&&++n.ea+e.jb.ea>p.maxPerPageView)){var u=t.utils.now(),c=a.getSendTime();t.assert(null===c,"M147"),a.timestamp(u),a.markSendTime(c||u),a.parentPhase(t.lifecycle.getPhaseName()),h&&(o.h=t.c.Qa("XHR.send",void 0,t.c.ja(),t.CauseType.XHR)),e.wa.Qf(a.url())?o.setRequestHeader("ADRUM","isAjax:true"):t.log("M148",document.location.href,a.url()),p.Wg(a,r),r=g.pk(a.url(),p.parameter,r),a.parameter(r);var l=0,d=function(){if(4==o.readyState)s?t.log("M149"):(t.log("M150"),n.uc(o));else{var e=null;try{e=o.onreadystatechange}catch(e){return s?void t.log("M151",e):(t.log("M152",e),void n.uc(o))}l++,e?t.aop.support(e)?(o.onreadystatechange=g.Ze(e,"XHR.onReadyStateChange"),i&&n.th.call(o,"readystatechange",g.bf),t.log("M153",l)):i||(t.log("M154"),n.uc(o)):l<g.Ri?f(d):s?t.log("M155"):(t.log("M156"),n.uc(o))}}
;if(i){t.log("M157");try{n.ln.call(o,"readystatechange",g.bf),s=!0}catch(e){t.error("M158",e)}}d()}},function(){if(h){var e=this._adrumAjaxT;e&&t.j.n.G.Ce(e.url())}},"XHR.send",e.wa.l);var i="addEventListener"in this.C&&"removeEventListener"in this.C&&t.aop.support(this.C.addEventListener)&&t.aop.support(this.C.removeEventListener);if(i){var r=t.utils.of(this.C,"addEventListener");this.ln=r.addEventListener,r.addEventListener=t.aop.around(r.addEventListener,function(e,n,i){if(a(n)&&(n.I=!0,this instanceof XMLHttpRequest&&/^(load|error|readystatechange)$/.test(e)&&n)){var r=g.Rm(n);if(r){var o=l(arguments);return o[1]=r,t.log("M159"),o}t.log("M160",e,n)}},null,"XHR.addEventListener"),r=t.utils.of(this.C,"removeEventListener"),this.th=r.removeEventListener,r.removeEventListener=t.aop.around(r.removeEventListener,function(e,i,r){if(this instanceof XMLHttpRequest&&this._adrumAjaxT){var o=l(arguments);i.__adrumInterceptor?(o[1]=i.__adrumInterceptor,t.log("M161"),n.th.apply(this,o)):t.log("M162")}},null,"XHR.removeEventListener")}else t.log("M163");t.log("M164")}},g.pk=function(e,a,s){if(a&&(a=o(i(o(a,function(n){return t.utils.eg(e,n.urls)}),function(t){return t.getFromBody(s)}),n),0<a.length))return r(a,c,{})},g.ad=function(e){var n=e._adrumAjaxT;if(n){var i=t.utils.now();2==e.readyState?n.markFirstByteTime(n.getFirstByteTime()||i):4==e.readyState&&(n.markRespAvailTime(n.getRespAvailTime()||i),n.markFirstByteTime(n.getFirstByteTime()||i),h&&(e=e.h=t.c.Qa("XHR.load",void 0,e.h,t.CauseType.XHR),t.c.ra(e)))}},g.Bf=function(e){var n=e._adrumAjaxT;if(n&&4==e.readyState){var i=t.utils.now(),r=n.getRespProcTime();n.markRespAvailTime(n.getRespAvailTime()||i),i>r&&n.markRespProcTime(i),d.yd(e,n),t.conf.spa2&&t.c.L()}},g.Ze=function(t,e){return g.mn(t,function(){g.ad(this)},function(){g.Bf(this)},e)},g.bf=function(){g.ad(this),g.Bf(this)},g.kl=function(t){return a(t._adrumAjaxT)&&s(t._adrumAjaxT._url)},g.Pj=function(e){var n=t.utils.now();e.markRespAvailTime(e.getRespAvailTime()||n),e.markFirstByteTime(e.getFirstByteTime()||n),e.markRespProcTime(e.getRespProcTime()||n)},g.prototype.uc=function(e){if(e._adrumAjaxT){var n=t.utils.now()+3e4,i=function(){g.ad(e);var r=e._adrumAjaxT;if(r){var o=t.utils.now();4==e.readyState?(t.assert(null===r.getRespProcTime(),"M165"),r.markRespProcTime(r.getRespProcTime()||o),t.log("M166"),d.yd(e,r),t.conf.spa2&&t.c.L()):o<n?t.utils.oSTO(i,g.ce):(delete e._adrumAjaxT,t.log("M167"))}};i()}},g.mn=function(e,n,i,r){var o=e;return e&&"object"==typeof e&&"toString"in e&&"[xpconnect wrapped nsIDOMEventListener]"===e.toString()&&"handleEvent"in e&&(o=function(){e.handleEvent.apply(this,l(arguments))}),t.aop.around(o,n,i,r)},g.Rm=function(e){if(e.__adrumInterceptor)return e.__adrumInterceptor;if(t.aop.support(e)){var n=g.Ze(e,"XHR.invokeEventListener");return e.__adrumInterceptor=n}},g}(e.wa);m.Ri=5,m.ce=50,e.XHRMonitor=m,e.xhrMonitor=new e.XHRMonitor}(t.monitor||(t.monitor={}))}(k||(k={})),function(t){!function(e){var n=t.utils.wc,i=function(i){function r(e){return e=i.call(this,e)||this,e.perf=new t.PerformanceTracker,e.$e=!1,e.Ke=0,e}return u(r,i),r.prototype.type=function(){return t.EventType.VPageView},r.prototype.Wc=function(){return e.EventTracker.Ec(this.guid(),this.url(),this.type())},r.prototype.Gd=function(){var e=this.Wc();t.monitor.ha.set("parent",e),t.log("M168",e.guid(),e.url())},r.prototype.startCorrelatingXhrs=function(){t.log("M169"),t.utils.isDefined(this.fb)&&!t.monitor.AnySpaMonitor.Ca&&n.zl(this,this.fb.guid)},r.prototype.start=function(){this.startCorrelatingXhrs(),this.Gd()},r}(e.EventTracker);e.AnySpaVPageView=i,e.Oa(e.U[t.EventType.VPageView],i.prototype)}(t.events||(t.events={}))}(k||(k={})),function(t){t.report=function(e){t.utils.isObject(e)&&t.utils.isFunction(e.type)?-1==[t.EventType.PageView,t.EventType.Ajax,t.EventType.VPageView,t.EventType.Error].indexOf(e.type())?t.reportAPIMessage(t.W.ma,e.type()+"is not a valid external event type","ADRUM.report",Array.prototype.slice.call(arguments)):t.conf.spa2&&t.EventType.VPageView==e.type()?t.log("M170"):t.utils.hc(function(){t.command("reportEvent",e)}):t.reportAPIMessage(t.W.Xd,"","ADRUM.report",Array.prototype.slice.call(arguments))},t.markVirtualPageBegin=function(e,n){t.conf.spa2&&(this.Ra=!t.utils.isDefined(n)||n,t.log("M171",document.URL),t.monitor.AnySpaMonitor.Ed(document.URL,e,!0),t.monitor.AnySpaMonitor.Rg())},t.markVirtualPageEnd=function(){t.conf.spa2&&this.Ra&&(t.log("M172",t.monitor.AnySpaMonitor.ka),t.monitor.AnySpaMonitor.cg(t.monitor.AnySpaMonitor.vp.startTime,t.utils.now()),this.Ra=!1)}}(k||(k={})),function(t){!function(e){var n=t.utils.isDefined,i=t.aop.after,r=t.aop.before,o=function(){function o(){}return o.prototype.setUp=function(){var e=!1;if(o.ya=t.utils.ib(),t.c.setUp(),t.de.setUp(),o.wm(),t.j.n.setUp(t.utils.now()),o.ka=document.URL,o.Sc=[],t.utils.isDefined(window.history)&&t.utils.isFunction(window.history.pushState)&&(e=!0,o.Be("push")),t.utils.isDefined(window.history)&&t.utils.isFunction(window.history.replaceState)&&(e=!0,o.Be("replace")),o.Sc=o.Sc.concat(t.utils.Ab(t.utils.qc,t.conf.userConf&&t.conf.userConf.spa&&t.conf.userConf.spa.spa2&&t.utils.isObject(t.conf.userConf.spa.spa2)&&t.conf.userConf.spa.spa2.vp&&t.conf.userConf.spa.spa2.vp.exclude)),t.utils.isDefined(window.addEventListener)){var e=!0,n=function(){o.ka!=document.URL&&o.Sg()};n.I=!0,window.addEventListener("popstate",n)}e||t.log("M173")},o.Be=function(t){switch(t){case"push":window.history.pushState=o.Vg(window.history.pushState,t);break;case"replace":window.history.replaceState=o.Vg(window.history.replaceState,t)}},o.Vg=function(n,i){var r=i[0].toUpperCase()+i.slice(1);return t.aop.around(n,function(){e.DOMEventsMonitor.$b&&!t.Ra&&(t.log("M174",i),o.Ed(document.URL))},function(){e.DOMEventsMonitor.$b&&(t.Ra?(t.log("M175",i),o.vp.url(document.URL)):(t.log("M176",i),o.Rg())),o.ka=document.URL},"history"+r+"State")},o.Sg=function(){var n=document.URL;t.log("M177",o.ka,n),e.DOMEventsMonitor.$b&&(t.Ra?(t.log("M178"),o.vp.url(document.URL)):(o.Ed(o.ka),o.Hd(n))),o.ka=n},o.wm=function(){var e;t.c.ra=i(t.c.ra,function(){e=location.hash}),t.c.L=r(t.c.L,function(){e!=location.hash&&o.ka!=document.URL&&o.Sg()})},o.Ed=function(t,e,n){o.qm(),o.Ca=!1,o.Ye(t,e,n)},o.Rg=function(){var t=document.URL;o.Hd(t),o.ka=t},o.Ln=function(){o.Ca=!0,o.Ye(o.ka),o.Hd()},o.qm=function(){var n=t.j.n;t.conf.P&&t.j.Fb.Ga&&t.utils.isDefined(e.DOMEventsMonitor.currentBasePage)&&(t.log("M179"),n.G.B||n.J.B?n.navComplete(t.utils.now()):n.navComplete(t.utils.max(n.G.Ea,n.J.da)),n.reset()),o.Ca||!t.utils.isDefined(o.vp)||o.vp.Eg||(t.log("M180"),n=o.fk(t.j.n.B),o.cg(o.vp.startTime,n))},o.fk=function(e){var n=t.utils.now();return e?(n=o.gk(t.j.n.Sa),t.j.n.reset()):n=o.vp.timestamp(),n},o.Bm=function(e,i){return!o.vp.$e&&(n(i)&&0<i.length&&t.utils.Wb(void 0,e,i))},o.gk=function(e){var n=t.utils.now();return e?t.j.n.J.fj()||t.j.n.G.gj()||(n=t.utils.max(t.j.n.J.da,t.j.n.G.Ea)):n=t.j.n.startTime,n},o.cg=function(t,e){o.ld(t,e),o.$f(t),o.report()},o.Ye=function(e,n,i){o.reset(),o.vp=new t.events.AnySpaVPageView,o.vp.startUrl=e,t.utils.isDefined(n)&&(o.vp.userPageName=n),t.utils.isBoolean(i)&&(o.vp.$e=i),e=t.c.Hc(),o.vp.startTime=o.Ca?t.utils.ib():t.utils.isDefined(e)?e.start:t.utils.now(),o.vp.fb=e},o.Hd=function(e){t.utils.isDefined(e)&&o.vp.url(e),o.vp.start(),t.Ra||t.j.n.start(t.utils.now())},o.ld=function(e,n){t.utils.isDefined(o.vp)&&(t.conf.P&&o.sj(e),t.utils.isDefined(n)?t.conf.P?o.vp.timestamp(n-e>o.vp.vct?n:o.vp.vct+e):o.vp.timestamp(n):o.vp.timestamp(e))},o.sj=function(e){t.log("M181"),e=t.N.Ve(e),o.vp.vct=e.vct,t.N.reset()},o.$f=function(n){t.utils.isDefined(o.vp)&&o.vp.resTiming(e.resourceMonitor.vk(o.ya,n))},o.cd=function(){var e=t.c.yk();return t.utils.isDefined(e)&&t.utils.isDefined(o.vp)&&(!t.utils.isDefined(o.vp.fb)||o.vp.fb!=e)},o.report=function(){if(t.utils.isDefined(o.vp))if(o.Bm(o.vp.url(),o.Sc))t.log("M183",o.vp.url());else{t.log("M184");var n=o.vp;if(n.Eg)t.log("M185");else{var i=t.utils.isDefined(e.DOMEventsMonitor.currentBasePage)?e.DOMEventsMonitor.currentBasePage.url():document.URL;n.parentUrl(i),t.command("call",function(){t.reporter.reportEvent(n)}),n.Eg=!0}}else t.log("M182")},o.reset=function(){o.vp=null},o}();e.AnySpaMonitor=o,e.ej=new e.AnySpaMonitor}(t.monitor||(t.monitor={}))}(k||(k={})),function(t){!function(e){var n=function(){function n(){this.J=new e.Nh,this.G=new e.Dh,this.Cl=3e3,this.maxInactiveTime=t.conf.userConf&&t.conf.userConf.navComplete&&t.conf.userConf.navComplete.maxInactiveTime?t.conf.userConf.navComplete.maxInactiveTime:Math.max(this.J.qb,this.G.qb)+this.Cl,this.tg=1e3}return n.prototype.setUp=function(t){this.currentTime=this.startTime=t,this.B=this.Sa=!1,this.J.setUp(t),this.G.setUp(t)},n.prototype.start=function(t){this.setUp(t),this.B=!0,this.J.start(t),this.G.start(t),this.Qe(),this.Fm()},n.prototype.Fm=function(){this.eh=t.utils.refs.setInterval.call(window,function(){t.Q(),this.currentTime=t.utils.now();var e=t.utils.max(this.J.da,this.G.Ea);if(this.currentTime-e>=this.maxInactiveTime){if(t.conf.P&&n.Ga&&!t.utils.isDefined(t.monitor.DOMEventsMonitor.currentBasePage))return t.log("M186"),void(n.Pa=n.Pa||this.Sa?this.currentTime:e);this.currentTime=n.Pa||this.currentTime,t.log("M187"),this.navComplete(this.Sa?this.currentTime:e),this.reset()}t.R()}.bind(this),this.tg)},n.prototype.Yg=function(){this.Sa||(this.Dm(),this.Sa=!0)},n.prototype.Qe=function(){t.utils.isDefined(this.zg)&&clearInterval(this.zg),t.utils.isDefined(this.eh)&&clearInterval(this.eh)},n.prototype.reset=function(){this.Qe(),this.B=this.Sa=!1,this.J.reset(),this.G.reset()},n.prototype.navComplete=function(e){t.Q();var i=t.utils.isDefined(t.monitor.AnySpaMonitor.vp&&t.monitor.AnySpaMonitor.vp.startTime)?t.monitor.AnySpaMonitor.vp.startTime:this.startTime;t.log("M188",e-i),t.conf.P?n.Ga?(t.monitor.PerformanceWrapper.perf&&(t.monitor.navMonitor.Xe(),t.monitor.resourceMonitor.We()),t.log("M189"),e=t.N.Ve(t.utils.ib()),t.monitor.DOMEventsMonitor.currentBasePage.vct=e.vct,t.conf.spa2&&(t.monitor.DOMEventsMonitor.currentBasePage.pct=e.pct),t.command("reportOnload",t.monitor.DOMEventsMonitor.currentBasePage),t.N.reset(),t.N.Aa=!1,n.Ga=!1):t.monitor.AnySpaMonitor.ld(i,e):(t.monitor.resourceMonitor.basePageResourceBuffer=[],t.monitor.AnySpaMonitor.ld(i,e)),t.monitor.AnySpaMonitor.Ca||(t.monitor.AnySpaMonitor.$f(i),t.monitor.AnySpaMonitor.report()),t.R()},n.prototype.Dm=function(){this.zg=t.utils.refs.setInterval.call(window,function(){t.Q(),this.currentTime=t.utils.now();var e=this.J.bd(this.currentTime);if(0<=e&&t.log("M190",e-this.startTime),e=this.G.bd(this.currentTime),0<=e&&t.log("M191",e-this.startTime),!this.G.B&&!this.J.B){if(e=t.utils.max(this.G.Ea,this.J.da),t.conf.P&&n.Ga&&!t.utils.isDefined(t.monitor.DOMEventsMonitor.currentBasePage))return t.log("M192"),void(n.Pa=n.Pa||e);e=n.Pa||e,t.log("M193"),this.navComplete(e),this.reset()}t.R()}.bind(this),this.tg)},n}();n.Ga=!0,n.Pa=0,e.Fb=n,e.n=new e.Fb}(t.j||(t.j={}))}(k||(k={})),function(t){var e=function(){function e(){this.oc=[],this.fc(e.Dc,0)}return e.prototype.Gl=function(t){this.fc(e.De,t)},e.prototype.Il=function(t){this.fc(e.Le,t)},e.prototype.Hl=function(t){this.fc(e.Fe,t)},e.prototype.fc=function(t,e){this.oc.push({Fl:(new Date).getTime(),El:e,qg:t}),this.Aj=t},e.prototype.getPhaseName=function(){return this.Aj},e.prototype.getPhaseID=function(t){for(var n=0;n<e.Ie.length;n++)if(e.Ie[n]===t)return n;return null},e.prototype.getPhaseCallbackTime=function(t){for(var e=this.oc,n=0;n<e.length;n++)if(e[n].qg===t)return e[n].Fl;return null},e.prototype.findPhaseAtNominalTime=function(n){t.assert(0<=n);for(var i=this.oc,r=i.length-1;0<=r;r--)if(n>=i[r].El)return i[r].qg;return t.error("M194",n,t.utils.dumpObject(i)),e.Dc},e}();e.Dc="AFTER_FIRST_BYTE",e.De="AFTER_DOM_INTERACTIVE",e.Le="AT_ONLOAD",e.Fe="AFTER_ONLOAD",e.Ie=[e.Dc,e.De,e.Le,e.Fe],t.PageLifecycleTracker=e,t.lifecycle=new e,t.lifecycle=t.lifecycle}(k||(k={})),function(t){!function(e){var n=function(e){function n(n){return n=e.call(this,n)||this,n.backTimeGap=t.conf.backTimeGap,n}return u(n,e),n.prototype.type=function(){return t.EventType.PageView},n}(e.EventTracker);e.PageView=n}(t.events||(t.events={}))}(k||(k={})),function(t){!function(e){var n=t.utils.now,i=function(){function i(){}return i.prototype.setUp=function(){var e=document.readyState;if("loading"===e)t.log("M195"),i.xm(),i.Ug();else{var r={timeStamp:n()};i.$a(r),"interactive"===e?(t.log("M196"),i.Ug()):(t.log("M197"),i.tb(r),i.lg(r))}},i.Ug=function(){t.utils.addEventListener(window,"load",i.tb),t.utils.addEventListener(window,"load",i.lg)},i.lg=function(r){i.currentBasePage=new t.events.PageView,t.lifecycle.Il(r&&r.timeStamp),t.utils.hc(function(){var r=n();t.lifecycle.Hl(r),t.command("mark","onload",r),i.$b=!0,t.conf.P?t.N.Gj():(e.PerformanceWrapper.perf&&(e.navMonitor.Xe(),e.resourceMonitor.We()),t.command("reportOnload",i.currentBasePage)),!t.conf.P&&t.conf.spa2&&t.conf.modernBrowserFeaturesAvailable&&t.j.n.J.Tg(),t.utils.loadScriptAsync(t.conf.adrumExtUrl)}),t.log("M198")},i.xm=function(){if(t.utils.isFunction(document.addEventListener))document.addEventListener("DOMContentLoaded",i.$a,!1);else if(t.utils.isObject(document.attachEvent)){document.attachEvent("onreadystatechange",i.$a);var e=null;try{e=null===window.frameElement?document.documentElement:null}catch(t){}null!=e&&e.doScroll&&function n(){if(!i.isReady){try{e.doScroll("left")}catch(e){return void t.utils.oSTO(n,10)}i.tb()}}()}else t.error("M199");t.log("M200")},i.tb=function(e){i.dg||(t.lifecycle.Gl(e&&e.timeStamp),t.command("mark","onready",n()),i.dg=!0)},i.$a=function(t){document.addEventListener?(document.removeEventListener("DOMContentLoaded",i.$a,!1),i.tb(t)):"complete"===document.readyState&&(document.detachEvent("onreadystatechange",i.$a),i.tb(t))},i}();i.isReady=!1,i.dg=!1,i.$b=!1,e.DOMEventsMonitor=i,e.domEventsMonitor=new e.DOMEventsMonitor}(t.monitor||(t.monitor={}))}(k||(k={})),function(t){var e=t.utils.isDefined,n=t.utils.isNumber,i=t.monitor.Rh;t.ph=window.Promise,t.Kb=null,t.Ao=null,t.te=Object.defineProperty;var r=t.conf.spa2&&t.conf.modernBrowserFeaturesAvailable,o=t.conf.isZonePromise,a=t.conf.fetch,s=function(){function a(){}return a.Sk=function(){if(Object.defineProperty=t.aop.around(t.te,function(t,n,i){"Promise"===n&&e(i)&&a.Jf(i)}),o&&t.utils.jd()){t.log("M201");var n=Object.getOwnPropertyDescriptor(window,"Promise");a.Jf(n),t.te(window,"Promise",n),window.Promise=window.Promise}},a.Jf=function(n){e(window.Zone)&&e(window.Zone.assertZonePatched)&&(window.Zone.assertZonePatched=function(){}),n=n||Object.getOwnPropertyDescriptor(window,"Promise");var i=n.set,r=n.get;h(i)&&(n.set=function(n){!0===n.agentPromise?t.log("M202"):(i.apply(this,arguments),e(t.Kb)?i.apply(this,arguments):(t.log("M203"),a.setUp()))}),h(r)&&(n.get=function(){var n=r.apply(this,arguments);return e(t.Kb)&&(t.log("M204"),n=t.Kb),n})},a.setUp=function(){if(e(t.ph)){a.Vk(),a.Uk();var n=function(n){function i(i){var o=this.constructor,s=i;return this.aa=t.utils.generateGUID(),e(i)&&(s=a.Tk(i,this)),i=t.utils.Ti(this,n,[s],o),r&&(e(this.h)&&(i.h=this.h),e(this.Ha)?i.h=this.Ha.h:i.h=t.c.ja()),i.aa=this.aa,this.Ha=i,t.log("M205",i.aa),r&&e(i.h)&&t.log("M206",i.h.guid),i}return t.utils.Bc(i,n),i}(window.Promise);n.agentPromise=!0,t.Kb=n,window.Promise=n}},a.za=function(n,i){return function(){if(r){var o,s=o=void 0;switch(t.log("M207",n),n){case a.H.le:case a.H.ke:case a.H.$d:case a.H.Zd:t.utils.isDefined(i)&&t.utils.isDefined(i.Ha)&&(o=i.Ha.h),o=t.c.ja()||o,s=new t.Eb(o,new t.La(n),t.CauseType.PROMISE);break;case a.H.ie:case a.H.je:case a.H.he:o=i.h,s=new t.Eb(o,new t.La(n),t.CauseType.PROMISE),t.c.ra(s)}e(i)&&(e(i.Ha)?(i.Ha.h=s,t.log("M208",i.Ha.aa)):(t.log("M209",i.aa),i.h=s))}}},a.Tk=function(n,i){return r&&(n=t.aop.around(n,function(){if(i.h=new t.Eb(t.c.ja(),new t.La(a.H.Zh),t.CauseType.PROMISE),t.c.ra(i.h),t.log("M210",i.h.guid,i.aa),e(arguments[0])){t.log("M211");var n=t.aop.around(arguments[0],a.za(a.H.le,i));arguments[0]=n}return e(arguments[1])&&(t.log("M212"),n=t.aop.around(arguments[1],a.za(a.H.ke,i)),arguments[1]=n),t.utils.xa(arguments)},function(){t.log("M213"),t.c.L()},"interceptPromiseExecutor",a.sb)),n},a.Uk=function(){t.utils.refs.promiseThen=window.Promise.prototype.then;var e=a.xg(),n={parentObject:window.Promise.prototype,property:"then",propertyWrappedFunctionName:"promiseThen",wrapNewFunctionAgain:!0};n.setUpFunc=function(e){return function(n){t.utils.jd()||a.dm(n,e)}}.call(this,n),n.Na=e,t.aop.forceWrap(n),t.utils.refs.promiseFinally=window.Promise.prototype.finally,e=a.wg(),n={parentObject:window.Promise.prototype,property:"finally",propertyWrappedFunctionName:"promiseFinally",wrapNewFunctionAgain:!0},n.setUpFunc=function(t){return function(e){a.cm(e,t)}}.call(this,n),n.Na=e,t.aop.forceWrap(n)},a.dm=function(t,e){e.Na=a.xg(t)},a.cm=function(t,e){e.Na=a.wg(t)},a.Vk=function(){a.am(),a.$l()},a.jl=function(e){return e instanceof a||e instanceof t.ph},a.Jk=function(i){var r;e(r)||(t.log("M214"),r=1),e(i.D)&&n(i.D)&&(i.D+=r,t.log("M215",i.D))},a.Dj=function(t){var i;e(i)||(i=1),e(t.D)&&n(t.D)&&(t.D-=i)},a.Lk=function(n){e(n.D)&&t.utils.fl(n.D)?(t.log("M216"),a.Jk(n)):n.D=1},a.Wm=function(e){i.$m(e)||(t.log("M217"),a.Lk(e))},a.im=function(t){t.D=0},a.Pf=function(t){return e(t.I)},a.fd=function(t){return e(t)&&t instanceof window.Promise},a.xg=function(n){var o=null;return n=n||window.Promise.prototype.then,n=t.aop.around(n,function(){var n=this;if(o=n,t.log("M218",n.aa),e(arguments[0])&&!a.fd(arguments[0])){a.Wm(n),t.log("M219",n.aa);var s=t.aop.around(arguments[0],a.za(a.H.ie,n),function(){var o=t.aop.wf(arguments);e(o)&&e(o.D)&&a.jl(o)&&i.ca(n)?(i.Xm(o,n),a.im(o)):(i.ca(n)&&!a.Pf(n)&&i.Sb(n)&&(i.Qd(n),i.Nb(n),!0===i.Rd(n)&&(t.log("M220"),t.log("M221"),i.Va(n))),r&&(t.log("M222"),t.c.L()))},"interceptPromiseThenFulfil",function(e){i.ca(n)&&i.Sb(n)&&(i.Qd(n)&&i.Nb(n),!0===i.Rd(n)&&(t.log("M223"),t.log("M224"),i.Va(n))),a.sb(e)});arguments[0]=s}return e(arguments[1])&&!a.fd(arguments[1])&&(t.log("M225",n.aa),s=t.aop.around(arguments[1],a.za(a.H.je,n),function(){r&&(t.log("M226"),t.c.L())}),arguments[1]=s),t.utils.xa(arguments)},function(){var n=t.aop.wf(arguments);!e(n)||e(arguments[0])&&a.fd(arguments[0])||(r&&(n.h=this.h),a.Pf(this)&&i.ca(this)&&(n._adrumAjaxT=this._adrumAjaxT,i.Sb(this)||i.Mk(n)))},"interceptPromiseThenInterceptor",function(e){var n=o;i.ca(n)&&i.Sb(n)&&(i.Qd(n)&&i.Nb(n),!0===i.Rd(n)&&(t.log("M227"),t.log("M228"),i.Va(n))),a.sb(e)}),n.usedByAgent=!0,window.Promise.prototype.then=n},a.wg=function(n){if(e(window.Promise.prototype.finally))return n=n||window.Promise.prototype.finally,n=t.aop.around(n,function(){if(e(this._adrumAjaxT)&&e(this._adrumAjaxT.w)?i.Nb(this):e(this.D)&&a.Dj(this),e(arguments[0])){t.log("M229",this.aa);var n=t.aop.around(arguments[0],a.za(a.H.he,this),function(){r&&(t.log("M230"),t.c.L())});return arguments[0]=n,t.utils.xa(arguments)}},function(){t.log("M231"),t.c.L()},"interceptPromiseFinally"),n.usedByAgent=!0,window.Promise.prototype.finally=n},a.am=function(){window.Promise.resolve=t.aop.around(window.Promise.resolve,a.za(a.H.$d,null),function(){t.log("M232"),t.c.L()},"interceptPromiseResolve",a.sb)},a.$l=function(){window.Promise.reject=t.aop.around(window.Promise.reject,a.za(a.H.Zd,null),function(){t.log("M233"),t.c.L()},"interceptPromiseReject",a.sb)},a}();s.H={Zh:"PromiseInstance.init",le:"PromiseInstance.resolve",ke:"PromiseInstance.reject",ie:"PromiseInstance.onFulfilled",je:"PromiseInstance.onRejected",he:"PromiseInstance.finally",$d:"PromiseConstructor.resolve",Zd:"PromiseConstructor.reject"},s.sb=t.monitor.ErrorMonitor.l,t.Gi=s,o&&a&&(s.Sk(),i.tf().Qk())}(k||(k={})),function(t){!function(e){function n(t,e){var n=[],i=/^\s*(ADRUM_BT\w*)=(.*)\s*$/i.exec(t);if(i){var r=i[1],i=i[2].replace(/^"|"$/g,""),i=decodeURIComponent(i).split("|"),a=i[0].split(":");if("R"===a[0]&&Number(a[1])===e)for(o(r),r=1;r<i.length;r++)n.push(i[r])}return n}function i(t,e){var n=/^\s*(ADRUM_(\d+)_(\d+)_(\d+))=(.*)\s*$/i.exec(t);if(n){var i=n[1],r=n[4],a=n[5];if(Number(n[3])===e)return o(i),{index:Number(r),value:a}}return null}function r(e){var n=/^\s*ADRUM=s=([\d]+)&r=(.*)\s*/.exec(e);if(n)return t.log("M236",e),3===n.length?(o("ADRUM"),{startTime:Number(n[1]),startPage:n[2]}):(t.error("M237",e),null)}function o(e){t.log("M235",e);var n=new Date;n.setTime(n.getTime()-1e3),document.cookie=e+"=;Expires="+n.toUTCString()}e.startTimeCookie=null,e.cookieMetadataChunks=null,e.cf=function(o,a){t.log("M234");for(var s=a?a.length:0,u=[],c=o.split(";"),l=0;l<c.length;l++){var f=c[l],p=i(f,s);p?u.push(p):null!=(f=r(f))&&(e.startTimeCookie=f)}for(Array.prototype.sort.call(u,function(t,e){return t.index-e.index}),f=[],l=0;l<u.length;l++)f.push(u[l].value);for(l=0;l<c.length;l++)(u=n(c[l],s))&&0<u.length&&(f=f.concat(u));e.cookieMetadataChunks=f},t.correlation.eck=e.cf}(t.correlation||(t.correlation={}))}(k||(k={})),function(t){"APP_KEY_NOT_SET"!==t.conf.appKey||t.utils.isDefined(window.ADEUM_js_handler)||t.utils.isDefined(window.webkit)||A.log("AppDynamics EUM cloud application key missing. Please specify window['adrum-app-key']"),t.correlation.cf(document.cookie,document.referrer),t.command("mark","firstbyte",window["adrum-start-time"]),t.monitor.setUpMonitors(t.monitor.ha,t.monitor.wj,t.monitor.domEventsMonitor,t.monitor.navMonitor,t.monitor.xhrMonitor,t.monitor.resourceMonitor),t.conf.fetch&&!t.conf.isZonePromise&&(t.Gi.setUp(),t.monitor.setUpMonitors(t.monitor.jb)),t.conf.spa2&&t.conf.modernBrowserFeaturesAvailable&&t.monitor.setUpMonitors(t.monitor.ej),t.conf.enablePrimaryMetrics&&t.utils.isDefined(window.MutationObserver)&&(t.conf.P=!0,t.j.n.J.Tg(),t.j.n.start(t.utils.ib()),t.N.start())}(k||(k={})),function(t){t=t.ng||(t.ng={}),t=t.k||(t.k={}),t.Yf="locationChangeStart",t.wl="locationChangeSuccess",t.Kg="routeChangeStart",t.Lg="routeChangeSuccess",t.Zg="stateChangeStart",t.$g="stateChangeSuccess",t.mh="viewContentLoaded",t.Fk="includeContentRequested",t.Ek="includeContentLoaded",t.af="digest",t.lo="outstandingRequestsComplete",t.Oe="beforeNgXhrRequested",t.Ee="afterNgXhrRequested",t.ko="ngXhrLoaded",t.Se="$$completeOutstandingRequest"}(k||(k={})),function(t){!function(e){function n(t,n,i,r,o,a){if(n)try{return n.apply(t,[i,r,o].concat(a))}catch(n){return t.error(i,r,o,a,e.Error.$h,"M238",n)}}function i(t,i){return function(){var r=this.current,o=i[r]||i[e.Hb]||r,a=Array.prototype.slice.call(arguments);if(this.uj(t))return this.error(t,r,o,a,e.Error.ai,"event "+t+"M239"+this.current);if(!1===n(this,this["onbefore"+t],t,r,o,a))return e.Gb.Yd;if(o===e.Hb&&(o=r),r===o)return n(this,this["onafter"+t]||this["on"+t],t,r,o,a),e.Gb.Ai;var s=this;return this.transition=function(){return s.transition=null,s.current=o,n(s,s["onenter"+o]||s["on"+o],t,r,o,a),n(s,s["onafter"+t]||s["on"+t],t,r,o,a),e.Gb.Li},!1===n(this,this["onleave"+r],t,r,o,a)?(this.transition=null,e.Gb.Yd):this.transition?this.transition():void 0}}var r=t.utils.hasOwnPropertyDefined;e.VERSION="2.3.5",e.Gb={Li:1,Ai:2,Yd:3,un:4},e.Error={ai:100,vn:200,$h:300},e.Hb="*",e.create=function(t,n){function o(t){var n=t.from instanceof Array?t.from:t.from?[t.from]:[e.Hb];l[t.name]=l[t.name]||{};for(var i=0;i<n.length;i++)f[n[i]]=f[n[i]]||[],f[n[i]].push(t.name),l[t.name][n[i]]=t.to||n[i]}var a="string"==typeof t.initial?{state:t.initial}:t.initial,s=n||t.target||{},u=t.events||[],c=t.callbacks||{},l={},f={};a&&(a.event=a.event||"startup",o({name:a.event,from:"none",to:a.state}));for(var p=0;p<u.length;p++)o(u[p]);for(var d in l)r(l,d)&&(s[d]=i(d,l[d]));for(d in c)r(c,d)&&(s[d]=c[d]);return s.current="none",s.Vn=function(t){return t instanceof Array?0<=t.indexOf(this.current):this.current===t},s.tj=function(t){return!this.transition&&(r(l[t],this.current)||r(l[t],e.Hb))},s.uj=function(t){return!this.tj(t)},s.oc=function(){return f[this.current]},s.error=t.error||function(t,e,n,i,r,o,a){throw a||o},a&&!a.defer&&s[a.event](),s}}(t.we||(t.we={}))}(k||(k={})),function(t){!function(e){var n=function(n){function i(e){return e=n.call(this,e)||this,t.utils.isDefined(t.ng)&&e.constructor!=t.ng.NgVPageView&&e.constructor!=i&&t.reportAPIMessage(t.W.ma,t.Ya,"ADRUM.events.VPageView",[]),t.conf.spa2?e:(e.perf=new t.PerformanceTracker,e.start(),t.monitor.xhrMonitor.gc(),t.monitor.jb.gc(),t.monitor.ha.hm(),e)}return u(i,n),i.prototype.type=function(){return t.EventType.VPageView},i.prototype.Wc=function(){return e.EventTracker.Ec(this.guid(),this.url(),this.type())},i.prototype.Xg=function(e){var n=this.Wc();e.set("parent",n),t.log("M240",n.guid(),n.url())},i.prototype.startCorrelatingXhrs=function(){t.conf.spa2||(t.log("M241"),this.Xg(t.monitor.xhrMonitor))},i.prototype.stopCorrelatingXhrs=function(){t.conf.spa2||(t.monitor.xhrMonitor.set("parent",null),t.log("M242"))},i.prototype.Gd=function(){t.conf.spa2||(t.log("M243"),this.Xg(t.monitor.ha))},i.prototype.start=function(){t.conf.spa2||(this.markVirtualPageStart(),this.startCorrelatingXhrs())},i.prototype.end=function(){t.conf.spa2||(this.markVirtualPageEnd(),this.stopCorrelatingXhrs())},i}(e.EventTracker);e.VPageView=n,e.Oa(e.U[t.EventType.VPageView],n.prototype),e.Je(e.metricSpec[t.EventType.VPageView],n.prototype)}(t.events||(t.events={}))}(k||(k={})),function(t){var e=t.ng||(t.ng={}),e=e.conf||(e.conf={});e.disabled=t.conf.userConf&&t.conf.userConf.spa&&t.conf.userConf.spa.angular&&t.conf.userConf.spa.angular.disable,e.distinguishVPwithItsTemplateUrl=!!(t.conf.userConf&&t.conf.userConf.spa&&t.conf.userConf.spa.angular&&!0===t.conf.userConf.spa.angular.distinguishVPwithItsTemplateUrl),e.xhr={},e.metrics={includeResTimingInEndUserResponseTiming:!0},t.conf.userConf&&t.conf.userConf.spa&&t.conf.userConf.spa.angular&&t.conf.userConf.spa.angular.vp&&(t.conf.userConf.spa.angular.vp.xhr&&t.utils.va.ug(t.conf.userConf.spa.angular.vp.xhr),t.conf.userConf.spa.angular.vp.metrics&&t.utils.mergeJSON(e.metrics,t.conf.userConf.spa.angular.vp.metrics))}(k||(k={})),function(t){!function(e){var n=t.utils.map,i=t.utils.reduce,r=t.utils.filter,o=function(o){function a(e){return e=o.call(this,e)||this,e.Of=!0,e.vb={},e.Xa=0,e.Fo=[],e.digestCount(0),e.constructor!=a?(t.reportAPIMessage(t.W.ma,t.Ya,"ADRUM.events.Ajax",[]),e):(e.stopCorrelatingXhrs(),e)}return u(a,o),a.prototype.type=function(){return t.EventType.VPageView},a.prototype.Ud=function(){this.markViewChangeStart(),this.markVirtualPageStart(this.getViewChangeStart()),this.timestamp(this.getViewChangeStart())},a.prototype.Gk=function(){this.digestCount(this.digestCount()+1)},a.prototype.Hk=function(){this.Xa++,t.log("M244",this.Xa)},a.prototype.Cj=function(){this.Xa--,t.log("M245",this.Xa)},a.prototype.Bk=function(){var e=this.perf.getEntryByName(t.events.b.uh);return t.log("M246",this.Xa,e),0<this.Xa},a.prototype.pj=function(){var t,e={nc:0},i=document.querySelectorAll("ng-view, [ng-view], .ng-view, [ui-view]"),i=n(i,angular.element);for(t in a.Hg){var r=a.Hg[t];n(i,function(i){i=i.find(t),n(i,function(n){(n=n[r])&&(n=decodeURIComponent(n),e[n]||(e[n]=t,e.nc++))})})}this.vb=e},a.prototype.nj=function(t){return!!this.vb[decodeURIComponent(t.name)]},a.prototype.qj=function(){var e=[],n=this;0<this.vb.nc&&(e=t.monitor.resourceMonitor.kb().filter(function(t){return n.nj(t)})),this.resTiming(e)},a.Sj=function(e){return r(e,function(e){return(e.eventType===t.EventType.Ajax||e.eventType===t.EventType.ADRUM_XHR)&&!t.utils.va.mc(e.eventUrl,e.method)})},a.kk=function(t){return i(t,function(t,e){return Math.max(t,e.timestamp+e.metrics.PLT)},-1)},a.prototype.bj=function(){if(e.conf.xhr){var n=a.Sj(t.channel.getEventsWithParentGUID(this.guid())),n=a.kk(n);if(0<n){var i=this.perf.getEntryByName(t.events.b.uh);this.markXhrRequestsCompleted(Math.min(i&&i.startTime||Number.MAX_VALUE,n))}}},a.prototype.adjustTimings=function(){this.bj();var n=this.getViewDOMLoaded(),i=this.getXhrRequestsCompleted(),n=Math.max(n,i);e.conf.metrics.includeResTimingInEndUserResponseTiming&&(this.aj(),i=this.getViewResourcesLoaded(),i=Math.max(n,i),t.log("M247",n,i),n=i),this.markVirtualPageEnd(n)},a.prototype.aj=function(){if(0<this.vb.nc){this.qj();var e=this.resTiming();e&&e.length>=this.vb.nc&&(e=i(e,function(t,e){return Math.max(t,e.responseEnd)},0),this.markViewResourcesLoaded(t.PerformanceTracker.Jc(e)))}},a.prototype.identifier=function(e){var n=this.oh;return t.utils.isDefined(e)&&(this.oh=a.Qj(e),this.url(this.oh.url)),n},a.Qj=function(e){var n={};return e&&e.M?(n.M={ud:""},t.utils.mergeJSON(n.M,{ud:e.M.originalPath,wb:e.M.template,xb:e.M.templateUrl})):e&&e.state&&(n.state={url:""},t.utils.mergeJSON(n.state,{url:e.state.url,name:e.state.name,wb:e.state.template,xb:e.state.templateUrl})),n},a}(t.events.VPageView);o.Hg={img:"src",script:"src",link:"href"},e.NgVPageView=o,t.events.Oa(t.events.U[t.EventType.NG_VIRTUAL_PAGE],o.prototype)}(t.ng||(t.ng={}))}(k||(k={})),function(t){!function(e){var n=function(){function n(){this.A=new e.NgVPageView}return n.prototype.om=function(){var i=this,r=this.A;e.conf.metrics.includeResTimingInEndUserResponseTiming?(t.log("M248"),t.utils.oSTO(function(){i.zd(r)},n.Ni)):t.utils.oSTO(function(){i.zd(r)},n.Oi)},n.prototype.zd=function(e){t.log("M249"),e.parent(t.monitor.DOMEventsMonitor.currentBasePage),t.command("call",function(){e.adjustTimings(),t.reporter.reportEvent(e)})},n.prototype.vm=function(t){this.A=t},n}();n.Ni=5e3,n.Oi=2*t.monitor.XHRMonitor.ce,e.VirtualPageStateMachine=n,t.we.create({events:[{name:"start",from:"none",to:"ChangeView"},{name:"viewLoaded",from:"ChangeView",to:"XhrPending"},{name:"xhrCompleted",from:"XhrPending",to:"End"},{name:"abort",from:"*",to:"none"},{name:"init",from:"*",to:"none"},{name:"locChange",from:"*",to:"*"},{name:"beforeXhrReq",from:"*",to:"*"},{name:"afterXhrReq",from:"*",to:"*"}],error:function(e){t.log("M250",e)},callbacks:{onChangeView:function(){this.A.Ud(),this.A.Gd()},onviewLoaded:function(){this.A.markViewDOMLoaded()},onXhrPending:function(){this.A.Of&&this.xhrCompleted()},onleaveXhrPending:function(t,e,n){return"abort"===t?(this.zd(),!0):"xhrCompleted"===t&&"End"===n?!this.A.Bk()&&(this.A.markXhrRequestsCompleted(),!0):void 0},onEnd:function(){this.A.pj(),this.om()},oninit:function(e,n,i,r){this.vm(r),t.monitor.xhrMonitor.gc(),t.monitor.jb.gc()},onlocChange:function(t,e,n,i){this.A.identifier.url=i,this.A.lc({url:i})},onbeforeXhrReq:function(e,n,i,r){var o=this.A;return o.Of=!1,t.log("M251",r&&r[1]||"",o.guid()),o.Hk(),o.startCorrelatingXhrs(),r[3]&&(r[3]=t.aop.before(r[3],function(e,n,i){t.log("M252"),o.Cj(),i&&(e=t.utils.Rl(i)["content-type"])&&0<=e.indexOf("text/html")&&o.markViewFragmentsLoaded()})),r},onafterXhrReq:function(){this.A.stopCorrelatingXhrs()}}},n.prototype)}(t.ng||(t.ng={}))}(k||(k={})),function(t){!function(e){var n=function(){function n(){this.O=new e.VirtualPageStateMachine,this.distinguishVPwithItsTemplateUrl=t.ng.conf.distinguishVPwithItsTemplateUrl}return n.prototype.T=function(i,r){switch(t.log("M253",i),i){case e.k.Kg:case e.k.Zg:this.O.start();var o=r.next.url||document.URL,a=new e.NgVPageView({url:o,identifier:r.next});this.distinguishVPwithItsTemplateUrl&&n.bl(this.O.A,a)?this.O.A.lc({url:o,identifier:r.next}):this.Jm(a);break;case e.k.Lg:case e.k.$g:this.O.A.markViewChangeEnd();break;case e.k.mh:this.O.viewLoaded();break;case e.k.Oe:this.O.beforeXhrReq(r);break;case e.k.Ee:this.O.afterXhrReq();break;case e.k.Se:this.O.xhrCompleted();break;case e.k.Yf:this.O.A.lc({url:r.next.url}),this.O.locChange(r.next.url);break;case e.k.af:this.O.A.Gk()}},n.prototype.Jm=function(t){this.O.abort(),this.O.init(t),this.O.start()},n.bl=function(e,n){var i=e.identifier(),r=n.identifier();return!t.utils.isDefined(i)&&!t.utils.isDefined(r)||i===r||!(!t.utils.isDefined(i)||!t.utils.isDefined(r))&&(i.state||r.state?!(!t.utils.isDefined(i.state)||!t.utils.isDefined(r.state))&&(i.state.name===r.state.name&&i.state.wb===r.state.wb&&i.state.xb===r.state.xb&&i.state.url===r.state.url):i.M&&r.M?i.M.ud===r.M.ud&&i.M.wb===r.M.wb&&i.M.xb===r.M.xb:i.url===r.url)},n}();e.Pi=n
}(t.ng||(t.ng={}))}(k||(k={})),function(t){!function(e){var n=t.utils.addEventListener,i=function(){function i(){this.V=new e.Pi,this.Hf=!1}return i.prototype.setUp=function(){function e(e){return function(){t.log(e),i.init()}}var i=this;e("M254")(),n(document,"DOMContentLoaded",e("M255")),n(window,"load",e("M256"))},i.prototype.init=function(){if("loading"===document.readyState)t.log("M257");else if("undefined"!=typeof angular&&!this.Hf){this.Hf=!0,t.log("M258");var e=this,n=angular.module("ng");n.config(["$provide",function(t){e.Wk(t),e.Rk(t)}]),n.run(["$browser",function(t){e.Ok(t)}]),t.log("M259")}},i.prototype.Rk=function(n){var i=t.aop,r=this;n.decorator("$httpBackend",["$delegate",function(t){return t=i.around(t,function(){var t=Array.prototype.slice.call(arguments);return r.V.T(e.k.Oe,t),t},function(){r.V.T(e.k.Ee)},"ng.httpBackend")}])},i.prototype.Wk=function(n){var i=t.aop,r=this;n.decorator("$rootScope",["$delegate",function(t){return t.$digest=i.after(t.$digest,function(){r.V.T(e.k.af)},"ngevents.digest"),t.$on("$locationChangeStart",function(t,n){var i={url:n},o=t&&t.hb&&t.hb.$state&&t.hb.$state.current;o&&(i.state=o),r.V.T(e.k.Yf,{next:i})}),t.$on("$locationChangeSuccess",function(){r.V.T(e.k.wl)}),t.$on("$routeChangeStart",function(t,n){var i={url:location.href},o=n&&n.$$route;o&&(i.M=o),r.V.T(e.k.Kg,{next:i})}),t.$on("$routeChangeSuccess",function(){r.V.T(e.k.Lg)}),t.$on("$stateChangeStart",function(t,n){r.V.T(e.k.Zg,{next:{state:n}})}),t.$on("$stateChangeSuccess",function(){r.V.T(e.k.$g)}),t.$on("$viewContentLoaded",function(t){var n={url:location.href};(t=t&&t.hb&&t.hb.$state&&t.hb.$state.current)&&(n.state=t),r.V.T(e.k.mh,{next:n})}),t.$on("$includeContentRequested",function(){r.V.T(e.k.Fk)}),t.$on("$includeContentLoaded",function(){r.V.T(e.k.Ek)}),t}])},i.prototype.Ok=function(n){var i=this;n.$$completeOutstandingRequest=t.aop.before(n.$$completeOutstandingRequest,function(){i.V.T(e.k.Se)})},i}();e.pn=i,e.ngMonitor=new i}(t.ng||(t.ng={}))}(k||(k={})),function(t){var e=t.ng||(t.ng={});e.conf.disabled||t.conf.spa2||t.monitor.setUpMonitors(e.ngMonitor)}(k||(k={}))}}}();</script>
  <script src="/public/lib/vue.global.prod.js?805d352e7d9"></script>
  
  
</head>

<body class="logged-in demo">




  
  
    <script>function GoogleAnalyticsUtils(){function n(){var n=e("_ga");if(n){var i=t(decodeURIComponent(n));return i||""}return""}function t(n){var t=n.split(".");return 4==t.length&&t[0].includes("GA")&&Number(t[0].replace("GA",""))&&Number(t[1])&&t[2].length<16&&t[3].length<16?n.substring(6):null}function e(n){var t=("; "+document.cookie).split("; "+n+"=");return 2===t.length?t.pop().split(";").shift():null}this.init=function(){ga("set","dimension3",n())}}</script>
    <script>
      $(this).on('pageshow', function(e) {
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
          (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
          m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

        oldGa = ga;
        ga = function() {
          if (arguments[0] === 'send') {
            arguments[2].dimension4 = new Date().toISOString();
          }
          oldGa.apply(this, arguments);
        }

        var cryptoObj = window.crypto || window.msCrypto;
        var randomForCd2 = new Uint32Array(2);
        cryptoObj.getRandomValues(randomForCd2);
        var cd2 = randomForCd2[0].toString(36).slice(-4) + randomForCd2[1].toString(36).slice(-4);

        ga('create', 'UA-31858768-3', 'auto');
        ga('set', 'dimension2', new Date().getTime() + '.' + cd2);
        ga('set', 'dimension7', 'Десктоп');
        new GoogleAnalyticsUtils().init();

        
          ga('set', 'userId', '10002');
          ga('set', 'dimension1', '10002');
        
        

        var args = {};

        var gaPageView = $('input[name="gaPageView"]').val();

        if (gaPageView) args.page = gaPageView;

        function addDimensionIfExists(number) {
          var dimension = $('input[name="dimension' + number + '"]').val();
          if (dimension) args["dimension" + number] = dimension;
        }
        addDimensionIfExists(5);
        addDimensionIfExists(6);
        addDimensionIfExists(13);
        addDimensionIfExists(14);

        ga('send', 'pageview', args);

        var alertArgs = {};
        var alertGaPageView = $('input[name="alertGaPageView"]').val();
        if (alertGaPageView) alertArgs.page = alertGaPageView;

        function addAlertDimensionIfExists(number) {
          var dimension = $('input[name="alertGaDimension' + number + '"]').val();
          if (dimension) alertArgs["dimension" + number] = dimension;
        }
        addAlertDimensionIfExists(5);
        addAlertDimensionIfExists(6);
        addAlertDimensionIfExists(13);
        addAlertDimensionIfExists(14);

        if (!$.isEmptyObject(alertArgs)) {
          ga('send', 'pageview', alertArgs);
        }
      });
    </script>
  
  





  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async="" src="https://www.googletagmanager.com/gtag/js?id=G-7SK140WH23"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-7SK140WH23');
  </script>








  <!-- Yandex.Metrika counter -->
  <script type="text/javascript">
    (function(m, e, t, r, i, k, a) {
      m[i] = m[i] || function() {(m[i].a = m[i].a || []).push(arguments)};
      m[i].l = 1 * new Date();
      k = e.createElement(t), a = e.getElementsByTagName(t)[0], k.async = 1, k.src = r, a.parentNode.insertBefore(k, a)
    })
    (window, document, "script", "https://mc.yandex.ru/metrika/tag.js", "ym");

    var yandexMetrikaId = 87881292;
    ym(yandexMetrikaId, "init", {
      clickmap: true,
      trackLinks: true,
      accurateTrackBounce: true
    });
  </script>
  <noscript>
    <div><img src="https://mc.yandex.ru/watch/87881292" style="position:absolute; left:-9999px;" alt=""/></div>
  </noscript>









<div class="ui-loader hidden">
  <div class="ui-icon-loading"></div>
  <div class="with-progress hidden">
    <div class="description"></div>
    <div class="progress progress-danger">
      <div class="bar"></div>
    </div>
  </div>
</div>









<script>
  $.fn.selectpicker.language = 'ru';
  
    
    $.fn.selectpicker.defaults = $.extend($.fn.selectpicker.defaults, {
      noneSelectedText: 'Ничего не выбрано',
      noneResultsText: 'Не найдено совпадений',
      countSelectedText: 'Выбрано {0} из {1}',
      maxOptionsText: ['Достигнут предел ({n} {var} максимум)', 'Достигнут предел в группе ({n} {var} максимум)', ['items', 'item']]
    });
  
  $(function() {
    $('.selectpicker').selectpicker({showContent: false, liveSearch: true});
  });
</script>
<script>
  $.fn.datepicker.options = {startDate:'08.11.2022', format:'dd.mm.yyyy', weekStart: 1, language: 'ru', autoclose:true};
  $(function() {
    var dateLength = 'dd.mm.yyyy'.length;

    $('.datepicker-input')
      .on('changeDate', function() {
        $(this).removeClass('placeholder');
      })
      .each(function(i, input) {
        new SmartInputMask(input, SmartMask.DATE).init();

        input = $(input);
        if (!input.attr('maxlength')) {
          input.attr('maxlength', dateLength);
        }
      });
  });
</script>

<div id="outer-wrapper">
  <div id="inner-wrapper">

    <div id="header">
      <div class="content clearfix">
        <a id="logo" href="/start">
  <img src="/public/images/logo-bspb-ru.png" alt="Интернет банк - Банк Санкт-Петербург" class="print-only">
  <img src="/public/images/logo-bspb-ru.svg" alt="Интернет банк - Банк Санкт-Петербург" class="print-hidden">
</a>
<div class="environment print-hidden">
  Интернет-банк
  
</div>
        <div id="controls">
          

  <div id="user" class="nav-user">
    <a id="user-avatar" href="/settings">
      <img title="Аватар" src="/public/images/avatars/1.png">
    </a>

    <span class="name-holder multiple-representees ">
      
        <div id="user-greeting">Hello World!</div>
      

      

      <div id="representee-name" class="print-only">
        Королёва Ольга
      </div>

      
  <script>
    $(function() {
      $('select[name="representee-list"]').change(function() {
        $.post('/representee', {
            customerRef: $('#representee-list option:selected').val(),
            deviceData: window.biZoneProxy && window.biZoneProxy.getData() || '',
            authenticityToken: 'ab73bd187efb2773749f947860e60af7a060528e'
          }
        );
      });
      
        $('.bootstrap-select-searchbox').hide();
      

      $('#representee-list button').attr('title', "Выберите клиента (физическое или юридическое лицо), которого хотите представлять");
    });
  </script>

  <div id="representee-list">
    

<select name="representee-list" size="1" class="selectpicker hidden representee-name representee-private" style="display: none;">
  
      
        <option value="1" class="representee representee-private" selected="">Королёва Ольга</option>
      
        <option value="CORP:6" class="representee representee-corporate">ОАО "Коудборн"</option>
      
        <option value="CORP:7" class="representee representee-corporate">ИП "Морозов Павел Изяславович"</option>
      
    
  
  

  
</select><div class="btn-group bootstrap-select hidden representee-name representee-private"><button type="button" class="btn dropdown-toggle selectpicker btn-default" data-toggle="dropdown" title="Выберите клиента (физическое или юридическое лицо), которого хотите представлять"><span class="filter-option pull-left">Королёва Ольга</span>&nbsp;<span class="caret"></span></button><div class="dropdown-menu open"><div class="bootstrap-select-searchbox" style="display: none;"><input type="text" class="input-block-level form-control"></div><ul class="dropdown-menu inner selectpicker" role="menu"><li rel="0" class="selected"><a tabindex="0" class="representee representee-private" style=""><span class="text">Королёва Ольга</span><i class="glyphicon glyphicon-ok icon-ok check-mark"></i></a></li><li rel="1"><a tabindex="0" class="representee representee-corporate" style=""><span class="text">ОАО "Коудборн"</span><i class="glyphicon glyphicon-ok icon-ok check-mark"></i></a></li><li rel="2"><a tabindex="0" class="representee representee-corporate" style=""><span class="text">ИП "Морозов Павел Изяславович"</span><i class="glyphicon glyphicon-ok icon-ok check-mark"></i></a></li></ul></div></div>
  </div>


<script>
  $(function() {
    $.post('/initial-representee', {
        deviceData: window.biZoneProxy && window.biZoneProxy.getData() || '',
        authenticityToken: 'ab73bd187efb2773749f947860e60af7a060528e'
      }
    );
  });
</script>

      
        <div id="loyalty-programs">
          <div class="referral-program balance">
            <a href="/referral-program">ПРИГЛАСИТЬ ДРУЗЕЙ</a>
          </div>

          
            <div class="yarko balance">
              <a href="/loyaltyprogram/main">500.87 ЯРКО</a>
            </div>
          

          
            <div class="travel balance">
              <a href="/loyaltyprogram/travel">
                300.00 TRAVEL
              </a>
            </div>
          
        </div>
      
    </span>

    <span id="preference-controls" class="clearfix">
      

      <script>
        $(function() {
          if (window.countBadges === undefined)
            window.countBadges = new CountBadges(300000);
          window.countBadges.updateMessages('.nav-user');
          window.countBadges.updateOffers('.nav-user');
        });
      </script>

      <a id="messages-button" class="nav-item print-hidden messages" title="Переписка с банком" href="/messages">
        <span class="icon-email"></span>
      <span class="badge">4</span></a>

      <a id="offers-button" class="nav-item offers" title="Персональные предложения" href="/offers"><span class="icon-candy"></span></a>
      <a id="contact-button" class="nav-item" title="Контакты банка" href="javascript:showAjaxDialog('/application/contacts')"><span class="icon-phone"></span></a>
      <a id="settings-button" class="nav-item" title="Настройки" href="/settings"><span class="icon-cog"></span></a>
    </span>

    
      
  <script>var OneTimeHint=function(e){function t(){if(!$(".btn.gotit").length){var t=e.key.replace(/\./g,"-"),o=e.message+'<button id="'+t+'" class="btn btn-primary btn-small gotit">'+e.buttonLabel+"</button>";i.popover=$(e.target).popover({animation:!0,placement:e.placement,trigger:"manual",content:o,html:!0}).popover("show"),i.popover.next().addClass("one-time-hint"),$("#"+t+".btn.gotit").on("click",n)}}function n(){i.popover.popover("hide"),$.post("/hints/hide",{key:e.key,authenticityToken:e.authenticityToken})}var i=this;window.OneTimeHintDeferred||(window.OneTimeHintDeferred=$.when()),this.init=function(){var n=window.OneTimeHintDeferred,i=window.OneTimeHintDeferred=$.Deferred();n.then(function(){$.getJSON("/hints/show",{key:e.key},function(e){e&&setTimeout(t,1e3),i.resolve()})})}};</script>
  <script>
    $(function() {
      if (window.welcomeTour && window.welcomeTour.startedOnPageLoad) return;
      new OneTimeHint({
        target: '#offers-button',
        key: 'HINT_Offers.hasPersonalOffers',
        message: 'Вам есть персональное предложение',
        buttonLabel: 'Ясно',
        placement: 'bottom',
        authenticityToken: 'ab73bd187efb2773749f947860e60af7a060528e'
      }).init();
    });
  </script>

    

    <a id="logout-button" class="nav-item" title="Выйти" href="/auth/logout?client_id=1&amp;redirect_uri=https://idemo.bspb.ru/logout">
      <span class="icon-close"></span>
    </a>
  </div>

  

  <script>
  var timeoutWatcher = new (function() {
    var self = this;
    var sessionExpiration = 1500000;
    var timeoutLabels = [];  timeoutLabels[0] = 'Ваш сеанс будет завершён через 1 минуту'; timeoutLabels[1] = 'Ваш сеанс будет завершён через 1 минуту'; timeoutLabels[2] = 'Ваш сеанс будет завершён через 2 минуты'; timeoutLabels[3] = 'Ваш сеанс будет завершён через 3 минуты'; timeoutLabels[4] = 'Ваш сеанс будет завершён через 4 минуты'; timeoutLabels[5] = 'Ваш сеанс будет завершён через 5 минут';
    var timeoutWatcherInterval = 60000;
    var timeoutWatcherTime = sessionExpiration - 5 * timeoutWatcherInterval;
    var timeout, interval;

    self.continueSession = function() {
      $.get('/ping');
      $('#timeout-warning').modal('hide');
      self.resetTimeout();
    };

    function showSessionTimeoutModal() {
      var counter = Math.round((sessionExpiration - timeoutWatcherTime) / 60000);
      $('.modal:visible').modal('hide');
      $('#timeout-warning .modal-header h3').text(timeoutLabels[counter]);
      $('#timeout-warning').modal({show: true});

      interval = setInterval(function() {
        $('#timeout-warning .modal-header h3').text(timeoutLabels[--counter]);
        if (counter <= 0) {
          clearInterval(interval);
          location.href = '/logout?url=' + encodeURIComponent(location.pathname + location.search);
        }
      }, timeoutWatcherInterval);
    }

    self.testActivate = function(updateInterval) {
      if (updateInterval) timeoutWatcherInterval = updateInterval;
      showSessionTimeoutModal();
    };

    self.resetTimeout = function() {
      clearInterval(interval);
      clearTimeout(timeout);
      timeout = setTimeout(showSessionTimeoutModal, timeoutWatcherTime, timeoutWatcherTime);
    };

    self.init = function() {
      $(document).ajaxSuccess(self.resetTimeout);
      self.resetTimeout();
    }
  })();

  $(function() {
    timeoutWatcher.init();
  });
</script>

<div id="timeout-warning" class="modal hide" tabindex="-1">
  <div class="modal-header">
    <button type="button" class="close" data-dismiss="modal">×</button>
    <h3>&nbsp;</h3>
  </div>
  <div class="modal-body">
    <p>Желаете ли вы продолжить работу в интернет-банке?</p>
  </div>
  <div class="modal-footer">
    <a class="btn" href="/logout">Выйти</a>
    <button class="btn btn-primary" onclick="timeoutWatcher.continueSession()">Продолжить</button>
  </div>
</div>


        </div>
      </div>
    </div>

    <div id="body" class="section-welcome action-welcome-index branch-">
      
        <script>function Menu(){"use strict";function n(){$("#feedback-popup").show()}this.init=function(){$(".navbar").on("mouseenter",function(){$("select:focus").blur()}),$(".show-feedback-popup").on("click",n)}}</script>
<script>
  $(function() {
    new Menu().init();
  });
</script>

<div class="navbar navbar-main">
  <div class="navbar-inner">
    


<ul class="navigation-menu nav">
  
    
    <li id="overview" class="section-bank">
      
      
        <a id="bank-overview" href="/overview">Обзор</a>
      
    </li>
  
    
    <li id="accounts" class="section-accounts dropdown">
      
        
        
          <a id="accounts-index" class="dropdown-toggle" href="/accounts">Счета</a>
          


<ul class="navigation-menu dropdown-menu">
  
    
    <li id="statement" class="section-statements">
      
      
        <a id="statements-statement" href="/statement">Выписка</a>
      
    </li>
  
    
    <li id="accountIndex" class="section-accounts">
      
      
        <a id="accounts-index" href="/accounts">Текущие</a>
      
    </li>
  
</ul>

        
      
      
    </li>
  
    
    <li id="payments" class="section-payments">
      
      
        <a id="payments-form" href="/payments/form">Платежи и Переводы</a>
      
    </li>
  
    
    <li id="cards" class="section-cards">
      
      
        <a id="cards-overview-index" href="/cards">Карты</a>
      
    </li>
  
    
    <li id="deposits" class="section-deposits">
      
      
        <a id="deposits-index" href="/deposits">Вклады</a>
      
    </li>
  
    
    <li id="loans" class="section-loans">
      
      
        <a id="loans-index" href="/loans">Кредиты</a>
      
    </li>
  
    
    <li id="externalTraderoom" class="section-externaltraderoom">
      
      
        <a id="externaltraderoom-index" href="/currency/traderoom">Валюта</a>
      
    </li>
  
    
    <li id="insurance" class="section-insurance dropdown">
      
        
        
          <a id="insurance-travel" class="dropdown-toggle" href="/insurance/travel">Страхование</a>
          


<ul class="navigation-menu dropdown-menu">
  
    
    <li id="vehicleInsurance" class="section-insurance">
      
      
        <a id="insurance-vehicle" href="/insurance/vehicle">Страхование автомобиля</a>
      
    </li>
  
    
    <li id="travelInsurance" class="section-insurance">
      
      
        <a id="insurance-travel" href="/insurance/travel">Страхование путешественников</a>
      
    </li>
  
    
    <li id="lifeInsurance" class="section-insurance">
      
      
        <a id="insurance-life" href="/insurance/life">Страхование жизни, здоровья и спорта</a>
      
    </li>
  
    
    <li id="flightInsurance" class="section-insurance">
      
      
        <a id="insurance-flight" href="/insurance/flight">Защита от задержки или отмены рейса</a>
      
    </li>
  
    
    <li id="estateInsurance" class="section-insurance">
      
      
        <a id="insurance-estate" href="/insurance/estate">Страхование недвижимости</a>
      
    </li>
  
    
    <li id="pensionInsurance" class="section-insurance">
      
      
        <a id="insurance-pension" href="/insurance/pension">Пенсионное обеспечение</a>
      
    </li>
  
</ul>

        
      
      
    </li>
  
</ul>

    <ul class="navigation-menu nav faq help-menu">
      <li class="dropdown">
        <a class="dropdown-toggle secondary-link" data-toggle="dropdown" id="faq-link" href="#">?</a>
        <ul class="navigation-menu dropdown-menu">
          <li><a href="/faq/select" title="Часто задаваемые вопросы">FAQ</a></li>
          
          <li class="restart-welcome-tour" style=""><a href="javascript:restartWelcomeTour();">Визуальный помощник</a></li>
          
          
            <li class="show-feedback-popup"><a href="#">Обратная связь</a></li>
          
        </ul>
      </li>
    </ul>
  </div>
</div>
      

      <div id="contentbar" class="content welcome-index">
        

        

        
          <span id="alerts-container">
  

  
    
    
    
    
    

    <div class="alert alert-success">
      Последний вход 08.11.2022 23:39 | Moscow (<a href="/settings#last-logins">История входов</a>).
      
    </div>
  

  <div class="yearly-identification-warning-container hidden"></div>

  

  

  

  
  
  <div id="global-alerts-container">
    


    <script>
      function removeFieldErrorsFromGlobal(context){
        var globalErrors = $('#global-alerts-container .alert-error', context);
        $('form .hasError:visible [name], form .error:visible [name]', context).each(function() {
          globalErrors.filter("[data-key='" + this.name + "']").remove();
        });
        globalErrors.show();
      }

      
      
        $(function() {
          setTimeout(function(){
            removeFieldErrorsFromGlobal($('body'));
          }, 100);
        });
      
    </script>
  </div>

  

<div id="page-alerts-container">
  
</div>
</span>
        

        

<script>
  $(function () {
    setTimeout(function () {
      $('#welcome-page-alerts').load('/alerts', function () {
        $('#welcome-page-alerts').fadeIn();
      });
    }, 0);
  });
</script>



<input type="hidden" name="gaPageView" value="/https://i.bspb.ru/welcome/">




  <div id="communication-00000000-0000-0000-0000-000000000001">
    <div class="alert alert-info"><ul><li>Поздравляем, ваш кредит одобрен! Ознакомьтесь с условиями и получите деньги <a href="/loan-applications/form?applicationRef=loan-with-insurance">прямо сейчас</a>. Успейте воспользоваться до 08.12.2022</li></ul></div>
  </div>

  <div id="communication-00000000-0000-0000-0000-000000000002">
    <div class="alert alert-warning"><ul><li>Кредитная заявка предварительно одобрена. Прикрепите документы о доходе для принятия окончательного решения</li></ul></div>
  </div>

  <div id="communication-00000000-0000-0000-0000-000000000003">
    <div class="alert alert-warning"><ul><li>Успейте воспользоваться Вашим одобренным кредитом на выгодных условиях! Подпишите договор и получите <strong>120 000 ₽</strong> на Ваш счёт. Срок действия предложения истекает <strong>08.02.2023</strong>. (<a href="/loan-offer/absd-efgh">Подробнее</a>)</li></ul></div>
  </div>


<div id="welcome-page-alerts" class="hidden" style="display: block;">
  <div class="alert alert-info">
    
      
      <ul>
        <li>Поздравляем, ваш кредит одобрен! Ознакомьтесь с условиями и получите деньги <a href="/loan-applications/form?applicationRef=loan-with-insurance">прямо сейчас</a>. Успейте воспользоваться до 18.11.2022</li><li>Кредитная карта Travel на <b>100&nbsp;000&nbsp;₽</b> одобрена. Решение действительно до 18.11.2022. <a href="/loan-applications/credit-card?applicationRef=card-approved-51">Перейти к оформлению</a>.</li><li>Кредитная карта Карта 100 на <b>100&nbsp;000&nbsp;₽</b> одобрена. Решение действительно до 18.11.2022. <a href="/loan-applications/credit-card?applicationRef=card-approved-100">Перейти к оформлению</a>.</li><li>Кредитная карта Карта 100 на <b>123&nbsp;000&nbsp;₽</b> одобрена. Решение действительно до 18.11.2022. <a href="/loan-applications/credit-card?applicationRef=card-approved-100-without-income">Перейти к оформлению</a>.</li><li>Поздравляем, ваш кредит одобрен! Ознакомьтесь с условиями и получите деньги <a href="/loan-applications/form?applicationRef=loan-with-ranges">прямо сейчас</a>. Успейте воспользоваться до 18.11.2022</li><li>Поздравляем, ваш кредит одобрен! Ознакомьтесь с условиями и получите деньги <a href="/loan-applications/form?applicationRef=loan-with-obligatory-insurance">прямо сейчас</a>. Успейте воспользоваться до 18.11.2022</li><li>Поздравляем, ваш кредит одобрен! Ознакомьтесь с условиями и получите деньги <a href="/loan-applications/form?applicationRef=loan-approved">прямо сейчас</a>. Успейте воспользоваться до 18.11.2022</li><li>Поздравляем, ваш кредит одобрен! Ознакомьтесь с условиями и получите деньги <a href="/loan-applications/credit-limit?applicationRef=card-approved">прямо сейчас</a>. Успейте воспользоваться до 18.11.2022</li><li>Поздравляем, ваш кредит одобрен! Ознакомьтесь с условиями и получите деньги <a href="/loan-applications/credit-limit?applicationRef=card-limit-approved-without-income">прямо сейчас</a>. Успейте воспользоваться до 18.11.2022</li><li>Поздравляем, ваш кредит одобрен! Ознакомьтесь с условиями и получите деньги <a href="/loan-applications/credit-limit?applicationRef=card-approved-with-ranges">прямо сейчас</a>. Успейте воспользоваться до 18.11.2022</li><li>Поздравляем, ваш кредит одобрен! Ознакомьтесь с условиями и получите деньги <a href="/loan-applications/form?applicationRef=loan-with-other-insurance-company">прямо сейчас</a>. Успейте воспользоваться до 18.11.2022</li>
      </ul>
    
    
  </div>


  <div class="alert alert-warning">
    
      
      <ul>
        <li><a id="unpaid-tax-charges" href="/subscriptions">По оформленным подпискам получено 2 неоплаченных налога из Государственной информационной системы.</a><br></li><li><a id="unpaid-traffic-charges" href="/subscriptions">По оформленным подпискам получено 3 неоплаченных штрафа из Государственной информационной системы.</a><br></li>
      </ul>
    
    
  </div>

</div>

<script src="/public/javascripts/tours/tour.js?805d352e7d9"></script>
<script src="/public/javascripts/tours/welcome-tour.js?805d352e7d9"></script>
<script>
  function restartWelcomeTour() {
    var tourStillActive = $('.welcome-tour:visible').length;
    if(tourStillActive) return;
    welcomeTour = tour(welcomeTourSteps);
    welcomeTour.init();
    welcomeTour.start(true);
  }

  function showHelpMenuTour() {
    helperTour.init();
    helperTour._options.steps = [];
    helperTour.addSteps(
      [
        {
          backdropPadding: 5,
          backdropContainer: ".navbar-inner",
          element: ".help-menu",
          title: "Визуальный помощник",
          content: 'К туру по данной странице можно будет всегда вернуться, выбрав пункт меню "Визуальный помощник"',
          onShown: function (tour) {
            var left = parseInt($(".help-menu").offset().left) - 400;
            $(".welcome-tour").css("top", "165px").css("left", left);
            $(".welcome-tour-arrow").addClass("right");
            $('#welcome-tour-skip').hide();
            $('#welcome-tour-next').hide();
            $('#welcome-tour-end').show();
          }
        }
      ]
    );
    helperTour.start(true);
  }

  
</script>


  <div class="clearfix offers not-refused-offers ">
  
    
  
  
    <div id="offer-banner-message" class="offer banner crm-offer">
  
    <a class="decline" href="/offers/decline/banner-message">✕</a>
  
  <div class="wrapper">
    <div class="image" style="background-image: url('/public/images/default-banner.png');"></div>
    <div class="offer-actions">
      <a class="offer-action" href="/messages/form">
        <object type="nested/links">
          <span class="offer-text">Напишите нам!</span>
        </object>
      </a>
    </div>
  </div>
</div>
  
  

  
    
  
  
    <div id="offer-banner-message" class="offer banner crm-offer">
  
    <a class="decline" href="/offers/decline/banner-message">✕</a>
  
  <div class="wrapper">
    <div class="image" style="background-image: url('/public/images/default-banner.png');"></div>
    <div class="offer-actions">
      <a class="offer-action" href="/messages/form">
        <object type="nested/links">
          <span class="offer-text"><div align="left" style="margin:-10px 0px 0px 235px; "> <font size="5" face="Calibri" color="#000000">Встречайте Apple Pay в «Санкт-Петербурге»</font><br> <font size="4" face="Calibri" color="696969">Удобный и легкий способ оплаты. <a href="/faq" class="nested-link">Подключайтесь!</a></font></div> <img src="/public/images/alert.png" align="right" style="margin:-65px 0px 0px 0px; "></span>
        </object>
      </a>
    </div>
  </div>
</div>
  
  

  
    
  
  
  
    <div id="offer-cred-card-offer" class="offer loan-offer loan-offer-approved crm-offer">
      
        <a class="decline" href="/offers/decline/cred-card-offer?gaBannerSource=Баннер в разделе &quot;Главная&quot;" data-ga-event="Интернет-банк ФЛ / Главная" data-ga-action="Баннер" data-ga-label="Закрытие &quot;Предлагаем заказать кредитную карту!&quot;">✕</a>
      

      <div class="wrapper">
        <div class="image" style="background-image: url('/public/images/default-banner.png');"></div>
        <div class="offer-actions">
          <a class="offer-action" href="/loan-offer/cred-card-offer?gaBannerSource=Баннер в разделе &quot;Главная&quot;" data-ga-event="Интернет-банк ФЛ / Главная" data-ga-action="Баннер" data-ga-label="Клик по &quot;Предлагаем заказать кредитную карту!&quot;">
            <object type="nested/links">
              <span class="offer-text">
                Предлагаем заказать кредитную карту!
              </span>
            </object>
          </a>
        </div>
      </div>
    </div>
  

  
</div>

  <a id="show-all-offers" href="/offers" data-ga-event="Интернет-банк ФЛ / Главная" data-ga-action="Верхняя часть" data-ga-label="Клик по &quot;Посмотреть все персональные предложения&quot;">Посмотреть все персональные предложения</a>





<div class="splash-container"></div>

<script>function SplashCollector(){window.splashRequest=$.ajax("/splash"),this.init=function(n){window.splashRequest.done(function(i){if(i){var e=$(".splash-container",n);e.append(i).trigger("pageinit"),$.mobile&&e.enhanceWithin()}})}}</script>

<script>
  initPage(new SplashCollector().init);
</script>

<script>
var smartPayment = new (function(){
  var pub = this;

  pub.goto = function(url) {
    location.href = url;
  };

  pub.gotoPersonal = function(beneficiary) {
    var params = {remitterId: $('[name="payment.remitterId"]').val()}
    if (beneficiary) params.beneficiaryId = beneficiary.ownAccountId;
    pub.goto('/payments/personalPrefilled?' + $.param(params));
  };

  pub.gotoVendorService = function(beneficiary) {
    pub.goto(function(options) {var pattern = '/vendors/:vendorId/:serviceId'; for(key in options) { pattern = pattern.replace(':'+key, options[key]); } return pattern }(beneficiary));
  };

  pub.gotoTax = function() {
    var payment = {remitterId:$('[name="payment.remitterId"]').val(), beneficiary:$('[name=suggestQuery]').val(), createNewRecurrent:$('input[name=createNewRecurrent]').val() === "true"};
    pub.goto(function(options) {var pattern = '/payments/taxprefilled?remitterId=:remitterId&beneficiary=:beneficiary&createNewRecurrent=:createNewRecurrent'; for(key in options) { pattern = pattern.replace(':'+key, options[key]); } return pattern }(payment));
  };

  pub.showNewBeneficiaryOption = function(name) {
    if (!name || typeof name != 'string') name = encodeURIComponent($('[name=suggestQuery]').val());
    return [{name:'Новый получатель', url:'/payments/domestic?prefill=' + name}];
  };

  pub.formatPaymentSuggestion = function(item) {
    var formatted = '';
    if (item.name) {
      var parts = escapeHTML(item.name).split(/: /g);
      if (parts[0]) parts[0] = '<span class="beneficiary-name">'  + parts[0] + '</span>';
      if (parts[1]) parts[1] = '<span class="comment">'  + parts[1] + '</span>';
      formatted = parts.join('<br>');
      formatted = '<span>' + formatted + '</span>';
    }
    else if (item.ownerName) {
      formatted = escapeHTML(item.ownerName);
    }

    if (item.imageUrl) {
      var url = window.app ? app.processUrl(item.imageUrl) : item.imageUrl;
      formatted = '<img src="' + url + '"> ' + formatted;
    }

    if (item.source) {
      var sourceClass = item.sourceType ? item.sourceType : item.source;
      formatted = "<div class='"+ sourceClass + "'>" + formatted + "</div>";
    }
    return formatted;
  };

  pub.onAutocompleteResultSelected = function(event, beneficiary) {
    event.stopImmediatePropagation();
    if (beneficiary.url) {
      redirecting = true;
      if (beneficiary.url.startsWith('/sbp/form') && typeof sbpModal === "object") {
        sbpModal.goto(beneficiary.url);
      } else {
        pub.goto(beneficiary.url);
      }
    }
    else if (beneficiary.paymentId) {
      redirecting = true;
      pub.goto('/payments/copy?paymentUid=' + beneficiary.paymentId);
    }
    else if (beneficiary.ownAccountId) {
      redirecting = true;
      pub.gotoPersonal(beneficiary);
    }
    else if (beneficiary.vendorId) {
      redirecting = true;
      pub.gotoVendorService(beneficiary);
    }
    else {
      pub.gotoOtherBeneficiary(beneficiary);
    }
  };

  pub.gotoOtherBeneficiary = function(beneficiary) {
    var payment = {
      beneficiaryAccount: encodeURIComponent(beneficiary.accountNumber || ''),
      beneficiaryName: encodeURIComponent(beneficiary.ownerName || ''),
      beneficiaryBank: encodeURIComponent(beneficiary.bankName || ''),
      beneficiaryBIC: encodeURIComponent(beneficiary.bic || ''),
      vatin: encodeURIComponent(beneficiary.vatin || ''),
      kpp: encodeURIComponent(beneficiary.kpp || ''),
      source: encodeURIComponent(beneficiary.source || ''),
      notUniqueRequisites: encodeURIComponent(beneficiary.notUniqueRequisites || '')
    };
    pub.goto(function(options) {var pattern = '/payments/domesticPrefilled?beneficiaryBank=:beneficiaryBank&vatin=:vatin&beneficiaryBIC=:beneficiaryBIC&beneficiaryName=:beneficiaryName&beneficiaryAccount=:beneficiaryAccount&kpp=:kpp&source=:source&notUniqueRequisites=:notUniqueRequisites'; for(key in options) { pattern = pattern.replace(':'+key, options[key]); } return pattern }(payment));
  };

  pub.initDynamicInputMask = function(input) {
    new SmartInputMask(input).init();
  }
})();
</script>

<script>
$(function() {
  var redirecting = false;
  function suggestBeneficiaryChange(event) {
    var input = $(this);
    if (event.which == 13 && input.is(':visible') && !redirecting) {
      var autoCompleteResults = $('.ac_results');
      if (input.val() && $('.ac_results').length && autoCompleteResults.is(':hidden')) {
        autoCompleteResults.show();
        autoCompleteResults.find('> ul > li:first').addClass('ac_over');
      }
      event.preventDefault();
    }
  }

  var input = $('[name=suggestQuery]').on('keyup paste', suggestBeneficiaryChange);
  smartPayment.initDynamicInputMask(input);

  var autocompleteOptions = {
    method: 'POST',
    extraParams: {
      authenticityToken: 'ab73bd187efb2773749f947860e60af7a060528e'
    },
    formatItem: smartPayment.formatPaymentSuggestion,
    onSomeResult: function(el, data) {
      if (data.forceLogout) {
        location.href = '/logout';
      }
      else if (data.sessionInvalidated) {
        location.href = '/';
      }
    },
    onEmptyResult: smartPayment.showNewBeneficiaryOption
  };

  autocomplete('[name=suggestQuery]', '/smart-payments/suggest-beneficiary', autocompleteOptions)
    .result(smartPayment.onAutocompleteResultSelected);

  var errors = $('.control-group.error input');
  if (errors.length) errors.first().focus();
  else if ($('input[name="payment.amount"]').val()) $('input[name="payment.amount"]').focus();

  $('#smart-payment-beneficiary .help-icon').popover('show');
});
</script>

<div id="suggest-form">
  <div id="suggest-form-title">
    <strong>"Умный" перевод</strong>
    
      <i class="help-icon icon-question-circle" data-placement="right" data-content="Начните ввод первых букв данных получателя, назначения или комментария платежа, и система предложит похожие" data-original-title="" title=""></i>
    
  </div>
  <input type="text" id="smart-payment" name="suggestQuery" class="span6 ac_input" autofocus="" placeholder="имя, счёт, номер карты или мобильный телефон; ИНН организации" autocomplete="off">
  <div class="muted">
    Например
    <a href="#" class="smart-payment-example">ВЦКП</a>
  </div>
</div>

<script>
  $('.smart-payment-example').on('click', function() {
    $('[name=suggestQuery]').val($(this).text().trim()).focus().trigger('keydown');
  });
</script>

<div id="vendors-container"><ul id="vendors" class="vendor-icons toggle-on-search">
  
  
    <li class="favorite">
      <div class="favorite vendor" title="78ХС471014">
        <div data-toggle="dropdown" data-target="#subscription-gisgmp10432" class="favorite-options">…</div>
        <a href="/gisgmp/traffic?subscriptionId=10432" title="Открыть" class="name-with-logo">
          <div class="logo " style="background-image: url(/public/images/vendors/logo-gibdd.png)">
            
          </div>
          <div class="name">78ХС471014</div>

          
            <span class="badge-top badge-history">3</span>
          

        </a>
      </div>

      <div class="dropdown" id="subscription-gisgmp10432">
  <ul class="dropdown-menu">
    
      
<li>
  <a href="/gisgmp/prefill-payment?chargeRef=2">
    
    500.00&nbsp;₽
  </a>
  
</li>

<li>
  <a href="/gisgmp/prefill-payment?chargeRef=3">
    
    7.50&nbsp;₽
  </a>
  
</li>

<li>
  <a href="/gisgmp/prefill-payment?chargeRef=4">
    
    8.50&nbsp;₽
  </a>
  
</li>

      
        <li class="divider"></li>
      
    
      
<li>
  <a onclick="showAjaxDialog('/gisgmp/edit?subscriptionId=10432');" href="javascript:void(0)">
    
      <i class="icon icon-pencil"></i>
    
    Назвать
  </a>
  
</li>

<li>
  <a onclick="showAjaxDialog('/gisgmp/unsubscribe?subscriptionId=10432');" href="javascript:void(0)">
    
      <i class="icon icon-remove"></i>
    
    Удалить
  </a>
  
</li>

      
    
  </ul>
</div>
    </li>
  

  
    <li class="favorite">
      <div class="favorite vendor" title="500100732259">
        <div data-toggle="dropdown" data-target="#subscription-gisgmp10431" class="favorite-options">…</div>
        <a href="/gisgmp/tax?vatin=500100732259" title="Открыть" class="name-with-logo">
          <div class="logo " style="background-image: url(/public/images/vendors/logo-fns.png)">
            
          </div>
          <div class="name">500100732259</div>

          
            <span class="badge-top badge-history">2</span>
          

        </a>
      </div>

      <div class="dropdown" id="subscription-gisgmp10431">
  <ul class="dropdown-menu">
    
      
<li>
  <a href="/gisgmp/prefill-payment?chargeRef=0">
    
    57.21&nbsp;₽
  </a>
  
</li>

<li>
  <a href="/gisgmp/prefill-payment?chargeRef=1">
    
    979.00&nbsp;₽
  </a>
  
</li>

      
        <li class="divider"></li>
      
    
      
<li>
  <a onclick="showAjaxDialog('/gisgmp/edit?subscriptionId=10431');" href="javascript:void(0)">
    
      <i class="icon icon-pencil"></i>
    
    Назвать
  </a>
  
</li>

<li>
  <a onclick="showAjaxDialog('/gisgmp/unsubscribe?subscriptionId=10431');" href="javascript:void(0)">
    
      <i class="icon icon-remove"></i>
    
    Удалить
  </a>
  
</li>

      
    
  </ul>
</div>
    </li>
  

  
    <li class="favorite">
      <div class="favorite vendor" title="50АА007811">
        <div data-toggle="dropdown" data-target="#subscription-giszkh10526" class="favorite-options">…</div>
        <a href="/giszkh/prefillpayment?documentId=50%D0%90%D0%90007811-02-6051" title="Оплатить" class="name-with-logo">
          <div class="logo " style="background-image: url(/public/images/vendors/logo-giszkh.png)">
            
          </div>
          <div class="name">50АА007811</div>

          
            <span class="badge-top badge-history">1</span>
          

        </a>
      </div>

      <div class="dropdown" id="subscription-giszkh10526">
  <ul class="dropdown-menu">
    
      
<li>
  <a href="/giszkh/prefillpayment?documentId=50%D0%90%D0%90007811-02-6051">
    
    4&nbsp;509.50&nbsp;₽
  </a>
  
</li>

      
        <li class="divider"></li>
      
    
      
<li>
  <a href="/giszkh/check-invoices?unifiedAccountNumber=50АА007811" class="name-with-logo post">
    
      <i class="icon icon-refresh"></i>
    
    Проверить
  </a>
  
</li>

<li>
  <a onclick="showAjaxDialog('/gis-subscriptions/edit?subscriptionId=10526');" href="javascript:void(0)">
    
      <i class="icon icon-pencil"></i>
    
    Назвать
  </a>
  
</li>

<li>
  <a onclick="showAjaxDialog('/gis-subscriptions/unsubscribe?subscriptionId=10526');" href="javascript:void(0)">
    
      <i class="icon icon-remove"></i>
    
    Удалить
  </a>
  
</li>

      
    
  </ul>
</div>
    </li>
  

  
    <li class="favorite">
      <div class="favorite vendor" title="Оплата услуг ВЦКП ЛС 123123123">
        <div data-toggle="dropdown" data-target="#subscription-72345" class="favorite-options">…</div>
        <a href="/tranzaxis/72345/invoice/6/pay" title="Оплатить" class="name-with-logo">
          <div class="logo " style="background-image: url(/public/images/vendors/403318604.png)">
            
              <img src="/public/images/transaction-icons/auto-payment-grey.svg">
            
          </div>
          <div class="name">Оплата услуг ВЦКП ЛС 123123123</div>

          
            <span class="badge-top badge-history">1</span>
          

        </a>
      </div>

      <div class="dropdown" id="subscription-72345">
  <ul class="dropdown-menu">
    
      
<li>
  <a href="/tranzaxis/72345/invoice/6/pay">
    
    1&nbsp;900.60&nbsp;₽
  </a>
  
</li>

      
        <li class="divider"></li>
      
    
      
<li>
  <a href="/tranzaxis/72345/invoices" class="name-with-logo">
    
      <i class="icon icon-refresh"></i>
    
    Проверить
  </a>
  
</li>

<li>
  <a onclick="showAjaxDialog('/tranzaxis/72345/alias')" href="javascript:void(0)">
    
      <i class="icon icon-pencil"></i>
    
    Назвать
  </a>
  
</li>

<li>
  <a href="/tranzaxis/72345/edit">
    
      <i class="icon icon-cog"></i>
    
    Настроить
  </a>
  
</li>

<li>
  <a href="/tranzaxis/72345/unsubscribe" data-post-confirmation-title="Удаление подписки" class="post" data-post-confirmation="Вы уверены, что хотите удалить подписку?">
    
      <i class="icon icon-remove"></i>
    
    Удалить
  </a>
  
</li>

      
    
  </ul>
</div>
    </li>
  

  
    <li class="favorite">
      <div class="favorite vendor" title="Оплата услуг ВЦКП ЛС 810000002">
        <div data-toggle="dropdown" data-target="#subscription-72346" class="favorite-options">…</div>
        <a href="/tranzaxis/72346/invoice/7/pay" title="Оплатить" class="name-with-logo">
          <div class="logo " style="background-image: url(/public/images/vendors/403318604.png)">
            
              <img src="/public/images/transaction-icons/auto-payment-grey.svg">
            
          </div>
          <div class="name">Оплата услуг ВЦКП ЛС 810000002</div>

          
            <span class="badge-top badge-history">1</span>
          

        </a>
      </div>

      <div class="dropdown" id="subscription-72346">
  <ul class="dropdown-menu">
    
      
<li>
  <a href="/tranzaxis/72346/invoice/7/pay">
    
    21&nbsp;210.30&nbsp;₽
  </a>
  
</li>

      
        <li class="divider"></li>
      
    
      
<li>
  <a href="/tranzaxis/72346/invoices" class="name-with-logo">
    
      <i class="icon icon-refresh"></i>
    
    Проверить
  </a>
  
</li>

<li>
  <a onclick="showAjaxDialog('/tranzaxis/72346/alias')" href="javascript:void(0)">
    
      <i class="icon icon-pencil"></i>
    
    Назвать
  </a>
  
</li>

<li>
  <a href="/tranzaxis/72346/edit">
    
      <i class="icon icon-cog"></i>
    
    Настроить
  </a>
  
</li>

<li>
  <a href="/tranzaxis/72346/unsubscribe" data-post-confirmation-title="Удаление подписки" class="post" data-post-confirmation="Вы уверены, что хотите удалить подписку?">
    
      <i class="icon icon-remove"></i>
    
    Удалить
  </a>
  
</li>

      
    
  </ul>
</div>
    </li>
  

  

  <script>
  $(function() {
    $('.remove-payment').on('click', function(event) {
      var payment = $(this),
          paymentId = payment.data('payment-id'),
          vendorId = payment.data('vendor-id'),
          removeMessage = payment.data('remove-message');

      if (confirm(removeMessage))
        location = '/vendorpayments/remove?vendorId=' + vendorId + '&paymentId=' + paymentId + '&authenticityToken=ab73bd187efb2773749f947860e60af7a060528e';

      return false;
    });
  });
</script>


  <li>
  <div class="vendor">
    <a href="/payments/dashboard">
      <div class="logo" style="background-image: url(/public/images/vendors/all-vendors.svg); background-size: 25%"></div>
      <div class="name">Платежи и переводы</div>
    </a>
  </div>
</li>
</ul></div>

<div class="row-fluid">
  <div class="span6" id="welcome-tour-accounts"><div id="welcome-page-accounts-container" class="accounts-container accounts-actual">
  <div class="sub-header accounts">
    <h2>
      <a href="/overview">
        <i class="icon"></i>Счета
        <span id="accounts-can-spend" class="pull-right">
  
    <span class="text">Финансовая свобода</span>

    <span class="amount-holder">
      <div class="arrow"></div>
      <span class="amount">
        <span class="account-stale-warning icon-warning" data-toggle="popover" data-content="" data-trigger="hover" data-placement="top"></span>
        2&nbsp;674&nbsp;817.26
        <span class="currency">₽</span>
      </span>
      <small class="my-assets">
        <br>Моих средств 
        <span class="currency">₽</span>
      </small>
    </span>
  
</span>
      </a>
    </h2>
  </div>

  <table class="table accounts">
    <thead class="accounts-header">
    <tr>
      <th></th>
      <th class="account">Счёт</th>
      <th></th>
      <th class="right">
        <span class="account-stale-warning icon-warning" data-toggle="popover" data-content="" data-trigger="hover" data-placement="top"></span>
        Доступно
      </th>
    </tr>
    </thead>

    <tbody id="accounts-body">


  
  <tr>
    <td>
      <span class="account-icon account-blue card"></span>
    </td>
    <td class="account"><a href="/statement?accountId=10034">Зарплатный</a></td>
    <td>

  <script>function AccountCards(){function n(n){$('.account-cards [data-toggle="popover"]',n).each(function(n,o){$(o).popover()})}this.init=function(o){n(o)}}</script>
  <script>
    initPage(new AccountCards().init);
  </script>
  <div class="pull-right account-cards">
    
      
        
        
        <a href="/cards/overview?cardIdToHighlight=10066" class="icon-card-mastercard align-middle m-l-1" data-toggle="popover" data-content="Travel *6192" data-trigger="hover" data-placement="top" data-original-title="" title="">
        </a>
      
        
        
        <a href="/cards/overview?cardIdToHighlight=10067" class="icon-card-mastercard align-middle m-l-1" data-toggle="popover" data-content="Золотая *2224" data-trigger="hover" data-placement="top" data-original-title="" title="">
        </a>
      
        
        
        <a href="/cards/overview?cardIdToHighlight=10074" class="icon-card-mastercard align-middle m-l-1" data-toggle="popover" data-content="Яркая *9074" data-trigger="hover" data-placement="top" data-original-title="" title="">
        </a>
      
        
        
        <a href="/cards/overview?cardIdToHighlight=10088" class="icon-card-mastercard align-middle m-l-1" data-toggle="popover" data-content="Standard КХЛ *1111" data-trigger="hover" data-placement="top" data-original-title="" title="">
        </a>
      
        
        
        <a href="/cards/overview?cardIdToHighlight=10091" class="icon-card-mir align-middle m-l-1" data-toggle="popover" data-content="Детская *4123" data-trigger="hover" data-placement="top" data-original-title="" title="">
        </a>
      
        
        
        <a href="/cards/overview?cardIdToHighlight=10092" class="icon-card-null align-middle m-l-1" data-toggle="popover" data-content="Electon *0556" data-trigger="hover" data-placement="top" data-original-title="" title="">
        </a>
      
        
        
        <a href="/cards/overview?cardIdToHighlight=10591" class="icon-card-expiring analytics-btn-expiring align-middle m-l-1" data-toggle="popover" data-content="Срок действия карты Единая карта петербуржца *1123 заканчивается 08.12.2022" data-trigger="hover" data-placement="top" data-original-title="" title="">
        </a>
      
    
    
  </div>
</td>
    <td class="right account-value">338&nbsp;693.00&nbsp;₽</td>
  </tr>

  
  <tr>
    <td>
      <span class="account-icon account-green card"></span>
    </td>
    <td class="account"><a href="/statement?accountId=10036">Счёт *4467</a></td>
    <td>

  <script>function AccountCards(){function n(n){$('.account-cards [data-toggle="popover"]',n).each(function(n,o){$(o).popover()})}this.init=function(o){n(o)}}</script>
  <script>
    initPage(new AccountCards().init);
  </script>
  <div class="pull-right account-cards">
    
    
      <a href="" class="icon-cards align-middle" title="У вас 14 карт"></a>
    
  </div>
</td>
    <td class="right account-value">98&nbsp;726.00&nbsp;₽</td>
  </tr>

  
  <tr>
    <td>
      <span class="account-icon account-red other"></span>
    </td>
    <td class="account"><a href="/statement?accountId=10040">Счёт *6667</a></td>
    <td>
</td>
    <td class="right account-value">6&nbsp;749.00&nbsp;€</td>
  </tr>

  
  <tr>
    <td>
      <span class="account-icon account-dark-blue other"></span>
    </td>
    <td class="account"><a href="/statement?accountId=10048">Счёт *5557</a></td>
    <td>
</td>
    <td class="right account-value">5&nbsp;383.00&nbsp;$</td>
  </tr>

  
  <tr>
    <td>
      <span class="account-icon account-light-green other"></span>
    </td>
    <td class="account"><a href="/statement?accountId=10051">Счёт *5678</a></td>
    <td>
</td>
    <td class="right account-value">-9&nbsp;814.00&nbsp;₽</td>
  </tr>



  
  <tr>
    <td><span class="account-icon account-blue other"></span></td>
    <td class="account"><a href="/statement?accountId=10047">Накопительный *0001</a></td>
    <td></td>
    <td class="right account-value">1&nbsp;500&nbsp;100.00&nbsp;₽</td>
  </tr>



  
  <tr>
    <td><span class="account-icon account-blue deposit"></span></td>
    <td class="account"><a href="/deposits">Вклады</a></td>
    <td></td>
    <td class="right account-value">223&nbsp;456.00&nbsp;₽</td>
  </tr>


<script id="can-spend-template" type="custom-template">
  
    <span class="text">Финансовая свобода</span>

    <span class="amount-holder">
      <div class="arrow"></div>
      <span class="amount">
        <span class="account-stale-warning icon-warning" data-toggle="popover" data-content="" data-trigger="hover" data-placement="top"></span>
        2 674 817.26
        <span class="currency">₽</span>
      </span>
      <small class="my-assets">
        <br>Моих средств 
        <span class="currency">₽</span>
      </small>
    </span>
  
</script>

<script>
  window.accountsAjaxData = {
    accountActuality: {
      isActual: true,
      staleAccountsWarningText: "",
      mainAccountsStaleErrorText: ""
    },
    accountsSize: 8
  }
</script></tbody>

    
      <tbody id="offers-as-accounts-body">
      <tr class="offer-for-product type-application APPROVED">
    <td class="account-icon card"></td>
    <td class="account">Потребительский кредит одобрен<div class="status-message muted">Получите до 18.11.2022</div></td>
    <td class="right"></td>
    <td class="right">
      100&nbsp;000.00&nbsp;₽
      <div class="offer-apply">
        <a href="/loan-applications/form?applicationRef=loan-with-insurance" class="btn btn-small btn-primary">Перейти к получению</a>
      </div>
    </td>
  </tr><tr class="offer-for-product type-offer ">
    <td class="account-icon card"></td>
    <td class="account">Потребительский кредит предварительно одобрен<div class="status-message muted"></div></td>
    <td class="right"></td>
    <td class="right">
      120&nbsp;000.00&nbsp;₽
      <div class="offer-apply">
        <a href="/loan-offer/absd-efgh" class="btn btn-small btn-primary">Получить</a>
      </div>
    </td>
  </tr></tbody>
      <script id="offer-template-welcome" type="custom-template">
  <tr class="offer-for-product type-TYPE STATUS">
    <td class="account-icon card"></td>
    <td class="account">OFFER_MESSAGE<div class="status-message muted">STATUS_MESSAGE</div></td>
    <td class="right"></td>
    <td class="right">
      OFFER_AMOUNT
      <div class="offer-apply">
        <a href="OFFER_URL" class="btn btn-small BUTTON_CLASS">BUTTON_TEXT</a>
      </div>
    </td>
  </tr>
</script>

<script>function ProductOffer(e,n,t){function o(e){if(e)return i.replace(/OFFER_AMOUNT/g,e.amount).replace(/CREDIT_LIMIT/g,e.amount).replace(/OFFER_MESSAGE/g,e.message).replace(/STATUS_MESSAGE/g,e.statusMessage||"").replace(/STATUS_TEXT/g,e.statusText||"").replace(/OFFER_URL/g,e.actionUrl).replace(/BUTTON_TEXT/g,e.buttonText).replace(/BUTTON_CLASS/g,r(e)).replace(/STATUS/g,e.status||"").replace(/TYPE/g,e.type).replace(/OFFER_RATE/g,e.rate).replace(/CREATED_AT/g,e.createdAt||"")}function r(e){return"application"===e.type&&"REQUIRED_DOCUMENTS"===e.status?"btn-secondary":"btn-primary"}function c(e){$.each(e,function(e,n){$(f.container).append(o(n))}),$.mobile&&$(f.container).enhanceWithin()}function a(e){$(f.container).prepend(o(e)),$.mobile&&$(f.container).enhanceWithin()}var f=this,i=$("#offer-template-"+e).html().trim();return f.context=e,f.container=n,f.crmEvents=new CrmEvents(t),f.showApplicationFirst=function(){$.when(window.splashRequest).done(function(){window.personalOfferPrefetched?a(window.personalOffer):$.get("/loan-applications/product-offer").then(function(e){a(e)})})},f.showOffer=function(){$.get("/offers/product-offer?context="+f.context).then(function(e){c([e])})},f.show=function(e){$.when($.get("/offers/product-offer?context="+f.context),window.splashRequest).then(function(n){var t=n&&n[0];window.personalOfferPrefetched?(c([window.personalOffer,t]),"function"==typeof e&&e()):$.get("/loan-applications/product-offer").then(function(n){c([n,t]),"function"==typeof e&&e()})})},f}</script>

<script>
  $(function() {
    new ProductOffer('welcome', '#offers-as-accounts-body', 'ab73bd187efb2773749f947860e60af7a060528e').show();
  })
</script>
    
  </table>

  <div class="container" id="single-account-hints">
  <div class="row">
    <div class="span4 first">
      <div class="icon"></div><p>Открыть дополнительные <br><a href="/accounts">счета</a></p>
    </div>
    <div class="span4 second">
      <div class="icon"></div><p>Заказать новые <br><a href="/cards">карты</a></p>
    </div>
    <div class="span4 third">
      <div class="icon"></div><p>Оформить <br><a href="/deposits">вклад</a></p>
    </div>
  </div>
</div>
</div>

<script>function AccountsViewUtils(){function a(a){$(a).removeClass("accounts-loading"),$(a).addClass("accounts-actual"),$(a).removeClass("accounts-stale")}function t(a){$(a).removeClass("accounts-loading"),$(a).removeClass("accounts-actual"),$(a).addClass("accounts-stale")}var n=this;n.renderCanSpend=function(a){$(a).html($("#can-spend-template").html()),$(a).removeClass("hidden")},n.addTableSorter=function(a){$("table.sortable",a).tablesorter()},n.setStalePopup=function(a,t){t&&($(".account-stale-warning",a).data("content",t),$(".account-stale-warning",a).popover())},n.toggleAccountsIsActualClass=function(n,s){s?a(n):t(n)}}</script>
<script>function ReloadAjaxController(t){var e=this,n=t.eventHandler,o=t.retriesCount,a=t.reloadTimeout,i=t.timeoutIncrement,r=t.reloadFunction,u=a,l=1;e.init=function(){r()},e.updateState=function(t){t.errorMessage||t.accountActuality.isActual||l>=o?n.onFinalStateHandler(t):(l++,u+=i,setTimeout(r,u))}}</script>
<script>function ReloadHtmlController(e){function n(){$(r).load(a,function(){var e=i();l.onLoadHandler(e),o.updateState(e)})}var t=this,o=new ReloadAjaxController({eventHandler:e.eventHandler,retriesCount:e.retriesCount,reloadTimeout:e.reloadTimeout,timeoutIncrement:e.timeoutIncrement,reloadFunction:n}),r=e.containerId,a=e.url,i=e.getDataFunc,l=e.eventHandler;t.init=function(){o.init()}}</script>
<script>function logAccountActualityException(){$.ajax("/new-accounts/log-exception")}</script>
<script>function WelcomePageAccountsHandler(t){function n(t){$(e).toggleClass("single-account",1==t.accountsSize)}var a=this,e=t.containerId,c=t.canSpendId,o=t.viewUtils;a.onLoadHandler=function(t){n(t),o.renderCanSpend(c)},a.onFinalStateHandler=function(t){var n=t.accountActuality;o.toggleAccountsIsActualClass(e,n.isActual),n.isActual?$("#page-alerts-container #mainAccountsStaleError").remove():(o.setStalePopup(c,n.staleAccountsWarningText),o.setStalePopup($(".accounts-header",e).selector,n.staleAccountsWarningText),$("#page-alerts-container").append('<div><div id="mainAccountsStaleError" class="alert alert-error">'+n.mainAccountsStaleErrorText+"</div></div>"),logAccountActualityException())}}</script>

<script>
  var welcomePageController = new WelcomePageAccountsHandler({
    containerId: '#welcome-page-accounts-container',
    canSpendId: '#accounts-can-spend',
    viewUtils: new AccountsViewUtils()
  });

  var reloadController = new ReloadHtmlController({
    containerId: '#accounts-body',
    url: '/new-accounts/rows',
    getDataFunc: function() {
      return window.accountsAjaxData;
    },
    eventHandler: welcomePageController,
    retriesCount: 5,
    reloadTimeout: 2000,
    timeoutIncrement: 1000
  });

  initPage(reloadController.init);
</script></div>

  <div class="span6">
    <div class="sub-header transactions">
      <h2>
        <a href="/statement">
          <i class="icon"></i>Последние операции
        </a>
      </h2>
    </div>

    <div id="last-transactions"><table class="table">
  
    <tbody><tr>
      <td>
        <div class="date">09.09.2022</div>
        
        <div class="time muted">22:00</div>
      </td>
      <td class="details">
        <a href="javascript:showAjaxDialog('/transactions/details?id=100172&amp;accountId=10034')">
          <span class="name">Лукойл</span><br>
          <span class="description">Заправка бензина 95Е, 40 л., карта *6192</span>
        </a>
      </td>
      <td class="right amount negative">
        -67.00&nbsp;₽
      </td>
    </tr>
  
    <tr>
      <td>
        <div class="date">09.09.2022</div>
        
        <div class="time muted">22:00</div>
      </td>
      <td class="details">
        <a href="javascript:showAjaxDialog('/transactions/details?id=100174&amp;accountId=10034')">
          <span class="name">АО Весело живём</span><br>
          <span class="description">Покупка товара в универмаге, карта *6192</span>
        </a>
      </td>
      <td class="right amount negative">
        -113.00&nbsp;₽
      </td>
    </tr>
  
    <tr>
      <td>
        <div class="date">10.09.2022</div>
        
        <div class="time muted">22:00</div>
      </td>
      <td class="details">
        <a href="javascript:showAjaxDialog('/transactions/details?id=100169&amp;accountId=10034')">
          <span class="name">Лукойл</span><br>
          <span class="description">Заправка бензина 95Е, 40 л., карта *1917</span>
        </a>
      </td>
      <td class="right amount negative">
        -265.00&nbsp;₽
      </td>
    </tr>
  
    <tr>
      <td>
        <div class="date">11.09.2022</div>
        
        <div class="time muted">22:00</div>
      </td>
      <td class="details">
        <a href="javascript:showAjaxDialog('/transactions/details?id=100163&amp;accountId=10034')">
          <span class="name">Пётр Петрович</span><br>
          <span class="description">Возврат долга</span>
        </a>
      </td>
      <td class="right amount positive">
        5&nbsp;140.00&nbsp;₽
      </td>
    </tr>
  
    <tr>
      <td>
        <div class="date">11.09.2022</div>
        
        <div class="time muted">22:00</div>
      </td>
      <td class="details">
        <a href="javascript:showAjaxDialog('/transactions/details?id=100166&amp;accountId=10034')">
          <span class="name">Лукойл</span><br>
          <span class="description">Заправка бензина 95Е, 40 л., карта *4267</span>
        </a>
      </td>
      <td class="right amount negative">
        -14.00&nbsp;₽
      </td>
    </tr>
  
  
</tbody></table></div>
  </div>
</div>


  <div class="sub-header event-calendar">
    <h2 class="my-events submenu-heading">
      <a href="/ical/events">
        <i class="icon-calendar"></i>
        Мои события
      </a>
    </h2>
  </div>
  <div id="event-time-line"><div class="time-line-container">
  
    <a href="javascript:showAjaxDialog('/recurrent-payments/edit?id=1', null, null, function(req){document.location.pathname='/subscriptions';req.status=0;});" class="calendar-event event-recurrent" title="Регулярный перевод">
      <div class="event-date"><div class="day"><span>09</span></div><div class="month">11</div> </div>
      <div class="event-type">Регулярный перевод</div>
      <div class="event-details">150.50&nbsp;₽</div>
    </a>
  
    <a href="javascript:showAjaxDialog('/recurrent-payments/edit?id=2', null, null, function(req){document.location.pathname='/subscriptions';req.status=0;});" class="calendar-event event-recurrent" title="Регулярный перевод">
      <div class="event-date"><div class="day"><span>15</span></div><div class="month">11</div> </div>
      <div class="event-type">Регулярный перевод</div>
      <div class="event-details">10.00&nbsp;₽</div>
    </a>
  
    <a href="javascript:showAjaxDialog('/recurrent-payments/edit?id=1', null, null, function(req){document.location.pathname='/subscriptions';req.status=0;});" class="calendar-event event-recurrent" title="Регулярный перевод">
      <div class="event-date"><div class="day"><span>16</span></div><div class="month">11</div> </div>
      <div class="event-type">Регулярный перевод</div>
      <div class="event-details">150.50&nbsp;₽</div>
    </a>
  
    <a href="/cards?cardIdToHighlight=10068" class="calendar-event event-cardExpiration" title="Окончание карты">
      <div class="event-date"><div class="day"><span>18</span></div><div class="month">11</div> </div>
      <div class="event-type">Окончание карты</div>
      <div class="event-details">Travel</div>
    </a>
  
    <a href="/cards?cardIdToHighlight=10070" class="calendar-event event-cardExpiration" title="Окончание карты">
      <div class="event-date"><div class="day"><span>18</span></div><div class="month">11</div> </div>
      <div class="event-type">Окончание карты</div>
      <div class="event-details">Cash Back</div>
    </a>
  
    <a href="/cards?cardIdToHighlight=10108" class="calendar-event event-cardExpiration" title="Окончание карты">
      <div class="event-date"><div class="day"><span>18</span></div><div class="month">11</div> </div>
      <div class="event-type">Окончание карты</div>
      <div class="event-details">Классическая</div>
    </a>
  
  <div class="calendar-event event-add" onclick="showAjaxDialog('/ical/events/personal-event')">
    <div class="event-type">Личное событие</div>
  </div>
</div></div>


<script>
  function showVendor(vendorElement) {
    var title = vendorElement.title ? vendorElement.title : vendorElement.attr('title');
    location.href = "/vendors#" + title;
  }

  $(function() {
    $('#welcome-tour-accounts').load('/new-accounts/welcome-list');
    $('#event-time-line').load('/eventcalendar/timeline');
    $('#last-transactions').load('/welcome/lastTransactions');
    $('#vendors-container').load('/welcome/payments');
  });
</script>


  <script>var OneTimeHint=function(e){function t(){if(!$(".btn.gotit").length){var t=e.key.replace(/\./g,"-"),o=e.message+'<button id="'+t+'" class="btn btn-primary btn-small gotit">'+e.buttonLabel+"</button>";i.popover=$(e.target).popover({animation:!0,placement:e.placement,trigger:"manual",content:o,html:!0}).popover("show"),i.popover.next().addClass("one-time-hint"),$("#"+t+".btn.gotit").on("click",n)}}function n(){i.popover.popover("hide"),$.post("/hints/hide",{key:e.key,authenticityToken:e.authenticityToken})}var i=this;window.OneTimeHintDeferred||(window.OneTimeHintDeferred=$.when()),this.init=function(){var n=window.OneTimeHintDeferred,i=window.OneTimeHintDeferred=$.Deferred();n.then(function(){$.getJSON("/hints/show",{key:e.key},function(e){e&&setTimeout(t,1e3),i.resolve()})})}};</script>
  <script>
    $(function() {
      if (window.welcomeTour && window.welcomeTour.startedOnPageLoad) return;
      new OneTimeHint({
        target: '#bank-overview',
        key: 'HINT_Bank.overview.full',
        message: 'Полный обзор доступен из меню',
        buttonLabel: 'Ясно',
        placement: 'bottom',
        authenticityToken: 'ab73bd187efb2773749f947860e60af7a060528e'
      }).init();
    });
  </script>


  <script>var OneTimeHint=function(e){function t(){if(!$(".btn.gotit").length){var t=e.key.replace(/\./g,"-"),o=e.message+'<button id="'+t+'" class="btn btn-primary btn-small gotit">'+e.buttonLabel+"</button>";i.popover=$(e.target).popover({animation:!0,placement:e.placement,trigger:"manual",content:o,html:!0}).popover("show"),i.popover.next().addClass("one-time-hint"),$("#"+t+".btn.gotit").on("click",n)}}function n(){i.popover.popover("hide"),$.post("/hints/hide",{key:e.key,authenticityToken:e.authenticityToken})}var i=this;window.OneTimeHintDeferred||(window.OneTimeHintDeferred=$.when()),this.init=function(){var n=window.OneTimeHintDeferred,i=window.OneTimeHintDeferred=$.Deferred();n.then(function(){$.getJSON("/hints/show",{key:e.key},function(e){e&&setTimeout(t,1e3),i.resolve()})})}};</script>
  <script>
    $(function() {
      if (window.welcomeTour && window.welcomeTour.startedOnPageLoad) return;
      new OneTimeHint({
        target: '#smart-payment',
        key: 'HINT_PRIVATE_TO_CORPORATE_PAYMENT',
        message: 'Мы можем подсказать реквизиты организации - всего лишь введите ИНН в умный поиск!',
        buttonLabel: 'Ясно',
        placement: 'bottom',
        authenticityToken: 'ab73bd187efb2773749f947860e60af7a060528e'
      }).init();
    });
  </script>


        

  <div class="bottom-cms-content">
    
    
      <div class="cms-content"></div>
    
  </div>

      </div>

    </div>
    <div class="push"></div>
  </div>
</div>

<div id="footer">
  
    <div class="cms-content"></div>
  
  <div id="footer-info">
    <div class="social-links pull-right">
      <a class="icon-vkontakte-letter" href="https://vk.com/bspb" target="_blank"></a> <a class="icon-odnoklassniki" href="https://www.odnoklassniki.ru/bspb" target="_blank"></a> <a class="icon-telegram" href="https://t.me/mybspb" target="_blank"></a>
    </div>

    <div class="links pull-right">

      
        
        
        
        
        
        
        
      

      
      
      <div class="locales">
        <button type="button" class="btn btn-text btn-toggle active" data-toggle="button" aria-pressed="false" autocomplete="off">
          <div class="handle"></div>
        </button>
      </div>

      
        <a class="user-manual" target="_blank" rel="noopener noreferrer" href="https://bspb.ru/media/rukovodstvo_polzovatelja_i2_B_945386ba7f.pdf">Руководство пользователя</a>
        
      
      

      <a class="website" href="https://www.bspb.ru/">Сайт банка</a>
    </div>

    <div class="copyright">© 1990 – 2022 ПАО «Банк «Санкт-Петербург»</div>
    <div class="license">Генеральная лицензия Банка России на совершение банковских операций №436 от 31.12.2014</div>
  </div>
</div>



<script>function Offers(n,t){function e(t){var e=$(t.target).closest(".offer"),o=i(e);$.post(t.target.href,{authenticityToken:n}),s.crmEvents.notifyDecline(o);var f=$(".offer:not(:visible):first");return e.animateTo($("#offers-button"),function(){e.remove(),$(".not-refused-offers .offer").length||$("#show-all-offers").hide(),r(f)}),!1}function r(n){n.length&&s.crmEvents.notifyShown(i(n))}function i(n){return n.attr("id").replace("offer-","")}function o(n){if(a(n))return!0;var e=$(this).find(".offer-action"),r=e.attr("href");if(!r)return!0;if(!t)return!0;var o=i($(this));return s.crmEvents.notifyClick(o).done(function(){r.indexOf("/return-call")>=0&&s.crmEvents.notifyDecline(o);var n=e.attr("target");n?window.open(r,n):s.openUrl(r)}),!1}function f(n){var e=$(n.target).closest("a"),r=e.attr("href");if(!r)return!0;if(!t)return!0;var i=c(e.closest("li"));return s.crmEvents.notifyClick(i).done(function(){r.indexOf("/return-call")>=0&&s.crmEvents.notifyDecline(i);var n=e.attr("target");n?window.open(r,n):window.location.hash=r}),!1}function c(n){return n.data("offer-ref")}function a(n){var t=$(n.target).closest("a");return t.is("a")&&t.closest(".offer-text").length>0}var s=this;s.crmEvents=new CrmEvents(n,t),s.openUrl=function(n){window.location.assign(n)},s.init=function(){$(".crm-offer:visible").each(function(n,t){var e=$(t).attr("id").replace("offer-","");s.crmEvents.notifyShown(e)}),$(".crm-offer .decline").on("click",e),$(".crm-offer").on("click",o)},s.mobileInit=function(){$("#credit-offer-banner li").each(function(n,t){if(!$(t).is(":hidden")){var e=c($(t));s.crmEvents.notifyShown(e),$(t).on("click",f)}})}}</script>

<script>
  $(function() {
    validator.init();
    validator.replaceNativeValidation();
    new DoubleClickPreventer().init(document);
    new DisableFormBeforeConfirmation().init();
    new ConfirmDialog('ab73bd187efb2773749f947860e60af7a060528e').init();
    new AjaxModal().init();
    new IframeSessionExpirationHandler().init();
    new FormNormalizer().init(document.body);

    new ExternalLinksOpener({
      textLeavingSiteWarning: 'Вы покидаете сайт интернет-банка БСПб и будете перенаправлены на сайт партнера',
      textForward: 'Перейти',
      textCancel: 'Вернуться'
    }).init();
  });

  
    var offers = new Offers('ab73bd187efb2773749f947860e60af7a060528e', true);
    $(function() {offers.init()});
  
</script>

<div id="default-dialog" class="modal fade hidden" tabindex="-1"></div>



  <script>function FeedbackPopup(e,n){function c(e){e.find(".active").show(),e.find(".passive").hide()}function t(e){e.find(".active").hide(),e.find(".passive").show()}function o(){var e=$(this),n=e.siblings();c(e),t(n),e.addClass("selected"),n.removeClass("selected"),$("#feedback-comment-block").slideDown(),$('[name="feedback.answer"]').val(e.data("answer"))}function i(){var e=$(this),n=e.siblings().filter(":not(.selected)");c(e),t(n)}function a(){var e=$(this);0===$(".emoticon-btn.selected").length?c($(".emoticon-btn")):e.hasClass("selected")||t(e)}function s(){d(function(){$("#feedback-popup").clone().appendTo("#feedback-popup").animateTo($(".help-menu")),$("#feedback-popup").hide()})}function f(){d(function(){$("#feedback-popup").hide()})}function d(e){$.post("/feedback/close",{authenticityToken:n},e)}function u(){$("#feedback-popup-success").show(),setTimeout(function(){$("#feedback-popup-success").fadeOut(1e3)},4e3)}function p(){$("#feedback-submit").prop("disabled",!0),f(),u()}function b(e){e.preventDefault();var c=$('[name="feedback.answer"]',"#feedback-form").val(),t=$('[name="feedback.comment"]',"#feedback-form").val();$.post("/feedback/submit",{authenticityToken:n,"feedback.answer":c,"feedback.comment":t},p)}this.init=function(){e&&$.get("/feedback/timeout",function(e){setTimeout(function(){$("#feedback-popup").show()},e.timeout)}),$(".emoticon-btn").hover(i,a),$(".emoticon-btn").on("click",o),$(".close-feedback-popup").on("click",s),$("#feedback-submit").on("click",b)}}</script>
  <div id="feedback-popup-success" class="feedback-container print-hidden hidden">
  <div>
    <span>
      <img src="/public/images/feedback-popup/success.svg" alt="success">
    </span>
    <span class="feedback-popup-success-message">Спасибо за ваш отзыв!</span>
  </div>
</div>

  <script>
    $(function() {
      var feedbackAllowed = false;
      new FeedbackPopup(feedbackAllowed, 'ab73bd187efb2773749f947860e60af7a060528e').init();
    });
  </script>

  <div id="feedback-popup" class="feedback-container print-hidden hidden">
    <div>
      <div class="title">Оцените Интернет-банк</div>
      <span class="close-feedback-popup feedback-close-icon">
        <img src="/public/images/feedback-popup/close.svg" alt="close">
      </span>
    </div>
    <div id="emoticons">
      <div class="emoticon-btn" data-answer="GOOD">
        <img class="emoticon active" src="/public/images/feedback-popup/smile-face-good-color.svg" alt="good">
        <img class="emoticon passive hidden" src="/public/images/feedback-popup/smile-face-good-bw.svg" alt="good">
        <div class="emoticon-label">Нравится</div>
      </div>
      <div class="emoticon-btn" data-answer="NORMAL">
        <img class="emoticon active" src="/public/images/feedback-popup/smile-face-normal-color.svg" alt="normal">
        <img class="emoticon passive hidden" src="/public/images/feedback-popup/smile-face-normal-bw.svg" alt="normal">
        <div class="emoticon-label">Хорошо</div>
      </div>
      <div class="emoticon-btn" data-answer="BAD">
        <img class="emoticon active" src="/public/images/feedback-popup/smile-face-bad-color.svg" alt="bad">
        <img class="emoticon passive hidden" src="/public/images/feedback-popup/smile-face-bad-bw.svg" alt="bad">
        <div class="emoticon-label">Не нравится</div>
      </div>
    </div>
    <div id="feedback-comment-block">
      <div id="feedback-comment-title">
        <span class="title">Комментарий&nbsp;</span>
        <span class="subtitle">(Дополнительно)</span>
      </div>
      <div id="feedback-form">
        <input type="hidden" name="feedback.answer">
        <textarea name="feedback.comment" id="feedback-comment" maxlength="4000" rows="3" placeholder=""></textarea>
        <hr>
        <div id="feedback-action-buttons">
          <a class="close-feedback-popup btn btn-small btn-secondary">Ответить позже</a>
          <button id="feedback-submit" class="btn btn-small btn-primary">Отправить ответ</button>
        </div>
      </div>
    </div>
  </div>





  
  <script src="/public/javascripts/bizone/bzfp.js"></script>
  <script src="/public/javascripts/bizone/BiZoneProxy.js?805d352e7d9"></script>

  <script>
    window.biZoneProxy = new BiZoneProxy();
  </script>



  <script src="/public/javascripts/bizone/BiZone.js?805d352e7d9"></script>

  <script>
    initPage(new BiZone().init);
  </script>


</body></html>